{"version":3,"sources":["db.js","race.js","components/event-list.js","components/skill-list.js","player.js","support.js","nurturing.js","skill.js","index.js"],"names":["adapter","LocalStorage","db","low","set","jsonDb","players","write","supports","skills","events","updateTime","races","get","value","1","2","3","4","5","6","player","filterList","class","text","grade","place","ground","distanceType","direction","side","columns","map","label","title","dataIndex","filters","onFilter","record","Race","props","allRaceList","race","index","key","useState","selectedRowKeys","setSelectedRowKeys","rowSelection","onChange","selectedRows","onSelect","dataSource","pagination","sorter","extra","EventBox","ChoiceItem","event","choiceList","choice","ResultItem","result","gutter","className","span","content","name","EventList","eventList","id","find","pid","filter","length","SkillBox","skill","SkillItem","describe","size","rare","src","imgUrl","preview","width","SkillList","skillList","skillId","CheckboxGroup","Group","PlayerCard","isModalVisible","setIsModalVisible","data","onClick","visible","onOk","onCancel","AdaptBox","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","Player","allPlayerList","playerList","setPlayerList","checkedList","setCheckedList","options","checkedValues","tempList","flag","forEach","attr","item","xxl","lg","sm","xs","SupportCard","trainingEventSkill","possessionSkill","Support","state","list","supportList","prevProps","this","setState","support","React","Component","defaultProps","Column","NurturingSupport","alt","RaceList","raceList","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","isRaceVisible","setIsRaceVisible","selected","setSupports","setPlayer","setRaces","setVisible","closePlayer","showSupport","closeSupport","closeRace","type","onClose","getContainer","style","position","closable","placement","mask","maskClosable","assign","newData","Object","Skill","allSkillList","allSupportList","setSkillList","setSupportList","skillSupportList","setSkillSupportList","skillName","setSkillName","handleOk","handleCancel","rareLabel","tempSkillList","indexOf","tempSupportList","showModal","Header","Content","Footer","App","zIndex","theme","mode","Item","to","padding","exact","path","component","frameBorder","scrolling","height","target","rel","href","border","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c24c358.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport axios from 'axios'\nimport jsonDb from './assert/db.json'\n\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\n// console.log(jsonDb)\n/*\nasync function getdbd(){\n  let res = await axios.get('http://urarawin.com/dbd')\n  let localTime = db.get('updateTime').value()\n  console.log(localTime ,res.data.updateTime, localTime === res.data.updateTime)\n  if (localTime && localTime === res.data.updateTime){\n    console.log('latest 不需要同步')\n  }else{\n    console.log(\"同步\")\n    res = await axios.get('http://urarawin.com/db')\n    db.set('players',res.data.players).write()\n    db.set('supports',res.data.supports).write()\n    db.set('skills',res.data.skills).write()\n    db.set('events',res.data.events).write()\n    db.set('updateTime',res.data.updateTime).write()\n    db.set('races',res.data.races).write()\n    //重新加载\n    db.get('selected').value()||db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n  }\n}\ngetdbd()\n*/\ndb.set('players',jsonDb.players).write()\ndb.set('supports',jsonDb.supports).write()\ndb.set('skills',jsonDb.skills).write()\ndb.set('events',jsonDb.events).write()\ndb.set('updateTime',jsonDb.updateTime).write()\ndb.set('races',jsonDb.races).write()\n//重新加载\ndb.get('selected').value()||db.set('selected',{\n  supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n  player:{},\n  races:[]\n}).write()\nexport  default db\n","import React,{useState} from 'react';\nimport db from './db.js'\n\nimport { Table } from 'antd';\n\n // { name: '葵ステークス',\n  //   date: '2年目 5月後半',\n  //   dateNum: 34,\n  //   class: 'クラシック',\n  //   grade: 'G3',\n  //   place: '京都',\n  //   ground: '芝',\n\n  //   distance: '1400',\n  //   distanceType: '短距離',\n  //   order: '右' }\n  // { class: [ 'ジュニア', 'クラシック', 'クラシックシニア', 'シニア' ],\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\n  // place: [ '中京', '函館', '札幌', '小倉', '新潟', '阪神', '中山', '京都', '東京', '福島', '大井' ],\n  // ground: [ '芝', 'ダート' ],\n  // distanceType: [ 'マイル', '短距離', '中距離', '長距離' ],\n  // direction: [ '左', '右', '直' ],\n  // side: [ null, '内', '外', '線' ] }\n const filterList= { class:\n    [ { text: '初等/ジュニア', value: 'ジュニア' },\n      { text: '经典/クラシック', value: 'クラシック' },\n      { text: '经典&高级/クラシックシニア', value: 'クラシックシニア' },\n      { text: '高级/シニア', value: 'シニア' } ],\n   grade:\n   [\n      { text: 'Pre-OP', value: 'Pre-OP' },\n      { text: 'OP', value: 'OP' },\n      { text: 'G1', value: 'G1' },\n      { text: 'G2', value: 'G2' },\n      { text: 'G3', value: 'G3' }\n    ],\n   place:\n    [ { text: '中京', value: '中京' },\n      { text: '函館', value: '函館' },\n      { text: '札幌', value: '札幌' },\n      { text: '小倉', value: '小倉' },\n      { text: '新潟', value: '新潟' },\n      { text: '阪神', value: '阪神' },\n      { text: '中山', value: '中山' },\n      { text: '京都', value: '京都' },\n      { text: '東京', value: '東京' },\n      { text: '福島', value: '福島' },\n      { text: '大井', value: '大井' } ],\n   ground: [ { text: '芝', value: '芝' }, { text: 'ダート', value: 'ダート' } ],\n   distanceType:\n   [\n     { text: '短距離', value: '短距離' },\n     { text: 'マイル', value: 'マイル' },\n      { text: '中距離', value: '中距離' },\n      { text: '長距離', value: '長距離' } ],\n   direction:\n    [ { text: '左', value: '左' },\n      { text: '右', value: '右' },\n      { text: '直', value: '直' } ],\n   side:\n    [ { text: '空', value: null },\n      { text: '内', value: '内' },\n      { text: '外', value: '外' },\n      { text: '線', value: '線' } ] }\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\n                  \"place\", \"ground\", \"distance\",\n                  \"distanceType\", \"direction\", \"side\"]\n  const columns = labels.map(label=> {\n    if(filterList['class']){\n      return {\n        title:label,\n        dataIndex:label,\n        filters:filterList[label],\n        onFilter: (value, record) => record[label] === value,\n      }\n    }else{\n      return{\n        title:label,\n        dataIndex:label\n      }\n    }\n  })\n\n  const Race = (props) =>{\n    const allRaceList = db.get('races').value().map((race,index)=>{\n                      race.key=index\n                      return race\n                    })\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\n    // const columns = [{title:'',dataIndex:'',key:''}]\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\n      props.onSelect(selectedRows)\n      setSelectedRowKeys(selectedRowKeys)\n    }\n    const rowSelection = {\n      selectedRowKeys,\n      onChange:onSelectChange\n    }\n    // 筛选发生变化时清空已经选择的内容\n    const onChange = (pagination, filters, sorter, extra) => {\n      props.onSelect([])\n      setSelectedRowKeys([])\n    }\n    return(\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns} dataSource={allRaceList} onChange={onChange} pagination={false}/>\n      )\n  }\n\nexport  default Race\n","import React from 'react';\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Popover,Button } from 'antd';\n\nconst EventList = (props)=>{\n  const eventIdList = props.eventList\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id,pid:props.pid}).value())\n  return (\n    <>\n    <Divider>多选</Divider>\n    {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    <Divider>单选</Divider>\n    {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    </>\n  )\n}\nconst EventBox = (props)=>{\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\n    const ResultItem = choice[1].map((result)=>\n        <p key={result}>{result}</p>\n      )\n      return(\n        <Row key={index} gutter={[8,8]} className=\"list-row\">\n          <Col span={12}><p>{choice[0]}</p></Col>\n          <Col span={12}>{ResultItem}</Col>\n        </Row>\n      )\n    })\n\n    return(\n      <Popover content={ChoiceItem} title={props.event.name}>\n        <Button>{props.event.name}</Button>\n      </Popover>\n    )\n}\n\nexport  default EventList\n","import React from 'react';\nimport db from '../db.js'\n\nimport { Row,Popover,Button,Image } from 'antd';\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SkillList = (props)=>{\n  const skillList = props.skillList\n\n  return (\n    <Row gutter={[8,8]}>\n      {skillList.map((skillId)=><SkillBox key={skillId} id={skillId}></SkillBox>)}\n      </Row>\n  )\n}\nconst SkillBox = (props)=>{\n  const skill = db.get('skills').find({id:props.id}).value()\n  const SkillItem = <p>{skill.describe}</p>\n\n    return(\n      <Popover content={SkillItem} title={skill.name} className='skill-button'>\n        <Button size={'large'} className={'skill-button-'+skill.rare}>\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\n          {skill.name}\n        </Button>\n      </Popover>\n    )\n}\n\nexport  default SkillList\n","import React,{useState} from 'react';\nimport db from './db.js'\n\nimport { Divider,Row,Col,Button,Image,Modal,Checkbox} from 'antd';\n\nimport EventList from './components/event-list.js'\nimport SkillList from './components/skill-list.js'\n\nconst CheckboxGroup = Checkbox.Group\n\n// todo 提取出来\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst PlayerCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Image src={cdnServer+props.data.imgUrl} preview={false} onClick={showModal} width={'100%'}></Image>\n      <Modal title={props.data.name} visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n        width={800} >\n        <Divider>适应</Divider>\n        <AdaptBox player={props.data}></AdaptBox>\n        <Divider>成长</Divider>\n        <GrowBox player={props.data}></GrowBox>\n        <Divider>技能</Divider>\n        <SkillList skillList={props.data.skillList}></SkillList>\n        <Divider>事件</Divider>\n        <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n      </Modal>\n    </>\n  )\n}\nconst AdaptBox = (props)=>\n  <Row  gutter={[8, 8]}>\n    <Col span = {6}>草地/芝</Col>\n    <Col span = {6}>泥地/ダート</Col>\n    <Col span = {6}></Col>\n    <Col span = {6}></Col>\n    <Col span = {6}>{props.player.grass}</Col>\n    <Col span = {6}>{props.player.dirt}</Col>\n    <Col span = {6}></Col>\n    <Col span = {6}></Col>\n\n    <Col span = {6}>短距离</Col>\n    <Col span = {6}>英里/マイル</Col>\n    <Col span = {6}>中距离</Col>\n    <Col span = {6}>长距离</Col>\n    <Col span = {6}>{props.player.shortDistance}</Col>\n    <Col span = {6}>{props.player.mile}</Col>\n    <Col span = {6}>{props.player.mediumDistance}</Col>\n    <Col span = {6}>{props.player.longDistance}</Col>\n\n    <Col span = {6}>逃脱/逃げ</Col>\n    <Col span = {6}>先行</Col>\n    <Col span = {6}>插入/差</Col>\n    <Col span = {6}>追击/追込</Col>\n    <Col span = {6}>{props.player.escape}</Col>\n    <Col span = {6}>{props.player.leading}</Col>\n    <Col span = {6}>{props.player.insert}</Col>\n    <Col span = {6}>{props.player.tracking}</Col>\n  </Row>\n\nconst GrowBox = (props)=>\n  <Row gutter={[8, 8]}>\n    <Col span = {4}>速度/スピード</Col>\n    <Col span = {4}>体力/スタミナ</Col>\n    <Col span = {4}>力量/パワー</Col>\n    <Col span = {4}>毅力/根性</Col>\n    <Col span = {5}>智慧/賢さ</Col>\n\n    <Col span = {4}>{props.player.speedGrow}</Col>\n    <Col span = {4}>{props.player.staminaGrow}</Col>\n    <Col span = {4}>{props.player.powerGrow}</Col>\n    <Col span = {4}>{props.player.gutsGrow}</Col>\n    <Col span = {5}>{props.player.wisdomGrow}</Col>\n  </Row>\n//todo filter\nconst Player = (props)=>{\n  const allPlayerList = db.get('players').value()\n  const [playerList,setPlayerList] = useState(allPlayerList)\n  const [checkedList, setCheckedList] = useState([]);\n\n  const plainOptions = [\n    {label:'草地',value:'grass'},\n    {label:'泥地',value:'dirt'},\n    {label:'短距',value:'shortDistance'},\n    {label:'英里',value:'mile'},\n    {label:'中距',value:'mediumDistance'},\n    {label:'长距',value:'longDistance'},\n    {label:'逃',value:'escape'},\n    {label:'先',value:'leading'},\n    {label:'差',value:'insert'},\n    {label:'追',value:'tracking'}]\n\n\n  const onChange=(checkedValues)=>{\n    setCheckedList(checkedValues)\n    let tempList = allPlayerList.filter(player=>{\n      let flag = 1;\n      checkedValues.forEach(attr=>{\n        if(player[attr]!=='A'){\n          flag = 0\n        }\n      })\n      return flag\n    })\n    setPlayerList(tempList)\n  }\n  const resetCheckbox=()=>{\n    setCheckedList([])\n    setPlayerList(allPlayerList)\n  }\n  return (\n    <>\n    <Button onClick={resetCheckbox}>重置</Button>\n    <CheckboxGroup options={plainOptions} value={checkedList} onChange={onChange} />\n    {\n      ['3','2','1'].map(rare=>(\n        <Row gutter={[16,16]} key={rare}>\n        <Divider>{rare}星</Divider>\n      {playerList.filter(item=>item.rare===rare).map(player=>\n        <Col xxl={2} lg={3} sm={4} xs={6} key={player.id}>\n          <PlayerCard data={player} onSelect={props.onSelect}></PlayerCard>\n        </Col>)\n      }\n      </Row>\n      ))\n    }</>\n  )\n}\n\nexport  default Player\n","import React,{useState} from 'react';\nimport db from './db.js'\n\nimport { Divider,Row,Col,Image,Modal} from 'antd';\n\nimport EventList from './components/event-list.js'\nimport SkillList from './components/skill-list.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SupportCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Image src={cdnServer+props.data.imgUrl} preview={false}  onClick={showModal} width={'100%'}></Image>\n      <Modal title={props.data.name} visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n        width={800} >\n        <Divider>培训技能</Divider>\n          <SkillList skillList={props.data.trainingEventSkill}></SkillList>\n          <Divider>自带技能</Divider>\n          <SkillList skillList={props.data.possessionSkill}></SkillList>\n          <Divider>事件</Divider>\n        <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n      </Modal>\n    </>\n  )\n}\nclass Support extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {list:props.supportList}\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.supportList !== prevProps.supportList){\n      this.setState({list:this.props.supportList})\n    }\n  }\n  render(){\n    return (\n      <>\n      {\n        ['SSR','SR','R'].map(rare=>\n          <Row gutter={[16,16]} key={rare}>\n            <Divider>{rare}</Divider>\n            {this.state.list.filter(item=>item.rare===rare).map(support=>\n              <Col xxl={2} lg={3} sm={4} xs={6} key={support.id}>\n                <SupportCard data={support} onSelect={this.props.onSelect}></SupportCard>\n              </Col>)\n            }\n          </Row>\n        )\n      }\n      </>\n      )\n  }\n}\n\nSupport.defaultProps={\n  supportList:db.get('supports').value()\n}\nexport default Support\n","import React,{useState} from 'react';\nimport db from './db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table} from 'antd';\n\nimport EventList from './components/event-list.js'\nimport SkillList from './components/skill-list.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst NurturingSupport = (props)=>{\n  return (\n    <>\n          <Col span={12}>\n            <img src={cdnServer+props.data.imgUrl} alt={props.data.name} width={'50%'}></img>\n          </Col>\n          <Col span={24}>\n            <SkillList skillList={props.data.possessionSkill} ></SkillList>\n          </Col>\n          <Col span={24}>\n            <SkillList skillList={props.data.trainingEventSkill}></SkillList>\n          </Col>\n          <Col span={24}>\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n          </Col>\n    </>\n  )\n}\n// 培育界面 马娘赛程\nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // 忽略出道战\n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [races,setRaces] = useState(selected.races)\n\n  const [visible, setVisible] = useState(false);\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setRaces(data);\n\n    // save\n    selected.races = data\n    db.get('selected').assign(selected).write()\n  }\n  const showDrawer = ()=>{\n    setVisible(true)\n  }\n  const onDrawerClose = (data)=>{\n    setVisible(false)\n  }\n\n  return(\n    <Row className='nurturing-box' gutter={[16,16]}>\n\n      <Col span = {9}>\n        <Button type={'primary'} onClick={showPlayer}>选择马娘</Button>\n        <Button onClick={showSupport2}>临时辅助卡事件查询</Button>\n        <Button onClick={showRace}>选择关注赛事</Button>\n        <Button onClick={showDrawer}>查看关注赛事</Button>\n        <Divider></Divider>\n        <SkillList skillList={player.id?player.skillList:[]}></SkillList>\n        <Divider></Divider>\n        <RaceList raceList={player.id?player.raceList:[]}></RaceList>\n        <Drawer\n        title=\"关注赛事 (可以按esc退出)\"\n        onClose={onDrawerClose}\n        visible={visible}\n        getContainer={false}\n        style={{ position: 'absolute' }}\n        closable={true}\n        placement=\"left\"\n        mask={false}\n        maskClosable={false}\n        width={'100%'}\n      >\n        {/* {races.map(race=>\n          <p>{race.name}</p>\n          )} */}\n        <Table dataSource={races} pagination={false}>\n          <Column title=\"名称\" dataIndex=\"name\" key=\"name\" />\n          <Column title=\"时间\" dataIndex=\"date\" key=\"date\" />\n          <Column title=\"级别\" dataIndex=\"grade\" key=\"grade\" />\n          <Column title=\"类型\" dataIndex=\"distanceType\" key=\"distanceType\" />\n        </Table>\n      </Drawer>\n      </Col>\n      <Col span = {5}>\n        <Row>\n          <Col span={12}>\n            <Button onClick={()=>showSupport(1)}>选择辅助卡</Button>\n          </Col>\n          {supports[1].id &&<NurturingSupport data={supports[1]} ></NurturingSupport>}\n        </Row>\n      </Col>\n      <Col span = {5}>\n        <Row>\n          <Col span={12}>\n            <Button onClick={()=>showSupport(2)}>选择辅助卡</Button>\n          </Col>\n          {supports[2].id &&<NurturingSupport data={supports[2]} ></NurturingSupport>}\n        </Row>\n      </Col>\n      <Col span = {5}>\n        <Row>\n          <Col span={12}>\n            <Button onClick={()=>showSupport(3)}>选择辅助卡</Button>\n          </Col>\n          {supports[3].id &&<NurturingSupport data={supports[3]} ></NurturingSupport>}\n        </Row>\n      </Col>\n\n      <Col span = {9}>\n        {player.id&&\n          <EventList eventList={player.eventList} pid={player.id}></EventList>\n        }\n      </Col>\n      <Col span = {5}>\n      <Row>\n          <Col span={12}>\n            <Button onClick={()=>showSupport(4)}>选择辅助卡</Button>\n          </Col>\n          {supports[4].id &&<NurturingSupport data={supports[4]}></NurturingSupport>}\n        </Row>\n      </Col>\n      <Col span = {5}>\n      <Row>\n          <Col span={12}>\n            <Button onClick={()=>showSupport(5)}>选择辅助卡</Button>\n          </Col>\n          {supports[5].id &&<NurturingSupport data={supports[5]}></NurturingSupport>}\n        </Row>\n      </Col>\n      <Col span = {5}>\n      <Row>\n          <Col span={12}>\n            <Button onClick={()=>showSupport(6)}>选择辅助卡</Button>\n          </Col>\n          {supports[6].id &&<NurturingSupport data={supports[6]} ></NurturingSupport>}\n        </Row>\n      </Col>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n","import React,{useState} from 'react';\nimport { Divider,Row,Popover,Image,Button,Checkbox,Modal,PageHeader} from 'antd';\n\nimport db from './db.js'\nimport Support from './support.js'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst Skill = () =>{\n  const allSkillList = db.get('skills').value()\n  const allSupportList = db.get('supports').value()\n  const [skillList,setSkillList] = useState(allSkillList)\n  const [supportList,setSupportList] = useState(allSupportList)\n  const [skillSupportList,setSkillSupportList] = useState(allSupportList)\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  // 点击技能出现的弹框标题\n  const [skillName, setSkillName] = useState('');\n\n  const [checkedList, setCheckedList] = useState([]);\n\n  const plainOptions = [\n    {label:'通用',value:'normal'},\n    {label:'短距',value:'＜短距離＞'},\n    {label:'英里',value:'＜マイル＞'},\n    {label:'中距',value:'＜中距離＞'},\n    {label:'长距',value:'＜長距離＞'},\n    {label:'逃',value:'＜作戦・逃げ＞'},\n    {label:'先',value:'＜作戦・先行＞'},\n    {label:'差',value:'＜作戦・差し＞'},\n    {label:'追',value:'＜作戦・追込＞'}\n  ]\n  const onChange=(checkedValues)=>{\n    setCheckedList(checkedValues)\n\n    let tempSkillList = allSkillList\n    if(checkedValues.length){\n\n      tempSkillList = allSkillList.filter(skill=>{\n        let flag = 0;\n        checkedValues.forEach(value=>{\n          if(skill.describe){\n\n            if(value==='normal' && skill.describe.indexOf('＜') === -1 && skill.describe.indexOf('＞') === -1){\n              flag = 1\n            }else if(skill.describe.indexOf(value)!==-1){\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    setSkillList(tempSkillList)\n    //更新support\n    if(tempSkillList.length === allSkillList.length){\n      setSupportList(allSupportList)\n    }else{\n      let tempSupportList = allSupportList.filter(support=>{\n        let flag = 0;\n        tempSkillList.forEach(skill=>{\n          if(support.skillList.indexOf(skill.id)!==-1)\n          flag = 1\n        })\n        return flag\n      })\n      setSupportList(tempSupportList)\n    }\n  }\n  const resetCheckbox=()=>{\n    setCheckedList([])\n    setSkillList(allSkillList)\n  }\n\n    const showModal = (skill) => {\n      let tempSupportList = allSupportList.filter(support=>{\n        let flag = 0;\n        support.skillList.forEach(id=>{\n          if (id===skill.id){\n            flag = 1\n          }\n        })\n        return flag\n      })\n      setSkillName(skill.name)\n      setSkillSupportList(tempSupportList)\n      setIsModalVisible(true);\n    };\n\n    const handleOk = () => {\n      setIsModalVisible(false);\n    };\n\n    const handleCancel = () => {\n      setIsModalVisible(false);\n    };\n  const rareLabel={'ノーマル':'普通','レア':'金色 稀有','固有':'独特'}\n  return(<>\n  <Button onClick={resetCheckbox}>重置</Button>\n  <CheckboxGroup options={plainOptions} value={checkedList} onChange={onChange} />\n    {['ノーマル','レア','固有'].map(rare=>\n      <Row gutter={[8,8]} key={rare}>\n      <Divider>{rareLabel[rare]}</Divider>\n      { skillList.filter(item=>item.rare === rare).map(skill=>\n        <Popover content={<p key={skill.id}>{skill.describe}</p>} title={skill.name} key={skill.id} className={'skill-button'}>\n          <Button size={'large'} className={'skill-button-'+rare} onClick={()=>showModal(skill)}>\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\n          {skill.name}\n          </Button>\n        </Popover>\n        )\n      }\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} width={'80%'}>\n        <PageHeader title={skillName}></PageHeader>\n        <Support supportList={skillSupportList} ></Support>\n      </Modal>\n      </Row>\n    )\n  }\n  <Support supportList={supportList}></Support>\n  </>)\n}\n\nexport default Skill\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route ,Link} from 'react-router-dom';\n\nimport 'antd/dist/antd.css';\nimport { Row,Col,Image,Layout,Menu,Button,Popover} from 'antd'\n\nimport './index.css'\n// import db from './db.js'\n// import EventList from './components/event-list.js'\n// import SkillList from './components/skill-list.js'\n\nimport db from './db.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\nimport Nurturing from './nurturing.js'\nimport Skill from './skill.js'\n\nconst { Header, Content, Footer } = Layout;\n\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\n\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\n\nconst App = ()=>{\n  const reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n  }\n  return (\n<Router>\n    <Layout className=\"layout\">\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n      <Menu theme=\"dark\" mode=\"horizontal\">\n        <Menu.Item key=\"1\"><Link to='/'>角色</Link></Menu.Item>\n        <Menu.Item key=\"2\"><Link to='/support'>支援卡</Link></Menu.Item>\n        <Menu.Item key=\"3\"><Link to='/skill'>技能</Link></Menu.Item>\n        <Menu.Item key=\"4\"><Link to='/race'>比赛</Link></Menu.Item>\n        <Menu.Item key=\"5\"><Link to='/nurturing'>育成</Link></Menu.Item>\n      </Menu>\n    </Header>\n    <Content style={{ padding: '80px 50px' }}>\n      <Route exact path=\"/\" component={Player}/>\n      <Route path=\"/support\" component={Support}/>\n      <Route path=\"/nurturing\" component={Nurturing}/>\n      <Route path=\"/skill\" component={Skill}/>\n      <Route path=\"/race\" component={Race}/>\n    </Content>\n  <Footer>\n    <Row gutter={[16,16]}>\n      <Col span={2}>\n        <Popover content={<p>育成界面出现问题时重置</p>}>\n          <Button placement=\"bottom\" onClick={reload}>清空育成缓存</Button>\n         </Popover>\n      </Col>\n      <Col span={16}></Col>\n      <Col span={2}>\n      <Popover content={<><Image src={'img/z.jpg'} width={200}></Image><p>支付宝</p></>}>\n          <Button placement=\"bottom\">捐助</Button>\n        </Popover>\n      </Col>\n      <Col span={2}>\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </Col>\n      <Col span={2}>\n      <Popover content={<Image src={'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"轻 松 赛 马\" title=\"轻 松 赛 马\" />\n        </a>\n      </Popover>\n      </Col>\n    </Row>\n  </Footer>\n  </Layout>\n</Router>\n  )\n}\n\nReactDOM.render((<App></App>),document.getElementById('root'),);\n"],"sourceRoot":""}