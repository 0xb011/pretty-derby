{"version":3,"sources":["db.js","race.js","components/event-list.js","components/skill-list.js","player.js","support.js","nurturing.js","skill.js","seed.js","index.js"],"names":["adapter","LocalStorage","db","low","d","a","axios","get","res","set","data","write","console","log","value","jsonDb","players","supports","skills","events","updateTime","races","1","2","3","4","5","6","player","filterList","class","text","grade","place","ground","distanceType","direction","side","columns","map","label","title","dataIndex","filters","onFilter","record","Race","props","allRaceList","race","index","key","useState","selectedRowKeys","setSelectedRowKeys","rowSelection","onChange","selectedRows","onSelect","dataSource","pagination","sorter","extra","EventBox","ChoiceItem","event","choiceList","choice","ResultItem","result","gutter","className","span","content","name","EventList","eventList","id","find","pid","filter","length","SkillBox","skill","SkillItem","describe","size","rare","src","imgUrl","preview","width","SkillList","skillList","skillId","CheckboxGroup","Group","PlayerCard","isModalVisible","setIsModalVisible","onClick","visible","onOk","onCancel","AdaptBox","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","Player","allPlayerList","playerList","setPlayerList","checkedList","setCheckedList","options","checkedValues","tempList","flag","forEach","attr","item","xxl","lg","sm","xs","SupportCard","trainingEventSkill","possessionSkill","Support","state","list","supportList","prevProps","this","setState","support","React","Component","defaultProps","Column","NurturingSupport","alt","RaceList","raceList","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","isRaceVisible","setIsRaceVisible","selected","setSupports","setPlayer","setRaces","setVisible","closePlayer","showSupport","closeSupport","closeRace","type","onClose","getContainer","style","position","closable","placement","mask","maskClosable","assign","newData","Object","Skill","allSkillList","allSupportList","setSkillList","setSupportList","skillSupportList","setSkillSupportList","skillName","setSkillName","handleOk","handleCancel","rareLabel","tempSkillList","indexOf","tempSupportList","showModal","userId","blueLabels","redLabels","PlayerInput","setPlayerIndex","setData","triggerChange","changedValue","fallback","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","formData","Date","getTime","i","undefined","post","success","message","info","children","push","offset","Item","rules","required","Button","count","initialValue","min","max","dots","tooltipPlacement","getFields","justify","placeholder","htmlType","SearchOne","List","fields","add","remove","errors","field","display","marginBottom","align","fieldKey","validateTrigger","noStyle","icon","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","level","p1","search","PlayerImage","render","disabled","keys","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","closeSeedInput","footer","Header","Content","Footer","App","zIndex","theme","mode","to","padding","exact","path","component","frameBorder","scrolling","height","target","rel","href","border","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.bf6ed7fd.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport axios from 'axios'\nimport jsonDb from './assert/db.json'\n\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\n// console.log(jsonDb)\n/*\nasync function getdbd(){\n  let res = await axios.get('http://urarawin.com/dbd')\n  let localTime = db.get('updateTime').value()\n  console.log(localTime ,res.data.updateTime, localTime === res.data.updateTime)\n  if (localTime && localTime === res.data.updateTime){\n    console.log('latest 不需要同步')\n  }else{\n    console.log(\"同步\")\n    res = await axios.get('http://urarawin.com/db')\n    db.set('players',res.data.players).write()\n    db.set('supports',res.data.supports).write()\n    db.set('skills',res.data.skills).write()\n    db.set('events',res.data.events).write()\n    db.set('updateTime',res.data.updateTime).write()\n    db.set('races',res.data.races).write()\n    //重新加载\n    db.get('selected').value()||db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n  }\n}\ngetdbd()\n*/\nconst d = async ()=>{\n  // let res = await axios.get('http://urarawin.com/d')\n  let res = await axios.get('http://urarawin.com/d')\n  db.set('userId',res.data).write()\n  console.log(res.data)\n}\ndb.get('userId').value()||d()\n\ndb.set('players',jsonDb.players).write()\ndb.set('supports',jsonDb.supports).write()\ndb.set('skills',jsonDb.skills).write()\ndb.set('events',jsonDb.events).write()\ndb.set('updateTime',jsonDb.updateTime).write()\ndb.set('races',jsonDb.races).write()\n//重新加载\ndb.get('selected').value()||db.set('selected',{\n  supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n  player:{},\n  races:[]\n}).write()\n\nexport  default db\n","import React,{useState} from 'react';\r\nimport db from './db.js'\r\n\r\nimport { Table } from 'antd';\r\n\r\n // { name: '葵ステークス',\r\n  //   date: '2年目 5月後半',\r\n  //   dateNum: 34,\r\n  //   class: 'クラシック',\r\n  //   grade: 'G3',\r\n  //   place: '京都',\r\n  //   ground: '芝',\r\n\r\n  //   distance: '1400',\r\n  //   distanceType: '短距離',\r\n  //   order: '右' }\r\n  // { class: [ 'ジュニア', 'クラシック', 'クラシックシニア', 'シニア' ],\r\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\r\n  // place: [ '中京', '函館', '札幌', '小倉', '新潟', '阪神', '中山', '京都', '東京', '福島', '大井' ],\r\n  // ground: [ '芝', 'ダート' ],\r\n  // distanceType: [ 'マイル', '短距離', '中距離', '長距離' ],\r\n  // direction: [ '左', '右', '直' ],\r\n  // side: [ null, '内', '外', '線' ] }\r\n const filterList= { class:\r\n    [ { text: '初等/ジュニア', value: 'ジュニア' },\r\n      { text: '经典/クラシック', value: 'クラシック' },\r\n      { text: '经典&高级/クラシックシニア', value: 'クラシックシニア' },\r\n      { text: '高级/シニア', value: 'シニア' } ],\r\n   grade:\r\n   [\r\n      { text: 'Pre-OP', value: 'Pre-OP' },\r\n      { text: 'OP', value: 'OP' },\r\n      { text: 'G1', value: 'G1' },\r\n      { text: 'G2', value: 'G2' },\r\n      { text: 'G3', value: 'G3' }\r\n    ],\r\n   place:\r\n    [ { text: '中京', value: '中京' },\r\n      { text: '函館', value: '函館' },\r\n      { text: '札幌', value: '札幌' },\r\n      { text: '小倉', value: '小倉' },\r\n      { text: '新潟', value: '新潟' },\r\n      { text: '阪神', value: '阪神' },\r\n      { text: '中山', value: '中山' },\r\n      { text: '京都', value: '京都' },\r\n      { text: '東京', value: '東京' },\r\n      { text: '福島', value: '福島' },\r\n      { text: '大井', value: '大井' } ],\r\n   ground: [ { text: '芝', value: '芝' }, { text: 'ダート', value: 'ダート' } ],\r\n   distanceType:\r\n   [\r\n     { text: '短距離', value: '短距離' },\r\n     { text: 'マイル', value: 'マイル' },\r\n      { text: '中距離', value: '中距離' },\r\n      { text: '長距離', value: '長距離' } ],\r\n   direction:\r\n    [ { text: '左', value: '左' },\r\n      { text: '右', value: '右' },\r\n      { text: '直', value: '直' } ],\r\n   side:\r\n    [ { text: '空', value: null },\r\n      { text: '内', value: '内' },\r\n      { text: '外', value: '外' },\r\n      { text: '線', value: '線' } ] }\r\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\r\n                  \"place\", \"ground\", \"distance\",\r\n                  \"distanceType\", \"direction\", \"side\"]\r\n  const columns = labels.map(label=> {\r\n    if(filterList['class']){\r\n      return {\r\n        title:label,\r\n        dataIndex:label,\r\n        filters:filterList[label],\r\n        onFilter: (value, record) => record[label] === value,\r\n      }\r\n    }else{\r\n      return{\r\n        title:label,\r\n        dataIndex:label\r\n      }\r\n    }\r\n  })\r\n\r\n  const Race = (props) =>{\r\n    const allRaceList = db.get('races').value().map((race,index)=>{\r\n                      race.key=index\r\n                      return race\r\n                    })\r\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\r\n    // const columns = [{title:'',dataIndex:'',key:''}]\r\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\r\n      props.onSelect(selectedRows)\r\n      setSelectedRowKeys(selectedRowKeys)\r\n    }\r\n    const rowSelection = {\r\n      selectedRowKeys,\r\n      onChange:onSelectChange\r\n    }\r\n    // 筛选发生变化时清空已经选择的内容\r\n    const onChange = (pagination, filters, sorter, extra) => {\r\n      props.onSelect([])\r\n      setSelectedRowKeys([])\r\n    }\r\n    return(\r\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns} dataSource={allRaceList} onChange={onChange} pagination={false}/>\r\n      )\r\n  }\r\n\r\nexport  default Race\r\n","import React from 'react';\r\nimport db from '../db.js'\r\n\r\nimport { Divider,Row,Col,Popover,Button } from 'antd';\r\n\r\nconst EventList = (props)=>{\r\n  const eventIdList = props.eventList\r\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id,pid:props.pid}).value())\r\n  return (\r\n    <>\r\n    <Divider>多选</Divider>\r\n    {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\r\n    <Divider>单选</Divider>\r\n    {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\r\n    </>\r\n  )\r\n}\r\nconst EventBox = (props)=>{\r\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\r\n    const ResultItem = choice[1].map((result)=>\r\n        <p key={result}>{result}</p>\r\n      )\r\n      return(\r\n        <Row key={index} gutter={[8,8]} className=\"list-row\">\r\n          <Col span={12}><p>{choice[0]}</p></Col>\r\n          <Col span={12}>{ResultItem}</Col>\r\n        </Row>\r\n      )\r\n    })\r\n\r\n    return(\r\n      <Popover content={ChoiceItem} title={props.event.name}>\r\n        <Button>{props.event.name}</Button>\r\n      </Popover>\r\n    )\r\n}\r\n\r\nexport  default EventList\r\n","import React from 'react';\r\nimport db from '../db.js'\r\n\r\nimport { Row,Popover,Button,Image } from 'antd';\r\n\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst SkillList = (props)=>{\r\n  const skillList = props.skillList\r\n\r\n  return (\r\n    <Row gutter={[8,8]}>\r\n      {skillList.map((skillId)=><SkillBox key={skillId} id={skillId}></SkillBox>)}\r\n      </Row>\r\n  )\r\n}\r\nconst SkillBox = (props)=>{\r\n  const skill = db.get('skills').find({id:props.id}).value()\r\n  const SkillItem = <p>{skill.describe}</p>\r\n\r\n    return(\r\n      <Popover content={SkillItem} title={skill.name} className='skill-button'>\r\n        <Button size={'large'} className={'skill-button-'+skill.rare}>\r\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\r\n          {skill.name}\r\n        </Button>\r\n      </Popover>\r\n    )\r\n}\r\n\r\nexport  default SkillList\r\n","import React,{useState} from 'react';\r\nimport db from './db.js'\r\n\r\nimport { Divider,Row,Col,Button,Image,Modal,Checkbox} from 'antd';\r\n\r\nimport EventList from './components/event-list.js'\r\nimport SkillList from './components/skill-list.js'\r\n\r\nconst CheckboxGroup = Checkbox.Group\r\n\r\n// todo 提取出来\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst PlayerCard = (props)=>{\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const showModal = () => {\r\n    if(props.onSelect){\r\n      props.onSelect(props.data)\r\n    }else{\r\n      setIsModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Image src={cdnServer+props.data.imgUrl} preview={false} onClick={showModal} width={'100%'}></Image>\r\n      <Modal title={props.data.name} visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\r\n        width={800} >\r\n        <Divider>适应</Divider>\r\n        <AdaptBox player={props.data}></AdaptBox>\r\n        <Divider>成长</Divider>\r\n        <GrowBox player={props.data}></GrowBox>\r\n        <Divider>技能</Divider>\r\n        <SkillList skillList={props.data.skillList}></SkillList>\r\n        <Divider>事件</Divider>\r\n        <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\nconst AdaptBox = (props)=>\r\n  <Row  gutter={[8, 8]}>\r\n    <Col span = {6}>草地/芝</Col>\r\n    <Col span = {6}>泥地/ダート</Col>\r\n    <Col span = {6}></Col>\r\n    <Col span = {6}></Col>\r\n    <Col span = {6}>{props.player.grass}</Col>\r\n    <Col span = {6}>{props.player.dirt}</Col>\r\n    <Col span = {6}></Col>\r\n    <Col span = {6}></Col>\r\n\r\n    <Col span = {6}>短距离</Col>\r\n    <Col span = {6}>英里/マイル</Col>\r\n    <Col span = {6}>中距离</Col>\r\n    <Col span = {6}>长距离</Col>\r\n    <Col span = {6}>{props.player.shortDistance}</Col>\r\n    <Col span = {6}>{props.player.mile}</Col>\r\n    <Col span = {6}>{props.player.mediumDistance}</Col>\r\n    <Col span = {6}>{props.player.longDistance}</Col>\r\n\r\n    <Col span = {6}>逃脱/逃げ</Col>\r\n    <Col span = {6}>先行</Col>\r\n    <Col span = {6}>插入/差</Col>\r\n    <Col span = {6}>追击/追込</Col>\r\n    <Col span = {6}>{props.player.escape}</Col>\r\n    <Col span = {6}>{props.player.leading}</Col>\r\n    <Col span = {6}>{props.player.insert}</Col>\r\n    <Col span = {6}>{props.player.tracking}</Col>\r\n  </Row>\r\n\r\nconst GrowBox = (props)=>\r\n  <Row gutter={[8, 8]}>\r\n    <Col span = {4}>速度/スピード</Col>\r\n    <Col span = {4}>体力/スタミナ</Col>\r\n    <Col span = {4}>力量/パワー</Col>\r\n    <Col span = {4}>毅力/根性</Col>\r\n    <Col span = {5}>智慧/賢さ</Col>\r\n\r\n    <Col span = {4}>{props.player.speedGrow}</Col>\r\n    <Col span = {4}>{props.player.staminaGrow}</Col>\r\n    <Col span = {4}>{props.player.powerGrow}</Col>\r\n    <Col span = {4}>{props.player.gutsGrow}</Col>\r\n    <Col span = {5}>{props.player.wisdomGrow}</Col>\r\n  </Row>\r\n//todo filter\r\nconst Player = (props)=>{\r\n  const allPlayerList = db.get('players').value()\r\n  const [playerList,setPlayerList] = useState(allPlayerList)\r\n  const [checkedList, setCheckedList] = useState([]);\r\n\r\n  const plainOptions = [\r\n    {label:'草地',value:'grass'},\r\n    {label:'泥地',value:'dirt'},\r\n    {label:'短距',value:'shortDistance'},\r\n    {label:'英里',value:'mile'},\r\n    {label:'中距',value:'mediumDistance'},\r\n    {label:'长距',value:'longDistance'},\r\n    {label:'逃',value:'escape'},\r\n    {label:'先',value:'leading'},\r\n    {label:'差',value:'insert'},\r\n    {label:'追',value:'tracking'}]\r\n\r\n\r\n  const onChange=(checkedValues)=>{\r\n    setCheckedList(checkedValues)\r\n    let tempList = allPlayerList.filter(player=>{\r\n      let flag = 1;\r\n      checkedValues.forEach(attr=>{\r\n        if(player[attr]!=='A'){\r\n          flag = 0\r\n        }\r\n      })\r\n      return flag\r\n    })\r\n    setPlayerList(tempList)\r\n  }\r\n  const resetCheckbox=()=>{\r\n    setCheckedList([])\r\n    setPlayerList(allPlayerList)\r\n  }\r\n  return (\r\n    <>\r\n    <Button onClick={resetCheckbox}>重置</Button>\r\n    <CheckboxGroup options={plainOptions} value={checkedList} onChange={onChange} />\r\n    {\r\n      ['3','2','1'].map(rare=>(\r\n        <Row gutter={[16,16]} key={rare}>\r\n        <Divider>{rare}星</Divider>\r\n      {playerList.filter(item=>item.rare===rare).map(player=>\r\n        <Col xxl={2} lg={3} sm={4} xs={6} key={player.id}>\r\n          <PlayerCard data={player} onSelect={props.onSelect}></PlayerCard>\r\n        </Col>)\r\n      }\r\n      </Row>\r\n      ))\r\n    }</>\r\n  )\r\n}\r\n\r\nexport  default Player\r\n","import React,{useState} from 'react';\r\nimport db from './db.js'\r\n\r\nimport { Divider,Row,Col,Image,Modal} from 'antd';\r\n\r\nimport EventList from './components/event-list.js'\r\nimport SkillList from './components/skill-list.js'\r\n\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst SupportCard = (props)=>{\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const showModal = () => {\r\n    if(props.onSelect){\r\n      props.onSelect(props.data)\r\n    }else{\r\n      setIsModalVisible(true);\r\n    }\r\n  };\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Image src={cdnServer+props.data.imgUrl} preview={false}  onClick={showModal} width={'100%'}></Image>\r\n      <Modal title={props.data.name} visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\r\n        width={800} >\r\n        <Divider>培训技能</Divider>\r\n          <SkillList skillList={props.data.trainingEventSkill}></SkillList>\r\n          <Divider>自带技能</Divider>\r\n          <SkillList skillList={props.data.possessionSkill}></SkillList>\r\n          <Divider>事件</Divider>\r\n        <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\nclass Support extends React.Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {list:props.supportList}\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(this.props.supportList !== prevProps.supportList){\r\n      this.setState({list:this.props.supportList})\r\n    }\r\n  }\r\n  render(){\r\n    return (\r\n      <>\r\n      {\r\n        ['SSR','SR','R'].map(rare=>\r\n          <Row gutter={[16,16]} key={rare}>\r\n            <Divider>{rare}</Divider>\r\n            {this.state.list.filter(item=>item.rare===rare).map(support=>\r\n              <Col xxl={2} lg={3} sm={4} xs={6} key={support.id}>\r\n                <SupportCard data={support} onSelect={this.props.onSelect}></SupportCard>\r\n              </Col>)\r\n            }\r\n          </Row>\r\n        )\r\n      }\r\n      </>\r\n      )\r\n  }\r\n}\r\n\r\nSupport.defaultProps={\r\n  supportList:db.get('supports').value()\r\n}\r\nexport default Support\r\n","import React,{useState} from 'react';\r\nimport db from './db.js'\r\n\r\nimport { Divider,Row,Col,Modal,Button,Drawer,Table} from 'antd';\r\n\r\nimport EventList from './components/event-list.js'\r\nimport SkillList from './components/skill-list.js'\r\n\r\nimport Race from './race.js'\r\nimport Player from './player.js'\r\nimport Support from './support.js'\r\n\r\nconst {Column} = Table\r\n\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\n\r\nconst NurturingSupport = (props)=>{\r\n  return (\r\n    <>\r\n          <Col span={12}>\r\n            <img src={cdnServer+props.data.imgUrl} alt={props.data.name} width={'50%'}></img>\r\n          </Col>\r\n          <Col span={24}>\r\n            <SkillList skillList={props.data.possessionSkill} ></SkillList>\r\n          </Col>\r\n          <Col span={24}>\r\n            <SkillList skillList={props.data.trainingEventSkill}></SkillList>\r\n          </Col>\r\n          <Col span={24}>\r\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\r\n          </Col>\r\n    </>\r\n  )\r\n}\r\n// 培育界面 马娘赛程\r\nconst RaceList = (props) =>{\r\n  return (\r\n    <Row className={'race-row'}>\r\n      {\r\n        props.raceList.map((race,index)=>{\r\n          // 忽略出道战\r\n          if(race[1][2]){\r\n            return(\r\n          <Col span={12} key={index}>\r\n            <Row className={'race-row-'+index%4}>\r\n              <Col span={4} className={'race-name'} >\r\n                <p>{race[0]}</p>\r\n              </Col>\r\n              <Col span = {20} className={'race-detail'}>\r\n              {race[1].map((item,index)=>\r\n                  <p key={index}>{item}</p>\r\n                  )}\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n            )\r\n          }else{\r\n            return null\r\n          }\r\n        }\r\n      )}\r\n    </Row>\r\n  )\r\n}\r\nconst Nurturing = () =>{\r\n  const [needSelect,setNeedSelect] = useState(false)\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [supportIndex, setSupportIndex] = useState(1);\r\n\r\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\r\n\r\n  const selected = db.get('selected').value()\r\n  const [supports, setSupports] = useState(selected.supports);\r\n  const [player, setPlayer] = useState(selected.player);\r\n  const [races,setRaces] = useState(selected.races)\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n\r\n\r\n  const showPlayer = () => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const handleSelectPlayer = (data)=>{\r\n    setIsPlayerVisible(false);\r\n    setPlayer(data)\r\n\r\n    // save\r\n    selected.player = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n\r\n  const showSupport = (index) => {\r\n    setNeedSelect(true)\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index)\r\n  };\r\n  const showSupport2 = (index) => {\r\n    setNeedSelect(false)\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index)\r\n  };\r\n\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const handleSelectSupport = (data)=>{\r\n    let newData= {}\r\n    newData[supportIndex] = data\r\n    setSupports(Object.assign({},supports,newData))\r\n    setIsSupportVisible(false);\r\n\r\n    // save\r\n    selected.supports[supportIndex] = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n  const showRace = ()=>{\r\n    setNeedSelect(true)\r\n    setIsRaceVisible(true);\r\n  }\r\n  const closeRace = () => {\r\n    setIsRaceVisible(false);\r\n  };\r\n  const handleSelectRace = (data)=>{\r\n    setRaces(data);\r\n\r\n    // save\r\n    selected.races = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n  const showDrawer = ()=>{\r\n    setVisible(true)\r\n  }\r\n  const onDrawerClose = (data)=>{\r\n    setVisible(false)\r\n  }\r\n\r\n  return(\r\n    <Row className='nurturing-box' gutter={[16,16]}>\r\n\r\n      <Col span = {9}>\r\n        <Button type={'primary'} onClick={showPlayer}>选择马娘</Button>\r\n        <Button onClick={showSupport2}>临时辅助卡事件查询</Button>\r\n        <Button onClick={showRace}>选择关注赛事</Button>\r\n        <Button onClick={showDrawer}>查看关注赛事</Button>\r\n        <Divider></Divider>\r\n        <SkillList skillList={player.id?player.skillList:[]}></SkillList>\r\n        <Divider></Divider>\r\n        <RaceList raceList={player.id?player.raceList:[]}></RaceList>\r\n        <Drawer\r\n        title=\"关注赛事 (可以按esc退出)\"\r\n        onClose={onDrawerClose}\r\n        visible={visible}\r\n        getContainer={false}\r\n        style={{ position: 'absolute' }}\r\n        closable={true}\r\n        placement=\"left\"\r\n        mask={false}\r\n        maskClosable={false}\r\n        width={'100%'}\r\n      >\r\n        {/* {races.map(race=>\r\n          <p>{race.name}</p>\r\n          )} */}\r\n        <Table dataSource={races} pagination={false}>\r\n          <Column title=\"名称\" dataIndex=\"name\" key=\"name\" />\r\n          <Column title=\"时间\" dataIndex=\"date\" key=\"date\" />\r\n          <Column title=\"级别\" dataIndex=\"grade\" key=\"grade\" />\r\n          <Column title=\"类型\" dataIndex=\"distanceType\" key=\"distanceType\" />\r\n        </Table>\r\n      </Drawer>\r\n      </Col>\r\n      <Col span = {5}>\r\n        <Row>\r\n          <Col span={12}>\r\n            <Button onClick={()=>showSupport(1)}>选择辅助卡</Button>\r\n          </Col>\r\n          {supports[1].id &&<NurturingSupport data={supports[1]} ></NurturingSupport>}\r\n        </Row>\r\n      </Col>\r\n      <Col span = {5}>\r\n        <Row>\r\n          <Col span={12}>\r\n            <Button onClick={()=>showSupport(2)}>选择辅助卡</Button>\r\n          </Col>\r\n          {supports[2].id &&<NurturingSupport data={supports[2]} ></NurturingSupport>}\r\n        </Row>\r\n      </Col>\r\n      <Col span = {5}>\r\n        <Row>\r\n          <Col span={12}>\r\n            <Button onClick={()=>showSupport(3)}>选择辅助卡</Button>\r\n          </Col>\r\n          {supports[3].id &&<NurturingSupport data={supports[3]} ></NurturingSupport>}\r\n        </Row>\r\n      </Col>\r\n\r\n      <Col span = {9}>\r\n        {player.id&&\r\n          <EventList eventList={player.eventList} pid={player.id}></EventList>\r\n        }\r\n      </Col>\r\n      <Col span = {5}>\r\n      <Row>\r\n          <Col span={12}>\r\n            <Button onClick={()=>showSupport(4)}>选择辅助卡</Button>\r\n          </Col>\r\n          {supports[4].id &&<NurturingSupport data={supports[4]}></NurturingSupport>}\r\n        </Row>\r\n      </Col>\r\n      <Col span = {5}>\r\n      <Row>\r\n          <Col span={12}>\r\n            <Button onClick={()=>showSupport(5)}>选择辅助卡</Button>\r\n          </Col>\r\n          {supports[5].id &&<NurturingSupport data={supports[5]}></NurturingSupport>}\r\n        </Row>\r\n      </Col>\r\n      <Col span = {5}>\r\n      <Row>\r\n          <Col span={12}>\r\n            <Button onClick={()=>showSupport(6)}>选择辅助卡</Button>\r\n          </Col>\r\n          {supports[6].id &&<NurturingSupport data={supports[6]} ></NurturingSupport>}\r\n        </Row>\r\n      </Col>\r\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\r\n        <Player onSelect={handleSelectPlayer}></Player>\r\n      </Modal>\r\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\r\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\r\n      </Modal>\r\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\r\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\r\n      </Modal>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Nurturing\r\n","import React,{useState} from 'react';\r\nimport { Divider,Row,Popover,Image,Button,Checkbox,Modal,PageHeader} from 'antd';\r\n\r\nimport db from './db.js'\r\nimport Support from './support.js'\r\n\r\nconst CheckboxGroup = Checkbox.Group\r\n\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst Skill = () =>{\r\n  const allSkillList = db.get('skills').value()\r\n  const allSupportList = db.get('supports').value()\r\n  const [skillList,setSkillList] = useState(allSkillList)\r\n  const [supportList,setSupportList] = useState(allSupportList)\r\n  const [skillSupportList,setSkillSupportList] = useState(allSupportList)\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  // 点击技能出现的弹框标题\r\n  const [skillName, setSkillName] = useState('');\r\n\r\n  const [checkedList, setCheckedList] = useState([]);\r\n\r\n  const plainOptions = [\r\n    {label:'通用',value:'normal'},\r\n    {label:'短距',value:'＜短距離＞'},\r\n    {label:'英里',value:'＜マイル＞'},\r\n    {label:'中距',value:'＜中距離＞'},\r\n    {label:'长距',value:'＜長距離＞'},\r\n    {label:'逃',value:'＜作戦・逃げ＞'},\r\n    {label:'先',value:'＜作戦・先行＞'},\r\n    {label:'差',value:'＜作戦・差し＞'},\r\n    {label:'追',value:'＜作戦・追込＞'}\r\n  ]\r\n  const onChange=(checkedValues)=>{\r\n    setCheckedList(checkedValues)\r\n\r\n    let tempSkillList = allSkillList\r\n    if(checkedValues.length){\r\n\r\n      tempSkillList = allSkillList.filter(skill=>{\r\n        let flag = 0;\r\n        checkedValues.forEach(value=>{\r\n          if(skill.describe){\r\n\r\n            if(value==='normal' && skill.describe.indexOf('＜') === -1 && skill.describe.indexOf('＞') === -1){\r\n              flag = 1\r\n            }else if(skill.describe.indexOf(value)!==-1){\r\n              flag = 1\r\n            }\r\n          }\r\n        })\r\n        return flag\r\n      })\r\n    }\r\n    setSkillList(tempSkillList)\r\n    //更新support\r\n    if(tempSkillList.length === allSkillList.length){\r\n      setSupportList(allSupportList)\r\n    }else{\r\n      let tempSupportList = allSupportList.filter(support=>{\r\n        let flag = 0;\r\n        tempSkillList.forEach(skill=>{\r\n          if(support.skillList.indexOf(skill.id)!==-1)\r\n          flag = 1\r\n        })\r\n        return flag\r\n      })\r\n      setSupportList(tempSupportList)\r\n    }\r\n  }\r\n  const resetCheckbox=()=>{\r\n    setCheckedList([])\r\n    setSkillList(allSkillList)\r\n  }\r\n\r\n    const showModal = (skill) => {\r\n      let tempSupportList = allSupportList.filter(support=>{\r\n        let flag = 0;\r\n        support.skillList.forEach(id=>{\r\n          if (id===skill.id){\r\n            flag = 1\r\n          }\r\n        })\r\n        return flag\r\n      })\r\n      setSkillName(skill.name)\r\n      setSkillSupportList(tempSupportList)\r\n      setIsModalVisible(true);\r\n    };\r\n\r\n    const handleOk = () => {\r\n      setIsModalVisible(false);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n      setIsModalVisible(false);\r\n    };\r\n  const rareLabel={'ノーマル':'普通','レア':'金色 稀有','固有':'独特'}\r\n  return(<>\r\n  <Button onClick={resetCheckbox}>重置</Button>\r\n  <CheckboxGroup options={plainOptions} value={checkedList} onChange={onChange} />\r\n    {['ノーマル','レア','固有'].map(rare=>\r\n      <Row gutter={[8,8]} key={rare}>\r\n      <Divider>{rareLabel[rare]}</Divider>\r\n      { skillList.filter(item=>item.rare === rare).map(skill=>\r\n        <Popover content={<p key={skill.id}>{skill.describe}</p>} title={skill.name} key={skill.id} className={'skill-button'}>\r\n          <Button size={'large'} className={'skill-button-'+rare} onClick={()=>showModal(skill)}>\r\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\r\n          {skill.name}\r\n          </Button>\r\n        </Popover>\r\n        )\r\n      }\r\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} width={'80%'}>\r\n        <PageHeader title={skillName}></PageHeader>\r\n        <Support supportList={skillSupportList} ></Support>\r\n      </Modal>\r\n      </Row>\r\n    )\r\n  }\r\n  <Support supportList={supportList}></Support>\r\n  </>)\r\n}\r\n\r\nexport default Skill\r\n\r\n","import React,{useState} from 'react';\nimport { InputNumber,Row,Alert,Image,Button,message,Divider,\n  Table,Modal,Col,Radio,Rate,Form,Slider,PageHeader,Input,Space} from 'antd';\n\n//test\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\n\nimport axios from 'axios'\nimport db from './db.js'\n\nimport Player from './player.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nconst userId = db.get('userId').value()\n/*\nuserId 随机生成\n种马玩家id\n种马id\n蓝色因子 - speed stamina power guts wisdom\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\n        - escape leading insert tracking\n绿色因子\n种马父id\n种马母id\n\ntotal blue\ntotal red\nwhite num\n*/\n// 生成一个userId\n\nconst blueLabels={\n  'speed':'速度',\n  'stamina':'耐力',\n  'power':'力量',\n  'guts':'根性',\n  'wisdom':'智力'\n}\nconst redLabels = {\n  'grass':'草地',\n  'dirt':'泥地',\n  'shortDistance':'短距离',\n  'mile':'英里',\n  'mediumDistance':'中距离',\n  'longDistance':'长距离',\n  'escape':'逃',\n  'leading':'先',\n  'insert':'差',\n  'tracking':'追'}\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [playerIndex, setPlayerIndex] = useState(0);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setPlayerIndex(index)\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'}  onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SeedInput = (props)=>{\n  const [value,setValue] = useState('')\n  // const localForm = db.get('form').value()\n  const [form] = Form.useForm();\n  const [seed,setSeed] = useState({})\n\n  const onFinish = async (value)=>{\n    let tmpSeed = seed\n    tmpSeed = Object.assign({},seed,value)\n    setSeed(tmpSeed)\n    // db.set('form',form).write()\n    // 修整成需要的数据\n    const formData = {...tmpSeed}\n    formData.userId = userId\n    let updateTime = new Date().getTime()\n    formData.updateTime=updateTime\n    formData['playerId-0'] = value['player-0'].id\n    formData['playerId-1'] = value['player-1'].id\n    formData['playerId-2'] = value['player-2'].id\n    delete formData['player-0']\n    delete formData['player-1']\n    delete formData['player-2']\n    // formData[formData['blue-0']]=formData['blueLevel-0']\n    // formData[formData['red-0']]=formData['redLevel-0']\n    let list = ['0','1','2']\n    list.forEach(i=>{\n      //统计蓝色因子\n      if(formData[formData[`blue-${i}`]]!==undefined){\n        formData[formData[`blue-${i}`]]+=formData[`blueLevel-${i}`]\n      }else{\n        formData[formData[`blue-${i}`]]=formData[`blueLevel-${i}`]\n      }\n      //统计红色因子\n      if(formData[formData[`red-${i}`]]!==undefined){\n        formData[formData[`red-${i}`]]+=formData[`redLevel-${i}`]\n      }else{\n        formData[formData[`red-${i}`]]=formData[`redLevel-${i}`]\n      }\n      //统计红色因子\n      if(formData['white']!==undefined){\n        formData['white']+=formData[`whiteNum-${i}`]\n      }else{\n        formData['white']=formData[`whiteNum-${i}`]\n      }\n    })\n    const res = await axios.post('http://urarawin.com/api/add',formData)\n    if(res.data && res.data.success){\n      message.info('成功添加')\n      props.onFinish()\n    }else{\n      message.info('有地方出错了')\n    }\n  }\n  const list = ['主要','父辈1','父辈2']\n\n\n  const getFields = ()=>{\n    const children = []\n    for (let i = 0;i<3;i++){\n      children.push(\n        <Col span={8} key={i}>\n        <PageHeader title={`${list[i]}`}></PageHeader>\n        <Row>\n          <Col span={6} offset={4}>\n            <Form.Item label='角色' name={`player-${i}`} rules={[{ required: true }]}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n        </Row>\n      <Form.Item label='蓝色因子' name={`blue-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'speed'}>{'速度'}</Radio.Button>\n          <Radio.Button value={'stamina'}>{'耐力'}</Radio.Button>\n          <Radio.Button value={'power'}>{'力量'}</Radio.Button>\n          <Radio.Button value={'guts'}>{'根性'}</Radio.Button>\n          <Radio.Button value={'wisdom'}>{'智力'}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='蓝色因子星数' name={`blueLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='红色因子' name={`red-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'grass'}>{'草地/芝'}</Radio.Button>\n          <Radio.Button value={'dirt'}>{'泥地/ダート'}</Radio.Button><hr/>\n          <Radio.Button value={'shortDistance'}>{'短距离'}</Radio.Button>\n          <Radio.Button value={'mile'}>{'英里'}</Radio.Button>\n          <Radio.Button value={'mediumDistance'}>{'中距离'}</Radio.Button>\n          <Radio.Button value={'longDistance'}>{'长距离'}</Radio.Button><hr/>\n          <Radio.Button value={'escape'}>{'逃'}</Radio.Button>\n          <Radio.Button value={'leading'}>{'先'}</Radio.Button>\n          <Radio.Button value={'insert'}>{'差'}</Radio.Button>\n          <Radio.Button value={'tracking'}>{'追'}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='红色因子星数' name={`redLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='绿色因子星数' name={`greenLevel-${i}`} initialValue={0}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='白色因子个数' name={`whiteNum-${i}`} initialValue={0}>\n        <Slider min={0} max={10} dots={true} tooltipPlacement={'left'}></Slider>\n      </Form.Item>\n        </Col>\n      )\n    }\n    return children\n  }\n  return(\n    <Form name={'因子信息'} form={form} onFinish={onFinish} className={'seed-form'}>\n<Alert message='目前每人只能配置一个种子 自觉维护自己的信息' type='info'></Alert>\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify='end'>\n        <Col span={4}>\n          <Form.Item label='玩家id' name='gameId' rules={[{ required: true ,type:'number',min:10000000}]}>\n            <InputNumber placeholder=\"id\" style={{ width:'100%' }}></InputNumber>\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              提交\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  )\n}\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <>\n            {fields.map((field, index) => (\n              <Space key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\n                <Row>\n                  <Col span={24}>\n\n                <Form.Item {...field}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                  <Radio.Group>\n                    <Row>\n                      <Radio.Button value={'speed'}>{'速度'}</Radio.Button>\n                      <Radio.Button value={'stamina'}>{'耐力'}</Radio.Button>\n                      <Radio.Button value={'power'}>{'力量'}</Radio.Button>\n                      <Radio.Button value={'guts'}>{'根性'}</Radio.Button>\n                      <Radio.Button value={'wisdom'}>{'智力'}</Radio.Button>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'grass'}>{'草地/芝'}</Radio.Button>\n                      <Radio.Button value={'dirt'}>{'泥地/ダート'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'shortDistance'}>{'短距离'}</Radio.Button>\n                      <Radio.Button value={'mile'}>{'英里'}</Radio.Button>\n                      <Radio.Button value={'mediumDistance'}>{'中距离'}</Radio.Button>\n                      <Radio.Button value={'longDistance'}>{'长距离'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'escape'}>{'逃'}</Radio.Button>\n                      <Radio.Button value={'leading'}>{'先'}</Radio.Button>\n                      <Radio.Button value={'insert'}>{'差'}</Radio.Button>\n                      <Radio.Button value={'tracking'}>{'追'}</Radio.Button>\n                    </Row>\n                  </Radio.Group>\n                </Form.Item>\n              </Col>\n              <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'level']}\n                  fieldKey={[field.fieldKey,'level']}\n                  rules={[{ required: true }]}>\n                  <Rate count={props.max} />\n                </Form.Item>\n              </Col>\n              <Col span={4}>\n                <Button type=\"dashed\" onClick={() => remove(field.name)}>移除</Button>\n              </Col>\n                </Row>\n\n\n                </Space>\n            ))}\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n              >\n                添加\n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n          </>\n        )}\n      </Form.List>\n  )\n}\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    value.p0?.forEach(item=>{\n      if(blueLabels[item.attr]){\n        formData['blue-0']=item.attr\n        formData.attrs.push('blueLevel-0')\n        formData.levels.push(item.level)\n      }else{\n        formData['red-0']=item.attr\n        formData.attrs.push('redLevel-0')\n        formData.levels.push(item.level)\n      }\n    })\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr)\n      formData.levels.push(item.level)\n    })\n\n    props.search(formData)\n  }\n  return(\n    <Form name='搜索' form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Col span={12}>\n          <PageHeader title='主角'></PageHeader>\n          <SearchOne name='p0' max='3'></SearchOne>\n        </Col>\n        <Col span={12}>\n          <PageHeader title={'总计'}></PageHeader>\n          <SearchOne name='p1' max='9'></SearchOne>\n        </Col>\n      </Row>\n      <Row justify='end'>\n      <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              搜索\n            </Button>\n      </Form.Item>\n      </Row>\n    </Form>\n  )\n}\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={imgUrl} width={150} preview={false}></Image>\n}\nconst columns = [\n  {title:'玩家id',dataIndex:'gameId',key:'gameId',render:text=>(text)},\n  {title:'主要',dataIndex:'playerId-0',key:'playerId-0',\n  render:text=>(<PlayerImage id={text}></PlayerImage>)},\n  {title:'蓝色因子',dataIndex:'blue-0',key:'blue-0',\n    render:(text,record)=>(\n    <Row>\n      <span className='rate-label'>{blueLabels[text]}</span>\n      <Rate count={3} value={record['blueLevel-0']} disabled></Rate>\n    </Row>)},\n  {title:'红色因子',dataIndex:'red-0',key:'red-0',\n    render:(text,record)=>(\n    <Row>\n      <span className='rate-label'>{redLabels[text]}</span>\n      <Rate count={3} value={record['redLevel-0']} disabled></Rate>\n    </Row>)},\n  {title:'绿色因子',dataIndex:'greenLevel-0',key:'greenLevel-0',\n    render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>等级</span>\n        <Rate count={3} value={record['greenLevel-0']} disabled></Rate>\n      </Row>)},\n  {title:'父辈1',dataIndex:'playerId-1',key:'playerId-1',\n  render:text=>(<PlayerImage id={text}></PlayerImage>)},\n  {title:'父辈2',dataIndex:'playerId-2',key:'playerId-2',\n  render:text=>(<PlayerImage id={text}></PlayerImage>)},\n  {title:'总计蓝色',key:'allBlue',render:(text,record)=>(\n    Object.keys(blueLabels).map(key=>{\n      if(record[key]){\n        // console.log(key,record[key])\n        return (\n          <Row justify=\"space-between\" key='key'>\n            <Col>\n              <span className='rate-label'>{blueLabels[key]}</span>\n            </Col>\n            <Col>\n              <Rate count={record[key]} value={record[key]} disabled></Rate>\n            </Col>\n          </Row>\n        )\n      }\n    })\n  )},\n  {title:'总计红色',key:'allRed',render:(text,record)=>(\n    Object.keys(redLabels).map(key=>{\n      if(record[key]){\n        return (\n          <Row justify=\"space-between\">\n            <Col>\n              <span className='rate-label'>{redLabels[key]}</span>\n            </Col>\n            <Col>\n              <Rate count={record[key]} value={record[key]} disabled></Rate>\n            </Col>\n          </Row>\n        )\n      }\n    })\n  )},\n\n  {title:'总计白色',dataIndex:'white',key:'white',render:text=>(text)},\n]\nconst Seed = ()=>{\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList,setSeedList] = useState([])\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const search = async (value)=>{\n    const res = await axios.post('http://urarawin.com/api/search',value)\n    if(res.data){\n      setSeedList([...res.data])\n    }else{\n      message.info('么的数据')\n    }\n  }\n  return(\n  <>\n  <Row justify='center'>\n    <Col span={2}>\n    <Button onClick={showSeedInput}>配置我的种子</Button>\n    <Alert message='试运行' type='info'></Alert>\n    </Col>\n    <Col span={20}>\n      <SearchForm search={search}></SearchForm>\n    </Col>\n  </Row>\n  <Divider>结果</Divider>\n    <Row justify='center'>\n\n\n      <Table columns={columns} dataSource={seedList} pagination={false}/>\n\n\n\n    </Row>\n\n  <Modal visible={isSeedInputVisible} onOk={closeSeedInput} onCancel={closeSeedInput} footer={null} width={'80%'}>\n    <SeedInput onFinish={closeSeedInput}></SeedInput>\n  </Modal>\n  </>\n  )\n}\nexport default Seed\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\n\nimport 'antd/dist/antd.css';\nimport { Row,Col,Image,Layout,Menu,Button,Popover} from 'antd'\n\nimport './index.css'\n// import db from './db.js'\n// import EventList from './components/event-list.js'\n// import SkillList from './components/skill-list.js'\n\nimport db from './db.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\nimport Nurturing from './nurturing.js'\nimport Skill from './skill.js'\nimport Seed from './seed.js'\n\nconst { Header, Content, Footer } = Layout;\n\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\n\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\n\nconst App = ()=>{\n  const reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n  }\n  return (\n<Router>\n    <Layout className=\"layout\">\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n      <Menu theme=\"dark\" mode=\"horizontal\">\n        <Menu.Item key=\"1\"><Link to='/'>角色</Link></Menu.Item>\n        <Menu.Item key=\"2\"><Link to='/support'>支援卡</Link></Menu.Item>\n        <Menu.Item key=\"3\"><Link to='/skill'>技能</Link></Menu.Item>\n        <Menu.Item key=\"4\"><Link to='/race'>比赛</Link></Menu.Item>\n        <Menu.Item key=\"5\"><Link to='/nurturing'>育成</Link></Menu.Item>\n        <Menu.Item key=\"6\"><Link to='/seed'>种🐎</Link></Menu.Item>\n      </Menu>\n    </Header>\n    <Content style={{ padding: '80px 50px' }}>\n      <Route exact path=\"/\" component={Player}/>\n      <Route path=\"/support\" component={Support}/>\n      <Route path=\"/nurturing\" component={Nurturing}/>\n      <Route path=\"/skill\" component={Skill}/>\n      <Route path=\"/race\" component={Race}/>\n      <Route path=\"/seed\" component={Seed}/>\n    </Content>\n  <Footer>\n    <Row gutter={[16,16]}>\n      <Col span={2}>\n        <Popover content={<p>育成界面出现问题时重置</p>}>\n          <Button placement=\"bottom\" onClick={reload}>清空育成缓存</Button>\n         </Popover>\n      </Col>\n      <Col span={16}></Col>\n      <Col span={2}>\n      <Popover content={<><Image src={'img/z.jpg'} width={200}></Image><p>支付宝</p></>}>\n          <Button placement=\"bottom\">捐助</Button>\n        </Popover>\n      </Col>\n      <Col span={2}>\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </Col>\n      <Col span={2}>\n      <Popover content={<Image src={'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"轻 松 赛 马\" title=\"轻 松 赛 马\" />\n        </a>\n      </Popover>\n      </Col>\n    </Row>\n  </Footer>\n  </Layout>\n</Router>\n  )\n}\n\nReactDOM.render((<App></App>),document.getElementById('root'),);\n"],"sourceRoot":""}