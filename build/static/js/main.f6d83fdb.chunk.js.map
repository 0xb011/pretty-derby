{"version":3,"sources":["db.js","pages/race.js","components/t.js","components/event.js","components/skill.js","pages/player.js","pages/support.js","components/buff.js","pages/nurturing.js","pages/nurturing2.js","pages/skill.js","pages/seed.js","app-pc.js","pages/nurturing-mo.js","pages/seed-mo.js","app-mo.js","index.js"],"names":["adapter","LocalStorage","db","low","d","a","axios","get","res","console","log","data","set","write","value","jsonDb","players","supports","skills","events","updateTime","races","buffs","zh","en","has","0","1","2","3","4","5","player","filterList","class","text","grade","place","ground","distanceType","direction","side","labels","mediumLabels","getColumns","map","label","title","dataIndex","filters","onFilter","record","Race","props","allRaceList","race","index","key","useState","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","onSelect","dataSource","pagination","sorter","extra","lan","lanData","ZH","EN","t","EventList","eventList","id","find","pid","filter","event","choiceList","length","EventBox","ChoiceItem","choice","ResultItem","result","gutter","className","span","content","name","SkillList","skillList","skillId","SkillButton","skill","describe","condition","rarity","onClick","src","imgUrl","preview","width","PlayerCard","Group","isModalVisible","setIsModalVisible","cover","Meta","visible","onOk","onCancel","AdaptBox","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","Player","state","list","playerList","prevProps","this","setState","rare","item","xxl","lg","sm","xs","React","Component","defaultProps","SupportCard","trainingEventSkill","possessionSkill","Support","changeChooseMode","chooseMode","showMode","changeShowMode","chosenList","indexOf","push","splice","update","supportList","support","BuffButton","itemLayout","renderItem","Item","Column","cdnServer","NurturingSupport","alt","RaceList","raceList","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","isRaceVisible","setIsRaceVisible","selected","setSupports","setPlayer","setRaces","decks","setDecks","setVisible","closePlayer","closeSupport","closeRace","saveDeck","deck","tmpDeck","imgUrls","supportsId","playerId","assign","shortid","generate","loadDeck","onConfirm","danger","remove","deleteDeck","onClose","getContainer","style","position","closable","placement","mask","maskClosable","showSupport","newData","Object","margin","float","padding","top","left","height","overflow","shape","icon","EditOutlined","Set","CheckboxGroup","Skill","allSkillList","orderBy","allSupportList","allPlayerList","mySupports","mySkillList","forEach","supportId","add","setSkillList","skillSupportList","setSkillSupportList","skillPlayerList","setSkillPlayerList","skillName","setSkillName","checkedList1","setCheckedList1","checkedList2","setCheckedList2","size","mode","setMode","updateSkillList","check1","check2","tempSkillList","flag","icon_id","showModal","tempSupportList","tempPlayerList","handleOk","handleCancel","rareLabel","options","checkedValues","checked","userId","blueLabels","redLabels","PlayerInput","setData","triggerChange","changedValue","fallback","minWidth","SupportInput","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","formData","Date","getTime","i","undefined","post","success","message","info","children","offset","rules","required","Button","count","initialValue","min","max","dots","tooltipPlacement","getFields","justify","getFieldValue","validator","_","match","Promise","resolve","reject","Error","placeholder","htmlType","SearchOne","List","fields","errors","field","display","marginBottom","align","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","level","p1","search","resetFields","PlayerImage","SupportImage","render","disabled","keys","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","closeSeedInput","rowKey","footer","Header","Content","Footer","AppPc","langText","setLangText","zIndex","theme","to","exact","path","component","Nurturing2","6","frameBorder","scrolling","target","rel","href","border","skillShow","setSkillShow","wrap","flex","paddingLeft","lists","cascade","arrow","SeedCard","gameId","App1","open","onOpenChange","reload","linkList","marginTop","onLeftClick","minHeight","document","documentElement","clientHeight","WebkitOverflowScrolling","enableDragHandle","contentStyle","color","textAlign","paddingTop","sidebar","NurturingMO","SeedMo","ua","ie_upto10","test","navigator","userAgent","ie_11up","exec","ie_edge","mac","platform","ie","ie_version","documentMode","gecko","gecko_version","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","webkit_version","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.f6d83fdb.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport axios from 'axios'\nimport jsonDb from './assert/db.json'\n\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/d')\n  console.log(res.data)\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\n\ndb.set('players',jsonDb.players).write()\ndb.set('supports',jsonDb.supports).write()\ndb.set('skills',jsonDb.skills).write()\ndb.set('events',jsonDb.events).write()\ndb.set('updateTime',jsonDb.updateTime).write()\ndb.set('races',jsonDb.races).write()\ndb.set('buffs',jsonDb.buffs).write()\ndb.set('zh',jsonDb.zh).write()\ndb.set('en',jsonDb.en).write()\n// db.set('lan','en').write()\n//重新加载\ndb.has('lan').value()||db.set('lan','zh').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import React,{useState} from 'react';\nimport db from '../db.js'\n\nimport { Table } from 'antd';\n\n // { name: '葵ステークス',\n  //   date: '2年目 5月後半',\n  //   dateNum: 34,\n  //   class: 'クラシック',\n  //   grade: 'G3',\n  //   place: '京都',\n  //   ground: '芝',\n\n  //   distance: '1400',\n  //   distanceType: '短距離',\n  //   order: '右' }\n  // { class: [ 'ジュニア', 'クラシック', 'クラシックシニア', 'シニア' ],\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\n  // place: [ '中京', '函館', '札幌', '小倉', '新潟', '阪神', '中山', '京都', '東京', '福島', '大井' ],\n  // ground: [ '芝', 'ダート' ],\n  // distanceType: [ 'マイル', '短距離', '中距離', '長距離' ],\n  // direction: [ '左', '右', '直' ],\n  // side: [ null, '内', '外', '線' ] }\n const filterList= { class:\n    [ { text: '初等/ジュニア', value: 'ジュニア' },\n      { text: '经典/クラシック', value: 'クラシック' },\n      { text: '经典&高级/クラシックシニア', value: 'クラシックシニア' },\n      { text: '高级/シニア', value: 'シニア' } ],\n   grade:\n   [\n      { text: 'Pre-OP', value: 'Pre-OP' },\n      { text: 'OP', value: 'OP' },\n      { text: 'G1', value: 'G1' },\n      { text: 'G2', value: 'G2' },\n      { text: 'G3', value: 'G3' }\n    ],\n   place:\n    [ { text: '中京', value: '中京' },\n      { text: '函館', value: '函館' },\n      { text: '札幌', value: '札幌' },\n      { text: '小倉', value: '小倉' },\n      { text: '新潟', value: '新潟' },\n      { text: '阪神', value: '阪神' },\n      { text: '中山', value: '中山' },\n      { text: '京都', value: '京都' },\n      { text: '東京', value: '東京' },\n      { text: '福島', value: '福島' },\n      { text: '大井', value: '大井' } ],\n   ground: [ { text: '芝', value: '芝' }, { text: 'ダート', value: 'ダート' } ],\n   distanceType:\n   [\n     { text: '短距離', value: '短距離' },\n     { text: 'マイル', value: 'マイル' },\n      { text: '中距離', value: '中距離' },\n      { text: '長距離', value: '長距離' } ],\n   direction:\n    [ { text: '左', value: '左' },\n      { text: '右', value: '右' },\n      { text: '直', value: '直' } ],\n   side:\n    [ { text: '空', value: null },\n      { text: '内', value: '内' },\n      { text: '外', value: '外' },\n      { text: '線', value: '線' } ] }\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\n                  \"place\", \"ground\", \"distance\",\n                  \"distanceType\", \"direction\", \"side\"]\n  const mediumLabels = [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"]\n  const getColumns = (labels)=>{\n    return labels.map(label=> {\n      if(filterList['class']){\n        return {\n          title:label,\n          dataIndex:label,\n          filters:filterList[label],\n          onFilter: (value, record) => record[label] === value,\n        }\n      }else{\n        return{\n          title:label,\n          dataIndex:label\n        }\n      }\n    })\n  }\n\n  const Race = (props) =>{\n    const allRaceList = db.get('races').value().map((race,index)=>{\n                      race.key=index\n                      return race\n                    })\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\n    let columns = getColumns(labels)\n    if(props.type==='medium'){\n      columns = getColumns(mediumLabels)\n    }\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\n      props.onSelect(selectedRows)\n      setSelectedRowKeys(selectedRowKeys)\n    }\n    const rowSelection = {\n      selectedRowKeys,\n      onChange:onSelectChange\n    }\n    // 筛选发生变化时清空已经选择的内容\n    const onChange = (pagination, filters, sorter, extra) => {\n      props.onSelect([])\n      setSelectedRowKeys([])\n    }\n    return(\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns}\n      dataSource={allRaceList} onChange={onChange} pagination={false}/>\n      )\n  }\n\nexport  default Race\n","import low from 'lowdb';\r\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\r\n\r\nimport ZH from '../assert/zh.json'\r\nimport EN from '../assert/en.json'\r\nconst adapter = new LocalStorage('db')\r\nconst db = low(adapter)\r\n\r\nconst lan = db.get('lan').value()||'zh'\r\nlet lanData = {}\r\nif(lan==='zh'){\r\n  lanData = ZH.zh\r\n}else{\r\n  lanData = EN.en\r\n}\r\nconst t = (text)=>{\r\n    return lanData[text] || text\r\n}\r\nexport  default t\r\n","import React from 'react';\nimport db from '../db.js'\nimport t from './t.js'\nimport { Divider,Row,Col,Popover,Button } from 'antd';\n\nconst EventList = (props)=>{\n  const eventIdList = props.eventList\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id,pid:props.pid}).value())\n  if(props.type==='multi'){\n    return(<>\n      {/* <Divider>多选</Divider> */}\n      {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    </>\n    )\n  }\n  return (\n    <>\n    <Divider>多选</Divider>\n    {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    <Divider>单选</Divider>\n    {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    </>\n  )\n}\nconst EventBox = (props)=>{\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\n    const ResultItem = choice[1].map((result,index)=>\n        <p key={index}>{result}</p>\n      )\n      return(\n        <Row key={index} gutter={[8,8]} className=\"list-row\">\n          <Col span={12}><p>{choice[0]}</p></Col>\n          <Col span={12}>{ResultItem}</Col>\n        </Row>\n      )\n    })\n\n    return(\n      <Popover content={<>\n        <p>{t(props.event.name)}</p>\n        {ChoiceItem}\n      </>} title={props.event.name}>\n        <Button className='event-button'>{props.event.name}</Button>\n      </Popover>\n    )\n}\n\nexport {EventList}\n","import React from 'react';\nimport db from '../db.js'\n\nimport { Row,Popover,Button,Image } from 'antd';\nimport t from './t.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SkillList = (props)=>{\n  const skillList = props.skillList\n\n  return (\n    <Row gutter={0}>\n      {skillList.map((skillId)=><SkillButton key={skillId} id={skillId}></SkillButton>)}\n      </Row>\n  )\n}\nconst SkillButton = (props)=>{\n  const skill = props.skill || db.get('skills').find({id:props.id}).value()\n\n    return(\n      <Popover content={<>\n      <p>{'技能名称： '+t(skill.name)}</p>\n      <p>{'技能描述： '+skill.describe}</p>\n      <p>{'技能描述： '+t(skill.describe)}</p>\n      <p>{skill.condition}</p>\n      <p>{'触发条件： '+t(skill.condition)}</p>\n      </>} title={skill.name}\n      >\n        <Button className={'skill-button skill-button-'+skill.rarity} onClick={()=>props.onClick&&props.onClick(skill)}>\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\n          {skill.name}\n        </Button>\n      </Popover>\n    )\n}\n\nexport {SkillList,SkillButton}\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Image,Modal,Checkbox,Card} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\n\nconst CheckboxGroup = Checkbox.Group\n\n// todo 提取出来\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst PlayerCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Card cover={\n        <Image src={cdnServer+props.data.imgUrl} preview={false} onClick={showModal} width={'100%'}></Image>\n\n      }>\n        <Card.Meta title={t(props.data.name)} ></Card.Meta>\n      </Card>\n      <Modal title={props.data.name} visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n        width={800} >\n        <span>{t(props.data.name)}</span>\n        <Divider>适应</Divider>\n        <AdaptBox player={props.data}></AdaptBox>\n        <Divider>成长</Divider>\n        <GrowBox player={props.data}></GrowBox>\n        <Divider>技能</Divider>\n        <SkillList skillList={props.data.skillList}></SkillList>\n        <Divider>事件</Divider>\n        <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n      </Modal>\n    </>\n  )\n}\nconst AdaptBox = (props)=>\n  <Row  gutter={[8, 8]}>\n    <Col span = {6}>草地/芝</Col>\n    <Col span = {6}>泥地/ダート</Col>\n    <Col span = {6}></Col>\n    <Col span = {6}></Col>\n    <Col span = {6}>{props.player.grass}</Col>\n    <Col span = {6}>{props.player.dirt}</Col>\n    <Col span = {6}></Col>\n    <Col span = {6}></Col>\n\n    <Col span = {6}>短距离</Col>\n    <Col span = {6}>英里/マイル</Col>\n    <Col span = {6}>中距离</Col>\n    <Col span = {6}>长距离</Col>\n    <Col span = {6}>{props.player.shortDistance}</Col>\n    <Col span = {6}>{props.player.mile}</Col>\n    <Col span = {6}>{props.player.mediumDistance}</Col>\n    <Col span = {6}>{props.player.longDistance}</Col>\n\n    <Col span = {6}>逃脱/逃げ</Col>\n    <Col span = {6}>先行</Col>\n    <Col span = {6}>插入/差</Col>\n    <Col span = {6}>追击/追込</Col>\n    <Col span = {6}>{props.player.escape}</Col>\n    <Col span = {6}>{props.player.leading}</Col>\n    <Col span = {6}>{props.player.insert}</Col>\n    <Col span = {6}>{props.player.tracking}</Col>\n  </Row>\n\nconst GrowBox = (props)=>\n  <Row gutter={[8, 8]}>\n    <Col span = {4}>速度/スピード</Col>\n    <Col span = {4}>耐力/スタミナ</Col>\n    <Col span = {4}>力量/パワー</Col>\n    <Col span = {4}>毅力/根性</Col>\n    <Col span = {5}>智慧/賢さ</Col>\n\n    <Col span = {4}>{props.player.speedGrow}</Col>\n    <Col span = {4}>{props.player.staminaGrow}</Col>\n    <Col span = {4}>{props.player.powerGrow}</Col>\n    <Col span = {4}>{props.player.gutsGrow}</Col>\n    <Col span = {5}>{props.player.wisdomGrow}</Col>\n  </Row>\n//todo filter\nclass Player extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {list:props.playerList}\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.playerList !== prevProps.playerList){\n      this.setState({list:this.props.playerList})\n    }\n  }\n  render(){\n    return(\n      <>\n        {\n          ['3','2','1'].map(rare=>(\n            <Row gutter={[16,16]} key={rare}>\n            <Divider>{rare}星</Divider>\n          {this.state.list.filter(item=>item.rare===rare).map(player=>\n            <Col xxl={2} lg={3} sm={6} xs={6} key={player.id}>\n              <PlayerCard data={player} onSelect={this.props.onSelect}></PlayerCard>\n            </Col>)\n          }\n          </Row>\n          ))\n        }</>\n    )\n  }\n}\nPlayer.defaultProps={\n  playerList:db.get('players').value()\n}\n\nexport  default Player\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Image,Modal,Button} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SupportCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Image src={cdnServer+props.data.imgUrl} preview={false}  onClick={showModal} width={'100%'}></Image>\n      <Modal title={props.data.name} visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n        width={800} >\n          <p>{t(props.data.name)}</p>\n        <Divider>培训技能</Divider>\n          <SkillList skillList={props.data.trainingEventSkill}></SkillList>\n          <Divider>自带技能</Divider>\n          <SkillList skillList={props.data.possessionSkill}></SkillList>\n          <Divider>事件</Divider>\n        <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n      </Modal>\n    </>\n  )\n}\nclass Support extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      list:props.supportList,\n      chooseMode:false,\n      showMode:false,\n      chosenList:db.get('mySupports').value()||[]}\n\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.supportList !== prevProps.supportList){\n      this.setState({list:this.props.supportList})\n    }\n  }\n  changeChooseMode=()=>{\n    this.setState({chooseMode:!this.state.chooseMode})\n    this.setState({showMode:!this.state.chooseMode})\n  }\n  changeShowMode=()=>{\n    this.setState({showMode:!this.state.showMode})\n  }\n  onSelect=(item)=>{\n    let index = this.state.chosenList.indexOf(item.id)\n    if (index === -1){\n      this.state.chosenList.push(item.id)\n    }else{\n      this.state.chosenList.splice(index,1)\n    }\n    db.update('mySupports',this.state.chosenList).write()\n    this.setState({})\n  }\n  render(){\n    return (\n      <>\n      <Button onClick={this.changeShowMode}>切换显示模式</Button>\n      <Button onClick={this.changeChooseMode}>配置卡组</Button>\n      {this.state.chooseMode && <Button onClick={this.changeChooseMode} type='primary'>配置完成</Button>}\n      {/* <p>{JSON.stringify(this.state.chosenList)}</p> */}\n      {\n        ['SSR','SR','R'].map(rare=>\n          <Row gutter={[16,16]} key={rare}>\n            <Divider>{rare}</Divider>\n            {this.state.list.filter(item=>item.rare===rare).map(support=>\n              <Col xxl={2} lg={3} sm={4} xs={6} key={support.id}\n              className={this.state.showMode&&this.state.chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}\n              // className={'un-chosen-card'}\n              >\n                <SupportCard data={support} onSelect={this.state.chooseMode?this.onSelect:this.props.onSelect}\n                chooseMode={this.props.chooseMode}></SupportCard>\n              </Col>)\n            }\n          </Row>\n        )\n      }\n      </>\n      )\n  }\n}\n\nSupport.defaultProps={\n  supportList:db.get('supports').value()\n}\nexport default Support\n","import React,{useState} from 'react';\nimport db from '../db.js'\n\nimport { List,Popover,Button } from 'antd';\nimport t from './t.js'\n\nconst BuffButton = (props)=>{\n  const buffs = db.get('buffs').value()\n  return(\n    <Popover content={\n      <List itemLayout=\"horizontal\" dataSource={buffs}\n      renderItem={item=>\n        <List.Item>\n          <p>{item.name}</p>\n          <p>{item.describe}</p>\n        </List.Item>\n      }/>\n    }>\n      <Button>Buff查询</Button>\n    </Popover>\n  )\n}\nexport {BuffButton}\n","import React,{useState} from 'react';\r\nimport shortid from 'shortid'\r\nimport db from '../db.js'\r\n\r\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm} from 'antd';\r\n\r\nimport {EventList} from '../components/event.js'\r\nimport {SkillList} from '../components/skill.js'\r\nimport {BuffButton} from '../components/buff.js'\r\n\r\nimport Race from './race.js'\r\nimport Player from './player.js'\r\nimport Support from './support.js'\r\n\r\nconst {Column} = Table\r\n\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\n\r\nconst NurturingSupport = (props)=>{\r\n  return (\r\n    <Row>\r\n          <Col span={4}>\r\n            <img src={cdnServer+props.data.imgUrl} alt={props.data.name} width={'100%'}></img>\r\n          </Col>\r\n          <Col span={20}>\r\n            <SkillList skillList={props.data.skillList} ></SkillList>\r\n          </Col>\r\n          <Col span={24}>\r\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\r\n          </Col>\r\n    </Row>\r\n  )\r\n}\r\n// 培育界面 马娘赛程\r\nconst RaceList = (props) =>{\r\n  return (\r\n    <Row className={'race-row'}>\r\n      {\r\n        props.raceList.map((race,index)=>{\r\n          // 忽略出道战\r\n          if(race[1][2]){\r\n            return(\r\n          <Col span={12} key={index}>\r\n            <Row className={'race-row-'+index%4}>\r\n              <Col span={4} className={'race-name'} >\r\n                <p>{race[0]}</p>\r\n              </Col>\r\n              <Col span = {20} className={'race-detail'}>\r\n              {race[1].map((item,index)=>\r\n                  <p key={index}>{item}</p>\r\n                  )}\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n            )\r\n          }else{\r\n            return null\r\n          }\r\n        }\r\n      )}\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst Nurturing = () =>{\r\n  const [needSelect,setNeedSelect] = useState(false)\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [supportIndex, setSupportIndex] = useState(1);\r\n\r\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\r\n\r\n  const selected = db.get('selected').value()\r\n  const [supports, setSupports] = useState(selected.supports);\r\n  const [player, setPlayer] = useState(selected.player);\r\n  const [races,setRaces] = useState(selected.races)\r\n\r\n  const [decks,setDecks] = useState(db.get('myDecks').value())\r\n  const [visible, setVisible] = useState(false);\r\n\r\n\r\n\r\n  const showPlayer = () => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const handleSelectPlayer = (data)=>{\r\n    setIsPlayerVisible(false);\r\n    setPlayer(data)\r\n\r\n    // save\r\n    selected.player = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n\r\n  const showSupport = (index) => {\r\n    setNeedSelect(true)\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index)\r\n  };\r\n  const showSupport2 = (index) => {\r\n    setNeedSelect(false)\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index)\r\n  };\r\n\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const handleSelectSupport = (data)=>{\r\n    let newData= {}\r\n    newData[supportIndex] = data\r\n    setSupports(Object.assign({},supports,newData))\r\n    setIsSupportVisible(false);\r\n\r\n    // save\r\n    selected.supports[supportIndex] = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n  const showRace = ()=>{\r\n    setNeedSelect(true)\r\n    setIsRaceVisible(true);\r\n  }\r\n  const closeRace = () => {\r\n    setIsRaceVisible(false);\r\n  };\r\n  const handleSelectRace = (data)=>{\r\n    setRaces(data);\r\n\r\n    // save\r\n    selected.races = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n  const showDrawer = ()=>{\r\n    setVisible(true)\r\n  }\r\n  const onDrawerClose = (data)=>{\r\n    setVisible(false)\r\n  }\r\n\r\n  // 卡组相关操作\r\n  const saveDeck = (deck)=>{\r\n    let tmpDeck = {\r\n      imgUrls:[],\r\n      supportsId:[],\r\n    }\r\n    if(player.id){\r\n      tmpDeck.playerId = player.id\r\n      tmpDeck.imgUrls.push(player.imgUrl)\r\n    }\r\n    [0,1,2,3,4,5].map(index=>{\r\n      if(supports[index]&&supports[index].id){\r\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\r\n        tmpDeck.supportsId.push(supports[index].id)\r\n      }else{\r\n        tmpDeck.supportsId.push(null)\r\n      }\r\n    })\r\n    if(deck){\r\n      //update\r\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\r\n    }else{\r\n      //\r\n      tmpDeck.id = shortid.generate()\r\n      db.get('myDecks').push(tmpDeck).write()\r\n    }\r\n    setDecks([...db.get('myDecks').value()])\r\n  }\r\n  const loadDeck = (deck)=>{\r\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\r\n    selected.player={}\r\n    if(deck.playerId){\r\n      selected.player = db.get('players').find({id:deck.playerId}).value()\r\n    }\r\n    setPlayer(selected.player)\r\n    deck.supportsId.map((id,index)=>{\r\n      if(id){\r\n        selected.supports[index]=db.get('supports').find({id:id}).value()\r\n      }\r\n    })\r\n    setSupports({...selected.supports})\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n  const deleteDeck = (deck)=>{\r\n    db.get('myDecks').remove({id:deck.id}).write()\r\n    setDecks([...db.get('myDecks').value()])\r\n  }\r\n\r\n\r\n  return(\r\n    <Row className='nurturing-box' gutter={[32,8]}>\r\n\r\n      <Col sm={7} xs={24}>\r\n        <Button type={'primary'} onClick={showPlayer}>选择马娘</Button>\r\n        <Button onClick={showSupport2}>辅助卡查询</Button>\r\n        <Button onClick={showRace}>选择关注赛事</Button>\r\n        <Button onClick={showDrawer}>查看关注赛事</Button>\r\n        <Popover width={'100%'} content={\r\n          <>\r\n            <Button onClick={()=>saveDeck()}>保存为新卡组</Button>\r\n            {decks.map(deck=>\r\n              <Row key={deck.id}>\r\n                {deck.imgUrls.map(imgUrl=>\r\n                  <Col span={3} key={imgUrl}>\r\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\r\n                  </Col>\r\n                )}\r\n                <Col span={3}>\r\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}>读取卡组</Button>\r\n                  <Popconfirm title=\"确认覆盖？\" onConfirm={()=>saveDeck(deck)}>\r\n                    <Button danger type=\"dashed\">覆盖卡组</Button>\r\n                  </Popconfirm>\r\n                  <Popconfirm title=\"确认删除？\" onConfirm={()=>deleteDeck(deck)}>\r\n                    <Button danger type=\"dashed\">删除卡组</Button>\r\n                  </Popconfirm>\r\n                </Col>\r\n              </Row>\r\n            )}\r\n          </>\r\n        }><Button>卡组</Button></Popover>\r\n        <BuffButton></BuffButton>\r\n        <Divider></Divider>\r\n        <Row>\r\n          <Col span={4}>\r\n            <img src={player.id?cdnServer+player.imgUrl:null} width='100%'></img>\r\n          </Col>\r\n          <Col span={20}>\r\n            <SkillList skillList={player.id?player.skillList:[]}></SkillList>\r\n          </Col>\r\n        </Row>\r\n        <Divider></Divider>\r\n        <RaceList raceList={player.id?player.raceList:[]}></RaceList>\r\n        <Drawer\r\n        title=\"关注赛事\"\r\n        onClose={onDrawerClose}\r\n        visible={visible}\r\n        getContainer={false}\r\n        style={{ position: 'absolute' }}\r\n        closable={true}\r\n        placement=\"left\"\r\n        mask={true}\r\n        maskClosable={true}\r\n        width={'95%'}\r\n      >\r\n        <Table dataSource={races} pagination={false}>\r\n          <Column title=\"名称\" dataIndex=\"name\" key=\"name\" />\r\n          <Column title=\"时间\" dataIndex=\"date\" key=\"date\" />\r\n          <Column title=\"级别\" dataIndex=\"grade\" key=\"grade\" />\r\n          <Column title=\"类型\" dataIndex=\"distanceType\" key=\"distanceType\" />\r\n        </Table>\r\n      </Drawer>\r\n      {player.id&&\r\n          <EventList eventList={player.eventList} pid={player.id}></EventList>\r\n        }\r\n      </Col>\r\n      <Col sm={17} xs={24}>\r\n        <Row gutter={[16,16]}>\r\n        {[0,1,2,3,4,5].map(index=>\r\n          <Col sm={8} xs={24} key={index}>\r\n            <Button onClick={()=>showSupport(index)}>选择辅助卡</Button>\r\n            {supports[index]&&supports[index].id &&<NurturingSupport data={supports[index]} ></NurturingSupport>}\r\n          </Col>\r\n        )}\r\n        </Row>\r\n      </Col>\r\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\r\n        <Player onSelect={handleSelectPlayer}></Player>\r\n      </Modal>\r\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\r\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\r\n      </Modal>\r\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\r\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\r\n      </Modal>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Nurturing\r\n","import React,{useState} from 'react';\r\nimport shortid from 'shortid'\r\nimport db from '../db.js'\r\n\r\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm,Tooltip} from 'antd';\r\nimport {EditOutlined} from '@ant-design/icons'\r\n\r\nimport {EventList} from '../components/event.js'\r\nimport {SkillList} from '../components/skill.js'\r\nimport {BuffButton} from '../components/buff.js'\r\n\r\nimport Race from './race.js'\r\nimport Player from './player.js'\r\nimport Support from './support.js'\r\n\r\nconst {Column} = Table\r\n\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\n\r\n// 培育界面 马娘赛程\r\nconst RaceList = (props) =>{\r\n  return (\r\n    <Row className={'race-row'}>\r\n      {\r\n        props.raceList.map((race,index)=>{\r\n          // 忽略出道战\r\n          if(race[1][2]){\r\n            return(\r\n          <Col span={12} key={index}>\r\n            <Row className={'race-row-'+index%4}>\r\n              <Col span={4} className={'race-name'} >\r\n                <p>{race[0]}</p>\r\n              </Col>\r\n              <Col span = {20} className={'race-detail'}>\r\n              {race[1].map((item,index)=>\r\n                  <p key={index}>{item}</p>\r\n                  )}\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n            )\r\n          }else{\r\n            return null\r\n          }\r\n        }\r\n      )}\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst Nurturing = () =>{\r\n  const [needSelect,setNeedSelect] = useState(false)\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [supportIndex, setSupportIndex] = useState(1);\r\n\r\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\r\n\r\n  const selected = db.get('selected').value()\r\n  const [supports, setSupports] = useState(selected.supports);\r\n  const [player, setPlayer] = useState(selected.player);\r\n  const [races,setRaces] = useState(selected.races)\r\n\r\n  const [decks,setDecks] = useState(db.get('myDecks').value())\r\n  const [visible, setVisible] = useState(false);\r\n\r\n\r\n\r\n  const showPlayer = () => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const handleSelectPlayer = (data)=>{\r\n    setIsPlayerVisible(false);\r\n    setPlayer(data)\r\n\r\n    // save\r\n    selected.player = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n\r\n  const showSupport = (index) => {\r\n    setNeedSelect(true)\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index)\r\n  };\r\n  const showSupport2 = (index) => {\r\n    setNeedSelect(false)\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index)\r\n  };\r\n\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const handleSelectSupport = (data)=>{\r\n    let newData= {}\r\n    newData[supportIndex] = data\r\n    setSupports(Object.assign({},supports,newData))\r\n    setIsSupportVisible(false);\r\n\r\n    // save\r\n    selected.supports[supportIndex] = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n  const showRace = ()=>{\r\n    setNeedSelect(true)\r\n    setIsRaceVisible(true);\r\n  }\r\n  const closeRace = () => {\r\n    setIsRaceVisible(false);\r\n  };\r\n  const handleSelectRace = (data)=>{\r\n    setRaces(data);\r\n\r\n    // save\r\n    selected.races = data\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n  const showDrawer = ()=>{\r\n    setVisible(true)\r\n  }\r\n  const onDrawerClose = (data)=>{\r\n    setVisible(false)\r\n  }\r\n\r\n  // 卡组相关操作\r\n  const saveDeck = (deck)=>{\r\n    let tmpDeck = {\r\n      imgUrls:[],\r\n      supportsId:[],\r\n    }\r\n    if(player.id){\r\n      tmpDeck.playerId = player.id\r\n      tmpDeck.imgUrls.push(player.imgUrl)\r\n    }\r\n    [0,1,2,3,4,5].map(index=>{\r\n      if(supports[index]&&supports[index].id){\r\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\r\n        tmpDeck.supportsId.push(supports[index].id)\r\n      }else{\r\n        tmpDeck.supportsId.push(null)\r\n      }\r\n    })\r\n    if(deck){\r\n      //update\r\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\r\n    }else{\r\n      //\r\n      tmpDeck.id = shortid.generate()\r\n      db.get('myDecks').push(tmpDeck).write()\r\n    }\r\n    setDecks([...db.get('myDecks').value()])\r\n  }\r\n  const loadDeck = (deck)=>{\r\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\r\n    selected.player={}\r\n    if(deck.playerId){\r\n      selected.player = db.get('players').find({id:deck.playerId}).value()\r\n    }\r\n    setPlayer(selected.player)\r\n    deck.supportsId.map((id,index)=>{\r\n      if(id){\r\n        selected.supports[index]=db.get('supports').find({id:id}).value()\r\n      }\r\n    })\r\n    setSupports({...selected.supports})\r\n    db.get('selected').assign(selected).write()\r\n  }\r\n  const deleteDeck = (deck)=>{\r\n    db.get('myDecks').remove({id:deck.id}).write()\r\n    setDecks([...db.get('myDecks').value()])\r\n  }\r\n\r\n\r\n  return(\r\n    <Row className='nurturing-box' gutter={[16,16]}>\r\n      <Col sm={8} xs={24}>\r\n        <Button type={'primary'} onClick={showPlayer}>选择马娘</Button>\r\n        <Button onClick={showSupport2}>辅助卡查询</Button>\r\n        <Button onClick={showRace}>选择关注赛事</Button>\r\n        <Button onClick={showDrawer}>查看关注赛事</Button>\r\n        <Popover width={'100%'} content={\r\n          <>\r\n            <Button onClick={()=>saveDeck()}>保存为新卡组</Button>\r\n            {decks.map(deck=>\r\n              <Row key={deck.id}>\r\n                {deck.imgUrls.map(imgUrl=>\r\n                  <Col span={3} key={imgUrl}>\r\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\r\n                  </Col>\r\n                )}\r\n                <Col span={3}>\r\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}>读取卡组</Button>\r\n                  <Popconfirm title=\"确认覆盖？\" onConfirm={()=>saveDeck(deck)}>\r\n                    <Button danger type=\"dashed\">覆盖卡组</Button>\r\n                  </Popconfirm>\r\n                  <Popconfirm title=\"确认删除？\" onConfirm={()=>deleteDeck(deck)}>\r\n                    <Button danger type=\"dashed\">删除卡组</Button>\r\n                  </Popconfirm>\r\n                </Col>\r\n              </Row>\r\n            )}\r\n          </>\r\n        }><Button>卡组</Button></Popover>\r\n        <BuffButton></BuffButton>\r\n        <Divider style={{margin:'4px 0'}}></Divider>\r\n        <img src={player.id?cdnServer+player.imgUrl:null} width='20%' style={{float:'left'}}></img>\r\n        <EventList eventList={player.eventList} pid={player.id} type='multi'></EventList>\r\n        <RaceList raceList={player.id?player.raceList:[]}></RaceList>\r\n        <SkillList skillList={player.id?player.skillList:[]}></SkillList>\r\n        <Drawer\r\n        title=\"关注赛事\"\r\n        onClose={onDrawerClose}\r\n        visible={visible}\r\n        getContainer={false}\r\n        style={{ position: 'absolute' }}\r\n        closable={true}\r\n        placement=\"left\"\r\n        mask={true}\r\n        maskClosable={true}\r\n        width={'95%'}\r\n      >\r\n        <Table dataSource={races} pagination={false}>\r\n          <Column title=\"名称\" dataIndex=\"name\" key=\"name\" />\r\n          <Column title=\"时间\" dataIndex=\"date\" key=\"date\" />\r\n          <Column title=\"级别\" dataIndex=\"grade\" key=\"grade\" />\r\n          <Column title=\"类型\" dataIndex=\"distanceType\" key=\"distanceType\" />\r\n        </Table>\r\n      </Drawer>\r\n\r\n      </Col>\r\n\r\n      <Col sm={16} xs={24}>\r\n        <Row gutter={[16,16]}>\r\n        {[0,1,2,3,4,5].map(index=>\r\n          <Col sm={8} xs={24} key={index} style={{}}>\r\n            {supports[index]&&supports[index].id?\r\n            <>\r\n              <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width={'100%'}\r\n               ></img>\r\n              <div style={{position:'absolute',padding:'12px',\r\n                          top:'0',left:'0',\r\n                          width:'100%',height:'100%',\r\n                          overflow:'auto'}} className='support-card'>\r\n                <Tooltip title=\"选择辅助卡\">\r\n                  <Button shape=\"circle\" icon={<EditOutlined />} onClick={()=>showSupport(index)}/>\r\n                </Tooltip>\r\n                <EventList eventList={supports[index].eventList} pid={supports[index].id} type='multi'></EventList>\r\n                <Divider style={{margin:'8px 0'}}></Divider>\r\n                <SkillList skillList={[...new Set(supports[index].skillList)]} ></SkillList>\r\n              </div>\r\n            </>\r\n            :<Button onClick={()=>showSupport(index)}>选择辅助卡</Button>\r\n            }\r\n          </Col>\r\n        )}\r\n        </Row>\r\n      </Col>\r\n\r\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\r\n        <Player onSelect={handleSelectPlayer}></Player>\r\n      </Modal>\r\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\r\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\r\n      </Modal>\r\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\r\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\r\n      </Modal>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Nurturing\r\n\r\n\r\n","import React,{useState} from 'react';\nimport { Divider,Row,Col,Tooltip,Button,Checkbox,Modal,PageHeader,Switch} from 'antd';\n\nimport db from '../db.js'\nimport Support from './support.js'\nimport Player from './player.js'\nimport t from '../components/t.js'\nimport {SkillButton} from '../components/skill.js'\nconst CheckboxGroup = Checkbox.Group\n\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst Skill = () =>{\n  // 所有技能列表\n  const allSkillList = db.get('skills').orderBy('db_id').value()\n  const allSupportList = db.get('supports').value()\n  const allPlayerList = db.get('players').value()\n  const mySupports = db.get('mySupports').value()\n  let mySkillList = new Set()\n  mySupports.forEach(supportId=>{\n    let support = db.get('supports').find({id:supportId}).value()\n    support.skillList.forEach(skillId=>{\n      mySkillList.add(skillId)\n    })\n  })\n\n  const [skillList,setSkillList] = useState(allSkillList)\n  const [skillSupportList,setSkillSupportList] = useState(allSupportList)\n  const [skillPlayerList,setSkillPlayerList] = useState(allPlayerList)\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  // 点击技能出现的弹框标题\n  const [skillName, setSkillName] = useState('');\n\n  const [checkedList1, setCheckedList1] = useState([]);\n  const [checkedList2, setCheckedList2] = useState([]);\n  const [mode,setMode] = useState(mySkillList.size)\n  const checkOptions1 = [\n    {label:'通用',value:'normal'},\n    {label:'短距',value:'＜短距離＞'},\n    {label:'英里',value:'＜マイル＞'},\n    {label:'中距',value:'＜中距離＞'},\n    {label:'长距',value:'＜長距離＞'},\n    {label:'逃',value:'＜作戦・逃げ＞'},\n    {label:'先',value:'＜作戦・先行＞'},\n    {label:'差',value:'＜作戦・差し＞'},\n    {label:'追',value:'＜作戦・追込＞'}\n  ]\n  const checkOptions2 =[\n    {label:'速度被动',value:'10011'},\n    {label:'耐力被动',value:'10021'},\n    {label:'力量被动',value:'10031'},\n    {label:'毅力被动',value:'10041'},\n    {label:'智力被动',value:'10051'},\n    {label:'速度提高',value:'20011'},\n    {label:'耐力恢复',value:'20021'},\n    // {label:'20031',value:'20031'},\n    {label:'加速度提高',value:'20041'},\n    {label:'切换跑道',value:'20051'},\n    {label:'起步',value:'20061'},\n    // {label:'20071',value:'20071'},\n    // {label:'20081',value:'20081'},\n    {label:'视野',value:'20091'},\n    {label:'降速(debuff)',value:'30011'},\n    {label:'安定(debuff)',value:'30041'},\n    {label:'疲劳(debuff)',value:'30051'},\n    {label:'视野(debuff)',value:'30071'}\n  ]\n  const onChange1=(checkedValues)=>{\n    setCheckedList1(checkedValues)\n    updateSkillList(checkedValues,checkedList2)\n\n  }\n  const onChange2 = (checkedValues)=>{\n    setCheckedList2(checkedValues)\n    updateSkillList(checkedList1,checkedValues)\n  }\n  const updateSkillList = (check1,check2)=>{\n    let tempSkillList = allSkillList\n    if(check1.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check1.forEach(value=>{\n          if(skill.describe){\n            if(value==='normal' && skill.describe.indexOf('＜') === -1 && skill.describe.indexOf('＞') === -1){\n              flag = 1\n            }else if(skill.describe.indexOf(value)!==-1){\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    if(check2.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check2.forEach(value=>{\n          if(skill.icon_id){\n            if(skill.icon_id[0] === value[0] && skill.icon_id[3] === value[3] ){\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    setSkillList(tempSkillList)\n  }\n  const resetCheckbox=()=>{\n    setCheckedList1([])\n    setCheckedList2([])\n    setSkillList(allSkillList)\n  }\n\n    const showModal = (skill) => {\n      let tempSupportList = allSupportList.filter(support=>{\n        let flag = 0;\n        support.skillList.forEach(id=>{\n          if (id===skill.id){\n            flag = 1\n          }\n        })\n        return flag\n      })\n      let tempPlayerList = allPlayerList.filter(player=>{\n        let flag = 0;\n        player.skillList.forEach(id=>{\n          if (id===skill.id){\n            flag = 1\n          }\n        })\n        return flag\n      })\n      setSkillName(skill.name)\n      setSkillSupportList(tempSupportList)\n      setSkillPlayerList(tempPlayerList)\n      setIsModalVisible(true);\n    };\n\n    const handleOk = () => {\n      setIsModalVisible(false);\n    };\n\n    const handleCancel = () => {\n      setIsModalVisible(false);\n    };\n    const changeMode = ()=>{\n      setMode(!mode)\n    }\n  const rareLabel={'ノーマル':'普通','レア':'金色 稀有','固有':'独特'}\n  return(<>\n  <Row>\n    <Col span={2}>\n      <Button onClick={resetCheckbox}>重置</Button>\n    </Col>\n    <Col span={18}>\n      <CheckboxGroup options={checkOptions1} value={checkedList1} onChange={onChange1} />\n    </Col>\n    <Col span={4}>\n      <Tooltip title=\"可以在支援卡页面配置\">\n        <p>显示拥有支援卡</p>\n      </Tooltip>\n      <Switch checked={mode} onChange={changeMode} />\n    </Col>\n    <Col span={20}>\n      <CheckboxGroup options={checkOptions2} value={checkedList2} onChange={onChange2} />\n    </Col>\n  </Row>\n    {['ノーマル','レア','固有'].map(rare=>\n      <Row gutter={[8,8]} key={rare}>\n      <Divider>{rareLabel[rare]}</Divider>\n      { skillList.filter(item=>mode?mySkillList.has(item.id)&&(item.rare === rare):item.rare === rare).map(skill=>\n          <SkillButton skill={skill} key={skill.id} onClick={showModal}></SkillButton>\n        )\n      }\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} width={'80%'}>\n        <PageHeader title={skillName}>{t(skillName)}</PageHeader>\n        <Support supportList={skillSupportList} ></Support>\n        <Player playerList={skillPlayerList} ></Player>\n      </Modal>\n      </Row>\n    )}\n  </>)\n}\n\nexport default Skill\n\n","import React,{useState} from 'react';\nimport { Row,Alert,Image,Button,Divider,\n  Table,Modal,Col,Radio,Rate,Form,Slider,PageHeader,Input,Space} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined } from '@ant-design/icons';\n\nimport axios from 'axios'\nimport db from '../db.js'\n\nimport Player from './player.js'\nimport Support from './support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// db.set('userId',null).write()\nlet userId = db.get('userId').value()\n// console.log(userId)\n\n/*\nuserId 随机生成\n种马玩家id\n种马id\n蓝色因子 - speed stamina power guts wisdom\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\n        - escape leading insert tracking\n绿色因子\n种马父id\n种马母id\n\ntotal blue\ntotal red\nwhite num\n*/\n// 生成一个userId\n\nconst blueLabels={\n  'speed':'速度',\n  'stamina':'耐力',\n  'power':'力量',\n  'guts':'根性',\n  'wisdom':'智力'\n}\nconst redLabels = {\n  'grass':'草地',\n  'dirt':'泥地',\n  'shortDistance':'短距离',\n  'mile':'英里',\n  'mediumDistance':'中距离',\n  'longDistance':'长距离',\n  'escape':'逃',\n  'leading':'先',\n  'insert':'差',\n  'tracking':'追'}\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\nconst SeedInput = (props)=>{\n  const [form] = Form.useForm();\n  const [seed,setSeed] = useState({})\n\n  const onFinish = async (value)=>{\n    let tmpSeed = seed\n    tmpSeed = Object.assign({},seed,value)\n    setSeed(tmpSeed)\n    // db.set('form',form).write()\n    // 修整成需要的数据\n    const formData = {...tmpSeed}\n    formData.userId = userId || db.get('userId').value()\n    let updateTime = new Date().getTime()\n    formData.updateTime=updateTime\n    formData['playerId-0'] = value['player-0'].id\n    formData['playerId-1'] = value['player-1'].id\n    formData['playerId-2'] = value['player-2'].id\n    formData['supportId'] = value['support'].id\n    delete formData['support']\n    delete formData['player-0']\n    delete formData['player-1']\n    delete formData['player-2']\n    // formData[formData['blue-0']]=formData['blueLevel-0']\n    // formData[formData['red-0']]=formData['redLevel-0']\n    let list = ['0','1','2']\n    list.forEach(i=>{\n      //统计蓝色因子\n      if(formData[formData[`blue-${i}`]]!==undefined){\n        formData[formData[`blue-${i}`]]+=formData[`blueLevel-${i}`]\n      }else{\n        formData[formData[`blue-${i}`]]=formData[`blueLevel-${i}`]\n      }\n      //统计红色因子\n      if(formData[formData[`red-${i}`]]!==undefined){\n        formData[formData[`red-${i}`]]+=formData[`redLevel-${i}`]\n      }else{\n        formData[formData[`red-${i}`]]=formData[`redLevel-${i}`]\n      }\n      //统计红色因子\n      if(formData['white']!==undefined){\n        formData['white']+=formData[`whiteNum-${i}`]\n      }else{\n        formData['white']=formData[`whiteNum-${i}`]\n      }\n    })\n    const res = await axios.post('https://urarawin.com/api/add',formData)\n    if(res.data && res.data.success){\n      message.info('成功添加')\n      props.onFinish()\n    }else{\n      message.info('有地方出错了')\n    }\n  }\n  const list = ['主要','父辈1','父辈2']\n\n\n  const getFields = ()=>{\n    const children = []\n    for (let i = 0;i<3;i++){\n      children.push(\n        <Col span={8} key={i}>\n        <PageHeader title={`${list[i]}`}></PageHeader>\n        <Row>\n          <Col span={6} offset={4}>\n            <Form.Item label='角色' name={`player-${i}`} rules={[{ required: true }]}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n        </Row>\n      <Form.Item label='蓝色因子' name={`blue-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'speed'}>{'速度'}</Radio.Button>\n          <Radio.Button value={'stamina'}>{'耐力'}</Radio.Button>\n          <Radio.Button value={'power'}>{'力量'}</Radio.Button>\n          <Radio.Button value={'guts'}>{'根性'}</Radio.Button>\n          <Radio.Button value={'wisdom'}>{'智力'}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='蓝色因子星数' name={`blueLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='红色因子' name={`red-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'grass'}>{'草地/芝'}</Radio.Button>\n          <Radio.Button value={'dirt'}>{'泥地/ダート'}</Radio.Button><hr/>\n          <Radio.Button value={'shortDistance'}>{'短距离'}</Radio.Button>\n          <Radio.Button value={'mile'}>{'英里'}</Radio.Button>\n          <Radio.Button value={'mediumDistance'}>{'中距离'}</Radio.Button>\n          <Radio.Button value={'longDistance'}>{'长距离'}</Radio.Button><hr/>\n          <Radio.Button value={'escape'}>{'逃'}</Radio.Button>\n          <Radio.Button value={'leading'}>{'先'}</Radio.Button>\n          <Radio.Button value={'insert'}>{'差'}</Radio.Button>\n          <Radio.Button value={'tracking'}>{'追'}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='红色因子星数' name={`redLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='绿色因子星数' name={`greenLevel-${i}`} initialValue={0}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='白色因子个数' name={`whiteNum-${i}`} initialValue={0}>\n        <Slider min={0} max={10} dots={true} tooltipPlacement={'left'}></Slider>\n      </Form.Item>\n        </Col>\n      )\n    }\n    return children\n  }\n  return(\n    <Form name={'因子信息'} form={form} onFinish={onFinish} className={'seed-form'}>\n<Alert message='目前每人只能配置一个种子 自觉维护自己的信息；第一次添加前先刷新 否则可能失败' type='info'></Alert>\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify='end'>\n        <Col span={3}>\n          <Form.Item label='辅助卡' name={'support'} rules={[{ required: true }]}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='辅助卡突破' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='玩家id' name='gameId' rules={[{ required: true},\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              console.log(\"!!!!\",value)\n              if (value.match(/^[0-9]\\d*$/g) && value.length===9) {\n                return Promise.resolve();\n              }\n              return Promise.reject(new Error('输入正确的9位数id'));\n            },\n          }),\n          ]}>\n            <Input placeholder=\"id\" style={{ width:'100%' }}></Input>\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              提交\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  )\n}\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <>\n            {fields.map((field, index) => (\n              <Space key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\n                <Row justify='center'>\n                  <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                  <Radio.Group>\n                    <Row>\n                      <Radio.Button value={'speed'}>{'速度'}</Radio.Button>\n                      <Radio.Button value={'stamina'}>{'耐力'}</Radio.Button>\n                      <Radio.Button value={'power'}>{'力量'}</Radio.Button>\n                      <Radio.Button value={'guts'}>{'根性'}</Radio.Button>\n                      <Radio.Button value={'wisdom'}>{'智力'}</Radio.Button>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'grass'}>{'草地/芝'}</Radio.Button>\n                      <Radio.Button value={'dirt'}>{'泥地/ダート'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'shortDistance'}>{'短距离'}</Radio.Button>\n                      <Radio.Button value={'mile'}>{'英里'}</Radio.Button>\n                      <Radio.Button value={'mediumDistance'}>{'中距离'}</Radio.Button>\n                      <Radio.Button value={'longDistance'}>{'长距离'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'escape'}>{'逃'}</Radio.Button>\n                      <Radio.Button value={'leading'}>{'先'}</Radio.Button>\n                      <Radio.Button value={'insert'}>{'差'}</Radio.Button>\n                      <Radio.Button value={'tracking'}>{'追'}</Radio.Button>\n                    </Row>\n                  </Radio.Group>\n                </Form.Item>\n              </Col>\n              <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'level']}\n                  fieldKey={[field.fieldKey,'level']}\n                  rules={[{ required: true }]}>\n                  <Rate count={props.max} />\n                </Form.Item>\n              </Col>\n              <Col span={5}>\n                <Button type=\"dashed\" onClick={() => remove(field.name)}>移除</Button>\n              </Col>\n                </Row>\n                </Space>\n            ))}\n            <Row justify='center'>\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n                >\n                添加过滤条件\n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['supportLevel']){\n      formData.attrs.push('supportLevel')\n      formData.levels.push(value['supportLevel'])\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p0?.forEach(item=>{\n      if(blueLabels[item.attr]){\n        formData['blue-0']=item.attr\n        formData.attrs.push('blueLevel-0')\n        formData.levels.push(item.level)\n      }else{\n        formData['red-0']=item.attr\n        formData.attrs.push('redLevel-0')\n        formData.levels.push(item.level)\n      }\n    })\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr)\n      formData.levels.push(item.level)\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='搜索' form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Col span={10}>\n          <PageHeader title='主要'></PageHeader>\n          <Col span={6} offset={4}>\n            <Form.Item label='角色' name={`player0`}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n          <SearchOne name='p0' max='3'></SearchOne>\n        </Col>\n        <Col span={10}>\n          <PageHeader title={'总计'}></PageHeader>\n          <SearchOne name='p1' max='9'></SearchOne>\n        </Col>\n        <Col span={4}>\n          <PageHeader title={'支援卡'}></PageHeader>\n          <Col span={20}>\n\n          <Form.Item label='支援卡' name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n          <Form.Item label='突破等级' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row justify='end'>\n      <Form.Item>\n        <Button htmlType=\"button\" onClick={()=>onReset()}>\n          重置\n        </Button>\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          搜索\n        </Button>\n      </Form.Item>\n      </Row>\n    </Form>\n  )\n}\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\nconst columns = [\n  {title:'玩家id',dataIndex:'gameId',key:'gameId',render:text=>(text)},\n  {title:'主要',dataIndex:'playerId-0',key:'playerId-0',\n  render:text=>(<PlayerImage id={text}></PlayerImage>)},\n  {title:'蓝色因子',dataIndex:'blue-0',key:'blue-0',\n    render:(text,record)=>(\n    <Row>\n      <span className='rate-label'>{blueLabels[text]}</span>\n      <Rate count={3} value={record['blueLevel-0']} disabled></Rate>\n    </Row>)},\n  {title:'红色因子',dataIndex:'red-0',key:'red-0',\n    render:(text,record)=>(\n    <Row>\n      <span className='rate-label'>{redLabels[text]}</span>\n      <Rate count={3} value={record['redLevel-0']} disabled></Rate>\n    </Row>)},\n  {title:'绿色因子',dataIndex:'greenLevel-0',key:'greenLevel-0',\n    render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>等级</span>\n        <Rate count={3} value={record['greenLevel-0']} disabled></Rate>\n      </Row>)},\n  {title:'父辈1',dataIndex:'playerId-1',key:'playerId-1',\n  render:text=>(<PlayerImage id={text}></PlayerImage>)},\n  {title:'父辈2',dataIndex:'playerId-2',key:'playerId-2',\n  render:text=>(<PlayerImage id={text}></PlayerImage>)},\n  {title:'总计蓝色',key:'allBlue',render:(text,record)=>(\n    Object.keys(blueLabels).map(key=>{\n      if(record[key]){\n        // console.log(key,record[key])\n        return (\n          <Row justify=\"space-between\" key={key}>\n            <Col>\n              <span className='rate-label'>{blueLabels[key]}</span>\n            </Col>\n            <Col>\n              <Rate count={record[key]} value={record[key]} disabled></Rate>\n            </Col>\n          </Row>\n        )\n      }else{\n        return null\n      }\n    })\n  )},\n    {title:'总计红色',key:'allRed',render:(text,record)=>(\n      Object.keys(redLabels).map(key=>{\n        if(record[key]){\n          return (\n            <Row justify=\"space-between\" key={key}>\n            <Col>\n              <span className='rate-label'>{redLabels[key]}</span>\n            </Col>\n            <Col>\n              <Rate count={record[key]} value={record[key]} disabled></Rate>\n            </Col>\n          </Row>\n        )\n      }else{\n        return null\n      }\n    })\n    )},\n    {title:'总计白色',dataIndex:'white',key:'white',render:text=>(text)},\n    {title:'支援卡',dataIndex:'supportId',key:'supportId',\n    render:text=>(<SupportImage id={text}></SupportImage>)},\n    {title:'突破等级',dataIndex:'supportLevel',key:'supportLevel',\n    render:(text,record)=>(\n    <Row>\n      <Rate count={4} value={record['supportLevel']} disabled></Rate>\n    </Row>)},\n\n]\nconst Seed = ()=>{\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList,setSeedList] = useState([])\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info('么的数据')\n      }\n    }else{\n      message.info('出错了')\n    }\n  }\n  return(\n  <>\n  <Row justify='center'>\n    <Col span={2}>\n    <Button onClick={()=>showSeedInput()}>配置我的种子</Button>\n    </Col>\n    <Col span={20}>\n      <SearchForm search={search}></SearchForm>\n    </Col>\n  </Row>\n  <Divider>结果</Divider>\n    <Row justify='center'>\n      <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/>\n    </Row>\n  <Modal visible={isSeedInputVisible} onOk={closeSeedInput} onCancel={closeSeedInput} footer={null} width={'80%'}>\n    <SeedInput onFinish={closeSeedInput}></SeedInput>\n  </Modal>\n  </>\n  )\n}\nexport default Seed\n","import React,{useState} from 'react';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport {Row,Col,Image,Layout,Menu,Button,Popover} from 'antd'\nimport {message} from 'antd'\nimport './index.css'\n\nimport db from './db.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport Nurturing from './pages/nurturing.js'\nimport Nurturing2 from './pages/nurturing2.js'\nimport Skill from './pages/skill.js'\nimport Seed from './pages/seed.js'\n\nconst { Header, Content, Footer } = Layout;\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nconst AppPc = ()=>{\n  let lan = db.get('lan').value()\n  const [langText,setLangText] = useState(lan==='zh'?'English':'中文')\n  const changeLan=()=>{\n    if(lan === 'zh'){\n      lan = 'en'\n      db.set('lan','en').write()\n      setLangText('中文')\n      message.info('Refresh the website ')\n    }else{\n      lan = 'zh'\n      db.set('lan','zh').write()\n      setLangText('English')\n      message.info('刷新页面')\n    }\n    // window.opener.location.reload()\n  }\n  const reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n    // db.set('myDecks',[]).write()\n  }\n  return (\n      // <UserAgentProvider ua={window.navigator.userAgent}>\n<Router>\n    <Layout className=\"layout\">\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n      <Menu theme=\"dark\" mode=\"horizontal\">\n        <Menu.Item key=\"1\"><Link to='/'>角色</Link></Menu.Item>\n        <Menu.Item key=\"2\"><Link to='/support'>支援卡</Link></Menu.Item>\n        <Menu.Item key=\"3\"><Link to='/skill'>技能</Link></Menu.Item>\n        <Menu.Item key=\"4\"><Link to='/race'>比赛</Link></Menu.Item>\n        <Menu.Item key=\"5\"><Link to='/nurturing'>育成</Link></Menu.Item>\n        <Menu.Item key=\"7\"><Link to='/nurturing2'>育成new</Link></Menu.Item>\n        <Menu.Item key=\"6\"><Link to='/seed'>种🐎</Link></Menu.Item>\n      </Menu>\n    </Header>\n    <Content style={{ padding: '72px 16px' }}>\n      <Route exact path=\"/\" component={Player}/>\n      <Route path=\"/support\" component={Support}/>\n      <Route path=\"/skill\" component={Skill}/>\n      <Route path=\"/nurturing\" component={Nurturing}/>\n      <Route path=\"/nurturing2\" component={Nurturing2}/>\n      <Route path=\"/seed\" component={Seed}/>\n      <Route path=\"/race\" component={Race}/>\n    </Content>\n  <Footer>\n    <Row gutter={[16,16]}>\n      <Col span={2}>\n        <Button onClick={changeLan}>{langText}</Button>\n      </Col>\n      <Col span={2}>\n        <Popover content={<p>育成界面出现问题时重置</p>}>\n          <Button placement=\"bottom\" onClick={reload}>清空育成</Button>\n         </Popover>\n      </Col>\n      <Col span={14}></Col>\n      <Col span={2}>\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p>支付宝</p></>}>\n          <Button placement=\"bottom\">捐助</Button>\n        </Popover>\n      </Col>\n      <Col span={2}>\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </Col>\n      <Col span={2}>\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"轻 松 赛 马\" title=\"轻 松 赛 马\" />\n        </a>\n      </Popover>\n      </Col>\n    </Row>\n  </Footer>\n  </Layout>\n</Router>\n      // </UserAgentProvider>\n  )\n}\n\nexport default AppPc\n","import React,{useState} from 'react';\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table} from 'antd';\nimport { Flex } from 'antd-mobile';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n// 培育界面 马娘赛程\nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // 忽略出道战\n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [races,setRaces] = useState(selected.races)\n  const [skillShow,setSkillShow] = useState(true)\n\n  const [visible, setVisible] = useState(false);\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setRaces(data);\n\n    // save\n    selected.races = data\n    db.get('selected').assign(selected).write()\n  }\n  const showDrawer = ()=>{\n    setVisible(true)\n  }\n  const onDrawerClose = (data)=>{\n    setVisible(false)\n  }\n  const changeSkillShow =()=>{\n    setSkillShow(!skillShow)\n  }\n  return(\n    <>\n    <Flex>\n      <Flex.Item>\n        <Flex wrap='wrap'>\n          <Button type={'primary'} onClick={showPlayer}>选择马娘</Button>\n          <Button onClick={showSupport2}>辅助卡查询</Button>\n          <BuffButton></BuffButton>\n          <Button onClick={showRace}>选择关注赛事</Button>\n          <Button onClick={showDrawer}>查看关注赛事</Button>\n          <Button onClick={changeSkillShow}>是否显示技能</Button>\n        </Flex>\n        <Divider>赛程</Divider>\n        <RaceList raceList={player.id?player.raceList:[]}></RaceList>\n        <Divider></Divider>\n        <Flex wrap='wrap'>\n          <img src={cdnServer+player.imgUrl} alt={player.name} width={'20%'} flex='0 0 auto'></img>\n          {skillShow&&\n          <Flex.Item style={{flex:'1 0 auto',width:'80%',margin:0,paddingLeft:8}}>\n            <SkillList skillList={player.id?player.skillList:[]}></SkillList>\n          </Flex.Item>\n          }\n          <Flex.Item>\n            <EventList eventList={player.id?player.eventList:[]} pid={player.id} type='multi'></EventList>\n          </Flex.Item>\n        </Flex>\n        <Drawer\n        title=\"关注赛事 (可以按esc退出)\"\n        onClose={onDrawerClose}\n        visible={visible}\n        getContainer={false}\n        style={{ position: 'absolute' }}\n        closable={true}\n        placement=\"left\"\n        mask={true}\n        maskClosable={true}\n        width='95%'\n        >\n        {/* {races.map(race=>\n          <p>{race.name}</p>\n        )} */}\n        <Table dataSource={races} pagination={false}>\n        {/* [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"] */}\n          <Column title=\"名称\" dataIndex=\"name\" key=\"name\" />\n          <Column title=\"时间\" dataIndex=\"date\" key=\"date\" />\n          <Column title=\"级别\" dataIndex=\"grade\" key=\"grade\" />\n          <Column title=\"地形\" dataIndex=\"ground\" key=\"ground\" />\n          <Column title=\"类型\" dataIndex=\"distanceType\" key=\"distanceType\" />\n        </Table>\n      </Drawer>\n      </Flex.Item>\n    </Flex>\n    <Divider></Divider>\n      {[1,2,3,4,5,6].map(index=>\n        <Flex wrap='wrap' key={index}>\n      {supports[index].id ?<>\n        <Flex.Item style={{flex:'1 0 auto',width:'20%'}}>\n          <Button onClick={()=>showSupport(index)}>选择辅助卡</Button>\n          <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width='100%'></img>\n        </Flex.Item>\n          {skillShow&&\n          <Flex.Item style={{flex:'1 0 auto',width:'78%'}}>\n            <SkillList skillList={supports[index].skillList} ></SkillList>\n          </Flex.Item>\n          }\n          <Flex.Item style={{flex:'1 0 auto',width:'78%'}}>\n            <EventList eventList={supports[index].eventList} pid={supports[index].id} type={'multi'}></EventList>\n          </Flex.Item>\n          </>:\n        <Button onClick={()=>showSupport(index)}>选择辅助卡</Button>}\n      <Divider></Divider>\n      </Flex>\n      )}\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} >\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'100%'}>\n        <Race onSelect={needSelect?handleSelectRace:null} type='medium'></Race>\n      </Modal>\n    </>\n  )\n}\n\nexport default Nurturing\n","import React,{useState} from 'react';\n\nimport { Picker, List,Flex,Card } from 'antd-mobile';\n\nimport { Image,Button,Divider,Modal,Rate,Form} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined } from '@ant-design/icons';\n\nimport axios from 'axios'\nimport db from '../db.js'\n\nimport Player from './player.js'\nimport Support from './support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// db.set('userId',null).write()\n\nconst blueLabels={\n  'speed':'速度',\n  'stamina':'耐力',\n  'power':'力量',\n  'guts':'根性',\n  'wisdom':'智力'\n}\nconst redLabels = {\n  'grass':'草地',\n  'dirt':'泥地',\n  'shortDistance':'短距离',\n  'mile':'英里',\n  'mediumDistance':'中距离',\n  'longDistance':'长距离',\n  'escape':'逃',\n  'leading':'先',\n  'insert':'差',\n  'tracking':'追'}\n\nconst lists = [\n  [\n    {value:'speed',label:'速度'},\n    {value:'stamina',label:'耐力'},\n    {value:'power',label:'力量'},\n    {value:'guts',label:'根性'},\n    {value:'wisdom',label:'智力'},\n    {value:'grass',label:'草地'},\n    {value:'dirt',label:'泥地'},\n    {value:'shortDistance',label:'短距离'},\n    {value:'mile',label:'英里'},\n    {value:'mediumDistance',label:'中距离'},\n    {value:'longDistance',label:'长距离'},\n    {value:'escape',label:'逃'},\n    {value:'leading',label:'先'},\n    {value:'insert',label:'差'},\n    {value:'tracking',label:'追'}\n  ],[\n    {value:1,label:'1星'},\n    {value:2,label:'2星'},\n    {value:3,label:'3星'},\n    {value:4,label:'4星'},\n    {value:5,label:'5星'},\n    {value:6,label:'6星'},\n    {value:7,label:'7星'},\n    {value:8,label:'8星'},\n    {value:9,label:'9星'},\n  ]\n]\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <List>\n            {fields.map((field, index) => (\n                <Form.Item {...field} key={field.key}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                      <Picker\n                        data={lists}\n                        title=\"选择季节\"\n                        cascade={false}\n                        extra=\"请选择\"\n                        ><List.Item arrow=\"horizontal\">过滤条件(总计)</List.Item>\n                      </Picker>\n                </Form.Item>\n            ))}\n            <List.Item>\n                <Button\n                  type=\"dashed\"\n                  onClick={() => add()}\n                  icon={<PlusOutlined />}\n                  >\n                  添加过滤条件\n                </Button>\n            </List.Item>\n          </List>\n        )}\n      </Form.List>\n  )\n}\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr[0])\n      formData.levels.push(item.attr[1])\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='搜索' form={form} onFinish={onFinish} className=\"seed-form\">\n      <SearchOne name='p1'></SearchOne>\n      <Flex align='start'>\n        <Flex.Item>\n          <p>角色</p>\n          <Form.Item name={`player0`}>\n              <PlayerInput></PlayerInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p>支援卡</p>\n          <Form.Item name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p>突破等级</p>\n          <Form.Item name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Flex.Item>\n      </Flex>\n      <Flex justify='end'>\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={()=>onReset()}>\n            重置\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            搜索\n          </Button>\n        </Form.Item>\n      </Flex>\n    </Form>\n  )\n}\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst SeedCard = (props) =>{\n  const data = props.data\n  return (\n    <Card>\n      <Card.Header title={data.gameId}></Card.Header>\n      <Flex>\n        <Flex.Item>\n          <PlayerImage id={data['playerId-0']}></PlayerImage>\n          <SupportImage id={data['supportId']}></SupportImage>\n        </Flex.Item>\n        <Flex.Item>\n          <p>{`${blueLabels[data['blue-0']]}: ${data['blueLevel-0']}`}</p>\n          <p>{`${redLabels[data['red-0']]}: ${data['redLevel-0']}`}</p>\n          {Object.keys(blueLabels).map(key=>\n          data[key]?<p key={key}>{`总计 ${blueLabels[key]}: ${data[key]}`}</p>:null\n          )}\n          {Object.keys(redLabels).map(key=>\n          data[key]?<p key={key}>{`总计 ${redLabels[key]}: ${data[key]}`}</p>:null\n          )}\n          <p>{`突破等级: ${data['supportLevel']||0}`}</p>\n          <p></p>\n        </Flex.Item>\n      </Flex>\n    </Card>\n  )\n}\n\nconst Seed = ()=>{\n  const [seedList,setSeedList] = useState([])\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info('么的数据')\n      }\n    }else{\n      message.info('出错了')\n    }\n  }\n  return(\n  <>\n    <SearchForm search={search}></SearchForm>\n    <Divider>结果</Divider>\n    <Flex wrap='wrap'>\n      {seedList.map(seed=>\n      <Flex.Item  key={seed.gameId}\n        style={{width:'48%',flex:'0 0 auto',margin:0}}\n      >\n        <SeedCard data={seed}></SeedCard>\n      </Flex.Item>)}\n    </Flex>\n    {/* <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/> */}\n  </>\n  )\n}\nexport default Seed\n","import React from 'react';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\n\nimport {Image,Button,Popover} from 'antd'\nimport { Drawer, List, NavBar, Icon, WhiteSpace } from 'antd-mobile';\nimport 'antd-mobile/dist/antd-mobile.min.css';\n\nimport db from './db.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport NurturingMO from './pages/nurturing-mo.js'\nimport Skill from './pages/skill.js'\nimport SeedMo from './pages/seed-mo.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nclass App1 extends React.Component {\n  state = {\n    open: false,\n    title:'urara win'\n  }\n  onOpenChange=()=>{\n    this.setState({open: !this.state.open})\n  }\n  onSelect = (label) => {\n    this.setState({title:label});\n    this.onOpenChange()\n  }\n  reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n    // db.set('myDecks',[]).write()\n  }\n  render() {\n    const routers = [{path:'/',label:'角色'},\n    {path:'/support',label:'支援卡'},\n    {path:'skill',label:'技能'},\n    {path:'race',label:'比赛'},\n    {path:'nurturing',label:'育成'},\n    {path:'seed',label:'种🐎'}]\n    const linkList=(<List>\n      {routers.map(item=>\n        <Link to={item.path} key={item.path}  onClick={()=>this.onSelect(item.label)}>\n          <List.Item >{item.label}</List.Item>\n        </Link>\n      )}\n\n      <List.Item style={{marginTop:200}}>\n      <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </List.Item>\n      <List.Item>\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <Button placement=\"bottom\">加入QQ群</Button>\n        </a>\n      </Popover>\n      </List.Item>\n      <List.Item>\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p>支付宝</p></>}>\n        <Button placement=\"bottom\">捐助</Button>\n      </Popover>\n      </List.Item>\n      <List.Item>\n        <Button placement=\"bottom\" onClick={this.reload}>重置育成</Button>\n      </List.Item>\n    </List>)\n\n    return (\n    <Router>\n      <NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>{this.state.title}</NavBar>\n      <Drawer\n        className=\"my-drawer\"\n        style={{\n          minHeight: document.documentElement.clientHeight,\n          position: 'relative',\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch'}}\n        enableDragHandle={true}\n        contentStyle={{ color: '#A6A6A6', textAlign: 'center',paddingTop:20}}\n        // dragHandleStyle={{width:0}}\n        sidebar={linkList}\n        open={this.state.open}\n        onOpenChange={this.onOpenChange}\n      >\n          <Route exact path=\"/\" component={Player}/>\n          <Route path=\"/support\" component={Support}/>\n          <Route path=\"/skill\" component={Skill}/>\n          <Route path=\"/nurturing\" component={NurturingMO}/>\n          <Route path=\"/seed\" component={SeedMo}/>\n          <Route path=\"/race\" component={Race}/>\n      </Drawer>\n    </Router>);\n  }\n}\nexport default App1\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import { UserAgentProvider, UserAgent, withUserAgent } from 'react-ua';\n\nimport './index.css'\n\n// import db from './db.js'\n// import EventList from './components/event-list.js'\n// import SkillList from './components/skill-list.js'\n\nimport AppPc from './app-pc'\nimport AppMo from './app-mo'\n// 取得ua\nlet ua = {}\nconst ie_upto10 = /MSIE \\d/.test(navigator.userAgent)\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nconst ie_edge = /Edge\\/(\\d+)/.exec(navigator.userAgent)\nua.mac = /Mac/.test(navigator.platform)\nlet ie = ua.ie = !!(ie_upto10 || ie_11up || ie_edge)\nua.ie_version = ie_upto10 ? document.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : null\nua.gecko = !ie && /gecko\\/(\\d+)/i.test(navigator.userAgent)\nua.gecko_version = ua.gecko && +(/Firefox\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\nlet chrome = !ie && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nua.chrome = !!chrome\nua.chrome_version = chrome && +chrome[1]\n// Is true for both iOS and iPadOS for convenience\nua.safari = !ie && /Apple Computer/.test(navigator.vendor)\nua.ios = ua.safari && (/Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2)\nua.android = /Android \\d/.test(navigator.userAgent)\nua.webkit = \"webkitFontSmoothing\" in document.documentElement.style\nua.webkit_version = ua.webkit && +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\nconsole.log(ua)\n\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\n\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\n\nconst App = ()=>{\n  return(\n    <>\n    {ua.android||ua.ios?<AppMo></AppMo>:<AppPc></AppPc>}\n    </>\n  )\n}\n\nReactDOM.render((<App></App>),document.getElementById('root'),);\n"],"sourceRoot":""}