{"version":3,"sources":["db.js","components/t.js","pages/race.js","components/event.js","components/skill.js","components/race.js","components/player-detail.js","pages/player.js","components/effect.js","components/support-detail.js","pages/support.js","components/buff.js","pages/nurturing.js","pages/nurturing2.js","pages/skill.js","pages/seed.js","components/lan-button.js","components/intro.js","app-pc.js","pages-mo/nurturing.js","pages-mo/seed.js","app-mo.js","index.js"],"names":["adapter","LocalStorage","db","low","d","a","axios","get","res","console","log","data","set","write","value","jsonDB","players","supports","skills","events","updateTime","races","buffs","effects","zh","en","has","0","1","2","3","4","5","player","lan","lanData","ZH","EN","t","text","filterList","class","grade","place","ground","distanceType","direction","side","labels","labelTextDict","name","date","distance","getCorrespondingLabelText","label","mediumLabels","getColumns","map","title","dataIndex","filters","onFilter","record","Race","props","dynamicTableHeight","React","useState","window","innerHeight","height","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","allRaceList","race","index","key","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","dataSource","pagination","sorter","extra","scroll","y","ua","EventList","eventList","find","pid","filter","event","choiceList","length","defaultActiveKey","TabPane","tab","EventBox","ChoiceItem","choice","ResultItem","result","gutter","className","span","trigger","content","placement","SkillList","skillList","skillId","usedInList","SkillButton","skill","describe","condition","ability_value","ability_time","cooldown","rarity","style","borderRadius","color","width","justifyContent","onClick","display","position","top","left","src","imgUrl","preview","overflow","whiteSpace","textOverflow","textAlign","RaceTimeline","str","getDate","i","year","Math","floor","month","moment","getColor","curRace","raceList","Item","fontSize","goal","filterRace","forEach","mode","RaceCheckbox","raceFilterCondition","setRaceFilterCondition","Object","keys","Group","options","defaultValue","checkedValues","tmpObj","cdnServer","AdaptBox","cellStyle","paddingLeft","fontWeight","borderWidth","borderStyle","borderColor","headerCellStyle","textShadow","backgroundColor","adaptTextWrapperStyle","paddingRight","alignItems","coloredGradeText","cellPadding","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerDetail","undefined","playerId","match","params","isNur","nur","resizemode","flexDirection","charaName","padding","PlayerCard","isModalVisible","setIsModalVisible","cover","Meta","visible","onOk","onCancel","footer","Player","state","list","playerList","prevProps","this","setState","justify","rare","item","xxl","lg","sm","xs","Component","defaultProps","limits","getValue","effect","cur","indexOf","min","min_limit","max","max_limit","slice","limit","EffectTable","render","description","rowKey","TestEffectTable","effectCapsuleStyle","margin","effectRightDivStyle","effectNameStyle","effectValueStyle","effectBoxStyle","maxLevel","selectingLevel","input","nodes","output","prevNode","level","upperNode","lowerNode","unique_effect","marginRight","lv","marks","10","15","20","25","30","35","40","45","50","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","calc","SupportDetail","supportId","trainingEventSkill","possessionSkill","message","CheckboxGroup","SupportCard","destroyOnClose","Support","changeChooseMode","chooseMode","showMode","changeShowMode","chosenList","splice","update","tempList","supportList","support","flag","checkedList","checkOptions","headerStyle","headerTextStyle","paddingTop","maxWidth","maxHeight","overflowY","overflowX","BuffButton","BuffList","buff","Column","NurturingSupport","alt","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","isRaceVisible","setIsRaceVisible","setSupports","setPlayer","setFilterRace","decks","setDecks","closePlayer","closeSupport","closeRace","saveDeck","deck","tmpDeck","imgUrls","supportsId","assign","shortid","generate","dynamicContentHeight","innerWidth","loadDeck","onConfirm","danger","remove","deleteDeck","showSupport","newData","showPlayer","setWidth","dynamicCardHeight","dynamicCardWidth","dynamicCardBoxWidth","flex","float","filterCondition","tmpRaceList","tmpFilterRace","autoHide","flexWrap","backgroundImage","backgroundRepeat","backgroundSize","shape","icon","EditOutlined","marginBottom","Set","Search","Skill","allSkillList","orderBy","allSupportList","allPlayerList","mySupports","mySkillList","add","setSkillList","skillSupportList","setSkillSupportList","skillPlayerList","setSkillPlayerList","skillName","setSkillName","checkedList1","setCheckedList1","checkedList2","setCheckedList2","checkedList3","setCheckedList3","localStorage","getItem","setItem","parseInt","setMode","updateSkillList","check1","check2","check3","tempSkillList","icon_id","showModal","tempSupportList","tempPlayerList","handleOk","handleCancel","rareLabel","dynamicListHeight","lineHeight","checked","placeholder","enterButton","size","onSearch","searchText","userId","blueLabels","redLabels","PlayerInput","setData","triggerChange","changedValue","fallback","minWidth","SupportInput","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","formData","Date","getTime","post","success","info","children","offset","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","List","fields","errors","field","align","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","onCopy","CopyOutlined","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","disabled","closeSeedInput","withRouter","langText","setLangText","location","reload","introV","stepsEnabled","setStepsEnabled","steps","element","intro","href","enabled","initialStep","onExit","onBeforeChange","nextStepIndex","history","onComplete","doneLabel","Header","Content","Footer","AppPc","document","getElementsByTagName","zIndex","theme","to","exact","path","component","Nurturing2","frameBorder","scrolling","target","rel","border","lists","cascade","arrow","SeedCard","gameId","wrap","App1","open","onOpenChange","6","linkList","marginTop","onLeftClick","minHeight","documentElement","clientHeight","WebkitOverflowScrolling","enableDragHandle","contentStyle","sidebar","NurturingMO2","SeedMo","ie_upto10","test","navigator","userAgent","ie_11up","exec","ie_edge","mac","platform","ie","ie_version","documentMode","gecko","gecko_version","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","webkit_version","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.1e26807f.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport axios from 'axios'\nimport jsonDB from './assert/db.json'\n\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/d')\n  console.log(res.data)\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\n\ndb.set('players',jsonDB.players).write()\ndb.set('supports',jsonDB.supports).write()\ndb.set('skills',jsonDB.skills).write()\ndb.set('events',jsonDB.events).write()\ndb.set('updateTime',jsonDB.updateTime).write()\ndb.set('races',jsonDB.races).write()\ndb.set('buffs',jsonDB.buffs).write()\ndb.set('effects',jsonDB.effects).write()\ndb.set('zh',jsonDB.zh).write()\ndb.set('en',jsonDB.en).write()\n// db.set('lan','en').write()\n//重新加载\ndb.has('lan').value()||db.set('lan','zh').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport ZH from '../assert/zh.json'\nimport EN from '../assert/en.json'\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\nconst lan = db.get('lan').value()||'zh'\nlet lanData = {}\nif(lan==='zh'){\n  lanData = ZH.zh\n}else{\n  lanData = EN.en\n}\nlet noTrans = {}\nconst t = (text,lan)=>{\n  if(lan==='zh'){\n    lanData = ZH.zh\n  }else if(lan==='en'){\n    lanData = EN.en\n  }\n  let result = lanData[text]\n\n  // if(!result&&result!==\"\"){\n  //   noTrans[text]=\"\"\n  // }\n  // console.log(JSON.stringify(noTrans))\n\n  return result||text\n}\nexport  default t\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Table } from 'antd';\n\n // { name: '葵ステークス',\n  //   date: '2年目 5月後半',\n  //   dateNum: 34,\n  //   class: 'クラシック',\n  //   grade: 'G3',\n  //   place: '京都',\n  //   ground: '芝',\n\n  //   distance: '1400',\n  //   distanceType: '短距離',\n  //   order: '右' }\n  // { class: [ 'ジュニア', 'クラシック', 'クラシックシニア', 'シニア' ],\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\n  // place: [ '中京', '函館', '札幌', '小倉', '新潟', '阪神', '中山', '京都', '東京', '福島', '大井' ],\n  // ground: [ '芝', 'ダート' ],\n  // distanceType: [ 'マイル', '短距離', '中距離', '長距離' ],\n  // direction: [ '左', '右', '直' ],\n  // side: [ null, '内', '外', '線' ] }\n const filterList= { class:\n    [ { text: '初等/ジュニア', value: 'ジュニア' },\n      { text: '经典/クラシック', value: 'クラシック' },\n      { text: '经典&高级/クラシックシニア', value: 'クラシックシニア' },\n      { text: '高级/シニア', value: 'シニア' } ],\n   grade:\n   [\n      { text: 'Pre-OP', value: 'Pre-OP' },\n      { text: 'OP', value: 'OP' },\n      { text: 'G1', value: 'G1' },\n      { text: 'G2', value: 'G2' },\n      { text: 'G3', value: 'G3' }\n    ],\n   place:\n    [ { text: '中京', value: '中京' },\n      { text: '函館', value: '函館' },\n      { text: '札幌', value: '札幌' },\n      { text: '小倉', value: '小倉' },\n      { text: '新潟', value: '新潟' },\n      { text: '阪神', value: '阪神' },\n      { text: '中山', value: '中山' },\n      { text: '京都', value: '京都' },\n      { text: '東京', value: '東京' },\n      { text: '福島', value: '福島' },\n      { text: '大井', value: '大井' } ],\n   ground: [ { text: '芝', value: '芝' }, { text: 'ダート', value: 'ダート' } ],\n   distanceType:\n   [\n     { text: '短距離', value: '短距離' },\n     { text: 'マイル', value: 'マイル' },\n      { text: '中距離', value: '中距離' },\n      { text: '長距離', value: '長距離' } ],\n   direction:\n    [ { text: '左', value: '左' },\n      { text: '右', value: '右' },\n      { text: '直', value: '直' } ],\n   side:\n    [ { text: '空', value: null },\n      { text: '内', value: '内' },\n      { text: '外', value: '外' },\n      { text: '線', value: '線' } ] }\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\n                  \"place\", \"ground\", \"distance\",\n                  \"distanceType\", \"direction\", \"side\"]\n  const labelTextDict ={name:t(\"名称\"),date:t(\"时间\"),class:t(\"年级\"),grade:t(\"赛事等级\"),place:t(\"地点\"),ground:t(\"场地\"),distance:t(\"长度\"),distanceType:t(\"赛程\"),direction:t(\"方向\"),side:t(\"赛道\")}\n  const getCorrespondingLabelText = (label)=>{\n      return labelTextDict[label]\n  }\n  const mediumLabels = [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"]\n  const getColumns = (labels)=>{\n    return labels.map(label=> {\n      if(filterList['class']){\n        return {\n          title:getCorrespondingLabelText(label),\n          dataIndex:label,\n          filters:filterList[label],\n          onFilter: (value, record) => record[label] === value,\n        }\n      }else{\n        return{\n          title:getCorrespondingLabelText(label),\n          dataIndex:label\n        }\n      }\n    })\n  }\n\n\n\n  const Race = (props) =>{\n    const useViewport = () => {\n      // const [width, setWidth] = React.useState(window.innerWidth);\n      const [height,setHeight] = React.useState(window.innerHeight);\n      React.useEffect(() => {\n        const handleWindowResize = () => setHeight(window.innerHeight);\n        window.addEventListener(\"resize\", handleWindowResize);\n        return () => window.removeEventListener(\"resize\", handleWindowResize);\n      }, []);\n      console.log('currentWidth::',height);\n      return {height};\n    };\n\n    const dynamicTableHeight = useViewport().height -300;\n\n    const allRaceList = db.get('races').value().map((race,index)=>{\n                      race.key=index\n                      return race\n                    })\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\n    let columns = getColumns(labels)\n    if(props.type==='medium'){\n      columns = getColumns(mediumLabels)\n    }\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\n      let selected = {}\n      for(let race of selectedRows){\n        if(selected[race.dateNum]){\n          selected[race.dateNum].push(race.id)\n        }else{\n          selected[race.dateNum]=[race.id]\n        }\n      }\n      console.log(selected)\n      props.onSelect(selected)\n      setSelectedRowKeys(selectedRowKeys)\n    }\n    const rowSelection = {\n      selectedRowKeys,\n      onChange:onSelectChange\n    }\n    // 筛选发生变化时清空已经选择的内容\n    const onChange = (pagination, filters, sorter, extra) => {\n      props.onSelect([])\n      setSelectedRowKeys([])\n    }\n    return(\n      <div>\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns}\n      dataSource={allRaceList} onChange={onChange} pagination={false} scroll={{y:dynamicTableHeight}}/>\n      </div>\n      )\n  }\n\nexport default Race\n","import React from 'react';\nimport db from '../db.js'\nimport t from './t.js'\nimport {Row,Col,Popover,Button,Tabs } from 'antd';\n\n\nconst ua = db.get('ua').value();\n\nconst EventList = (props)=>{\n  const eventIdList = props.eventList\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id,pid:props.pid}).value())\n  if(props.type==='multi'){\n    return(<>\n        {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n      </>\n    )\n  }\n  return (\n    <>\n      <Tabs defaultActiveKey=\"1\">\n        <Tabs.TabPane tab={t('有选项')} key=\"1\">\n          {/* <div style={{maxHeight:200,overflowY:'auto'}}> */}\n          <div>\n      {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event} ></EventBox>)}\n          </div>\n        </Tabs.TabPane>\n        <Tabs.TabPane tab={t('无选项')} key=\"2\">\n        {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n        </Tabs.TabPane>\n      </Tabs>\n    </>\n  )\n}\nconst EventBox = (props)=>{\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\n    const ResultItem = choice[1].map((result,index)=>\n      <p key={index}>{result}</p>\n    )\n    return(\n      <Row key={index} gutter={[8,8]} className=\"list-row\">\n        <Col span={12}>\n          <p>{choice[0]}</p>\n          <p>{t(choice[0])}</p>\n        </Col>\n        <Col span={12}>{ResultItem}</Col>\n      </Row>\n    )\n  })\n\n  return(\n    <Popover\n      trigger={ua==='mo'?'click':'hover'}\n      content={<>\n      <p>{t(props.event.name)}</p>\n      {ChoiceItem}\n    </>} title={props.event.name} placement={'bottom'}>\n      <Button className='event-button'>{props.event.name}</Button>\n    </Popover>\n  )\n}\n\nexport {EventList}\n","import React from 'react';\nimport db from '../db.js'\n\nimport { Row,Col,Popover,Button,Image } from 'antd';\nimport t from './t.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst ua = db.get('ua').value();\n\n\nconst SkillList = (props)=>{\n  const skillList = props.skillList\n\n  return (\n    <Row gutter={0}>\n      {skillList.map((skillId,index)=>\n        <Col span={12} key={index}>\n          <SkillButton id={skillId} usedInList={true}>\n        </SkillButton>\n      </Col>)}\n    </Row>\n  )\n}\nconst SkillButton = (props)=>{\n  const skill = props.skill || db.get('skills').find({id:props.id}).value()\n  const inListStyleOverride = {\n    borderRadius:'8px',\n    color:'#303030',\n    width:'96%',\n    justifyContent:'flex-start'\n  }\n  const skillNameStyle = {\n    width:`calc(96% - 34px)`,\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    textAlign:'justify'\n  }\n    return(\n      <Popover\n        trigger={ua==='mo'?'click':'hover'}\n        content={<>\n      <p>{t('技能名称')+ ':  ' +t(skill.name)}</p>\n      <p>{t('技能描述')+ '： ' +skill.describe}</p>\n      <p>{t('技能描述')+ '： ' +t(skill.describe)}</p>\n      <p>{skill.condition}</p>\n      <p>{t('触发条件')+ '： ' +t(skill.condition)}</p>\n      <p>{t('技能效果')+ '： ' +skill.ability_value/10000}</p>\n      <p>{`${t('持续时间')}： ${skill.ability_time/10000}s*${t('赛道长度')}/1000`}</p>\n      <p>{`${t('冷却时间')}： ${skill.cooldown/10000}s*${t('赛道长度')}/1000`}</p>\n      {/* <p>技能效果 = (技能数值 / 100)%</p> */}\n      {/* <p>持续时间 = 基础持续时间 * 赛道长度 / 1000</p> */}\n      {/* <p>冷却时间 = 基础冷却时间 * 赛道长度 / 1000</p> */}\n      </>} title={skill.name}\n      >\n        <Button type={'primary'} className={'skill-btn skill-btn-'+skill.rarity} style={props.usedInList?{...inListStyleOverride}:{}} onClick={()=>props.onClick&&props.onClick(skill)}>\n          <div style={props.usedInList?\n            {display:'flex',position:'absolute',top:4,left:8,width:'100%'}:{width:'100%'}}>\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\n          <div style={{...skillNameStyle}}>{`\\xa0\\xa0${skill.name}`}</div>\n          </div>\n        </Button>\n      </Popover>\n    )\n}\n\nexport {SkillList,SkillButton}\n","import React from 'react';\nimport {useState} from 'react';\nimport db from '../db.js'\n\nimport { Row,Col,Timeline,Checkbox } from 'antd';\nimport { createFormattedComponent } from 'react-intl/src/components/createFormattedComponent';\nimport { getTimeProps } from 'antd/lib/date-picker/generatePicker';\n// import t from './t.js'\n\nconst ua = db.get('ua').value();\n\nconst RaceSchedule = (props)=>{\n  // const races = db.get('races').value()\n  const str  = []\n  const getDate = (i)=>{\n    let year = Math.floor(i/24)+1\n    let month = Math.floor((i - (year-1)*24) /2)+1\n    let moment = i%2?'后':'前'\n    return `${year}年${month}月${moment}`\n  }\n  for (let i = 13;i<72;i++){\n    let curRace;\n    if(props.raceList[i]){\n      curRace = db.get('races').find({id:props.raceList[i].id}).value()\n      str.push(<Col span={6} key={i}\n      style={{backgroundColor:'#ff6b81',border:'1px solid #2f3542'}}>\n        {getDate(i)}\n        <br/>\n        {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\n        {/* -{curRace.date} */}\n        </Col>)\n    }else if(props.filterRace&&props.filterRace[i]){\n      str.push(<Col span={6} key={i}\n        style={{\n        backgroundColor:'#7bed9f',\n        border:'1px solid #2f3542',\n        whiteSpace:'pre-line'}}>\n        {getDate(i)}\n        <br/>\n        {props.filterRace[i].map(raceId=>{\n          let curRace = db.get('races').find({id:raceId}).value()\n          return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`\n\n        })}\n        </Col>)\n    }else{\n      str.push(<Col span={6} key={i}\n      style={{backgroundColor:'#a4b0be',border:'1px solid #2f3542'}}>\n        {getDate(i)}\n      </Col>)\n    }\n  }\n  return(<Row style={{color:'black'}}>\n    {str}\n  </Row>)\n}\n\nconst RaceTimeline = (props)=>{\n  const str  = []\n\n  const getDate = (i)=>{\n    let year = Math.floor(i/24)+1\n    let month = Math.floor((i - (year-1)*24) /2)+1\n    month = month<10?`\\xa0\\xa0${month}`:month\n    let moment = i%2?'后':'前'\n    return `${year}年\\xa0${month}月${moment}`\n  }\n  const getColor = (grade)=>{\n    switch(grade){\n      case 'G1':\n        return 'blue';\n      case 'G2':\n        return 'pink';\n      case 'G3':\n        return 'green';\n      default:\n        return 'orange'\n    }\n    // 'OP':\n  }\n\n\n  for (let i = 13;i<72;i++){\n    let curRace,id;\n    if(props.raceList[i]){\n      id = props.raceList[i].id\n      curRace = db.get('races').find({id}).value()\n      str.push(<Timeline.Item label={getDate(i)} color=\"red\" style={{fontSize:'16px'}} key={id}>\n        {/* <b>{`${curRace.name} / ${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${props.raceList[i].goal}`}</b> */}\n        <b>{`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name} / ${props.raceList[i].goal||'参赛'}`}</b>\n      </Timeline.Item>)\n    }else if(props.filterRace&&props.filterRace[i]){\n      props.filterRace[i].forEach((id,index)=>{\n        curRace = db.get('races').find({id}).value()\n        str.push(<Timeline.Item label={index===0?getDate(i):null} color={getColor(curRace.grade)} key={id}>\n            {/* <p>{`${curRace.name} / ${curRace.grade} / ${curRace.distanceType} / ${curRace.distance}`}</p> */}\n            <p>{`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name}`}</p>\n          </Timeline.Item>)\n\n      })\n    }else{\n      //普通\n    }\n  }\n  return(<Timeline mode='left'>\n    {str}\n  </Timeline>)\n}\nconst RaceCheckbox = (props) =>{\n  const [raceFilterCondition,setRaceFilterCondition] = useState(props.raceFilterCondition)\n\n  const filterList= {\n    distanceType:[\n      { label: '短距離', value: '短距離' },\n      { label: 'マイル', value: 'マイル' },\n      { label: '中距離', value: '中距離' },\n      { label: '長距離', value: '長距離' }\n    ],\n    grade:[\n      { label: 'Pre-OP', value: 'Pre-OP' },\n      { label: 'OP', value: 'OP' },\n      { label: 'G1', value: 'G1' },\n      { label: 'G2', value: 'G2' },\n      { label: 'G3', value: 'G3' }\n    ],\n    ground: [\n      { label: '芝', value: '芝' },\n      { label: 'ダート', value: 'ダート' }\n    ],\n\n  }\n  const onChange=(checkedValues,type)=>{\n    let tmpObj = {}\n    tmpObj[type]=checkedValues\n    console.log({...raceFilterCondition,...tmpObj})\n    props.onChange({...raceFilterCondition,...tmpObj})\n    setRaceFilterCondition({...raceFilterCondition,...tmpObj})\n  }\n  return (<>\n  {Object.keys(filterList)\n    .map(key=>\n      <div key={key}>\n        <Checkbox.Group options={filterList[key]} defaultValue={props.raceFilterCondition[key]} onChange={(checkedValues)=>onChange(checkedValues,key)}/>\n      </div>\n      )}\n  </>)\n}\nexport {RaceSchedule,RaceTimeline,RaceCheckbox}\n","import React from 'react';\n\nimport { Divider,Image} from 'antd';\nimport db from '../db.js'\nimport t from './t.js'\n\nimport {EventList} from './event.js'\nimport {SkillList} from './skill.js'\n// import RaceList from './player-race.js'\nimport {RaceSchedule,RaceTimeline} from '../components/race.js'\n// import {EffectTable} from './effect.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst PlayerDetail = (props) =>{\n  const id = props.playerId!==undefined?props.playerId:props.match.params.id\n  // 是否育成 育成顺序样式不同\n  const isNur = props.isNur!==undefined?props.isNur:props.match.params.nur\n  // console.log(props.playerId,id,isNur)\n  const data = db.get('players').find({id}).value()\n  return(\n    isNur?<>\n      <div style={{height:64,display:'flex'}}>\n          <Image src={cdnServer+data.imgUrl} width={64} height={64} resizemode={'cover'}></Image>\n          <div style={{display:'flex',height:64,flexDirection:'column',justifyContent:'space-between'}}>\n            <div style={{fontSize:20,fontWeight:700}}>{t(data.name)}</div>\n            <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{t(data.charaName)}</div>\n          </div>\n      </div>\n      <Divider>事件</Divider>\n      <EventList eventList={data.eventList} pid={data.id} ></EventList>\n      <Divider>赛程</Divider>\n      {/* <RaceSchedule raceList={data.raceList}></RaceSchedule> */}\n      <RaceTimeline raceList={data.raceList}></RaceTimeline>\n      <Divider>技能</Divider>\n      <SkillList skillList={data.skillList}></SkillList>\n    </>:<>\n      <div style={{height:144,display:'flex'}}>\n        <Image src={cdnServer+data.imgUrl} width={128} height={128} resizemode={'cover'}></Image>\n        <div style={{display:'flex',height:128,padding:24,flexDirection:'column',justifyContent:'space-between'}}>\n          <div style={{fontSize:20,fontWeight:700}}>{t(data.charaName)}</div>\n          <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.charaName}</div>\n          <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{t(data.name)}</div>\n          <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.name}</div>\n        </div>\n      </div>\n      <Divider>适应</Divider>\n      <AdaptBox player={data}></AdaptBox>\n      <Divider>成长</Divider>\n      <GrowBox player={data}></GrowBox>\n      <Divider>技能</Divider>\n      <SkillList skillList={data.skillList}></SkillList>\n      <Divider>事件</Divider>\n      <EventList eventList={data.eventList} pid={data.id} ></EventList>\n      <Divider>赛程</Divider>\n      {/* <RaceSchedule raceList={data.raceList}></RaceSchedule> */}\n      <RaceTimeline raceList={data.raceList}></RaceTimeline>\n    </>\n  )\n}\nconst AdaptBox = (props)=>{\n\n  const tableStyle = {\n    width:\"100%\",\n    cellPadding:4,\n  }\n  const cellStyle = {\n    width:'20%',\n    height:'32px',\n    fontSize: 16,\n    textAlign: 'flex-start',\n    paddingLeft:16,\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const headerCellStyle = {\n    width:'20%',\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n    backgroundColor:'#32cd32C0',\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const adaptTextWrapperStyle = {paddingRight:16,display:'flex',width:'100%',alignItems:'center',justifyContent:'space-between'}\n\n  const coloredGradeText = (text)=>{\n    let color = 'gray';\n    switch (text) {\n      case 'S':\n        color = '#FFD700';\n        break\n      case 'A':\n        color = '#FFA500';\n        break\n      case 'B':\n        color = '#BA55D3';\n        break\n      case 'C':\n        color = '#90EE90';\n        break\n      case 'D':\n        color = '#87CEEB';\n        break\n      default:\n        color = 'gray'\n    }\n    return <div style={{fontSize:22,fontWeight:700,textShadow: \"0 2px #33333370\",color:color}}>{text}</div>\n  }\n  // {[`草地/芝\\xa0`,coloredGradeText(props.player.grass)]}\n  return(\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\n      <table {...tableStyle} >\n        <tbody>\n          <tr>\n            <td style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\",fontWeight:700,fontSize:18}}>场地适应</td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`草地/芝`,coloredGradeText(props.player.grass)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`泥地/ダート`,coloredGradeText(props.player.dirt)]}</div></td>\n            <td style={{ ...cellStyle }}>{`\\xa0`}</td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>{`\\xa0`}</td>\n          </tr>\n          <tr>\n            <td style={{ ...headerCellStyle ,fontWeight:700,fontSize:18}}>赛程适应</td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`短距离`,coloredGradeText(props.player.shortDistance)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`英里`,coloredGradeText(props.player.mile)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`中距离`,coloredGradeText(props.player.mediumDistance)]}</div></td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none solid none'}}><div style={adaptTextWrapperStyle}>{[`长距离`,coloredGradeText(props.player.longDistance)]}</div></td>\n          </tr>\n          <tr>\n            <td style={{ ...headerCellStyle ,borderRadius:\"0 0 0 8px\",borderStyle:'none solid none none',fontWeight:700,fontSize:18}}>脚质适应</td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`逃脱/逃げ`,coloredGradeText(props.player.escape)]}</div></td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`先行`,coloredGradeText(props.player.leading)]}</div></td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`插入/差し`,coloredGradeText(props.player.insert)]}</div></td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}><div style={adaptTextWrapperStyle}>{[`追击/追込`,coloredGradeText(props.player.tracking)]}</div></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nconst GrowBox= (props)=>{\n  const tableStyle = {\n    width:\"100%\",\n    cellPadding:4,\n  }\n  const headerCellStyle = {\n    width:'20%',\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n    backgroundColor:'#32cd32C0',\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const cellStyle = {\n    width:'20%',\n    height:'40px',\n    fontSize: 16,\n    textAlign: 'center',\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'none solid none none',\n    borderColor:'gray',\n  }\n\n  return(\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\n      <table {...tableStyle} >\n        <tbody>\n          <tr>\n            <th style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\"}}>速度/スピード</th>\n            <th style={{ ...headerCellStyle }}>耐力/スタミナ</th>\n            <th style={{ ...headerCellStyle }}>力量/パワー</th>\n            <th style={{ ...headerCellStyle }}>毅力/根性</th>\n            <th style={{ ...headerCellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>智慧/賢さ</th>\n          </tr>\n          <tr>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 0 8px\"}}>{props.player.speedGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.staminaGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.powerGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.gutsGrow}</td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}>{props.player.wisdomGrow}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}\nexport default PlayerDetail\n\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Image,Modal,Checkbox,Card} from 'antd';\n\n\nimport PlayerDetail from '../components/player-detail.js'\n// const CheckboxGroup = Checkbox.Group\n\n// todo 提取出来\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst PlayerCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Card cover={\n        <Image src={cdnServer+props.data.imgUrl} preview={false} onClick={showModal} width={'100%'}></Image>\n\n      }>\n        <Card.Meta title={t(props.data.name)} ></Card.Meta>\n        <Card.Meta title={t(props.data.charaName)} ></Card.Meta>\n      </Card>\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} footer={null} width={800} >\n        <PlayerDetail playerId={props.data.id} isNur={false}></PlayerDetail>\n      </Modal>\n    </>\n  )\n}\n//todo filter\nclass Player extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {list:props.playerList}\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.playerList !== prevProps.playerList){\n      this.setState({list:this.props.playerList})\n    }\n  }\n  render(){\n    return(\n      <Row justify=\"space-around\">\n        <Col span={22}>\n          {\n            ['3','2','1'].map(rare=>(\n              <Row gutter={[16,16]} key={rare}>\n                <Divider>{rare}{t('星')}</Divider>\n                {this.state.list.filter(item=>item.rare===rare).map(player=>\n                  <Col xxl={2} lg={3} sm={6} xs={6} key={player.id}>\n                    <PlayerCard data={player} onSelect={this.props.onSelect}></PlayerCard>\n                  </Col>)\n                }\n              </Row>\n            ))\n          }\n        </Col>\n      </Row>\n    )\n  }\n}\nPlayer.defaultProps={\n  playerList:db.get('players').value()\n}\n\nexport default Player\n","import React from 'react';\n// import {useState} from 'react';\nimport { Table, Popover, Slider, Row ,Col} from \"antd\";\n\nimport db from '../db.js'\nimport t from './t.js'\n\n\nconst ua = db.get('ua').value();\n// \"limit_lv5\": -1,\n// \"limit_lv10\": 5,\n// \"limit_lv15\": -1,\n// \"limit_lv20\": -1,\n// \"limit_lv25\": 35,\n// \"limit_lv30\": 35,\n// \"limit_lv35\": -1,\n// \"limit_lv40\": -1,\n// \"limit_lv45\": 50,\n// \"limit_lv50\": -1\nconst effects = db.get('effects').value()\nconst limits = [\n  \"init\",\n  \"limit_lv5\",\n  \"limit_lv10\",\n  \"limit_lv15\",\n  \"limit_lv20\",\n  \"limit_lv25\",\n  \"limit_lv30\",\n  \"limit_lv35\",\n  \"limit_lv40\",\n  \"limit_lv45\",\n  \"limit_lv50\"]\nconst getValue = (effect,cur) =>{\n  if(effect[cur]!==-1){\n    return effect[cur]\n  }else{\n    let index = limits.indexOf(cur)\n    let min = 0\n    let min_limit = \"init\"\n    let max = 0\n    let max_limit = \"limit_lv50\"\n    for(let limit of limits.slice(0,index)){\n      if(effect[limit]>min){\n        min = effect[limit]\n        min_limit = limit\n      }\n    }\n    for(let limit of limits.slice(index,limits.length)){\n      if(effect[limit]!==-1){\n        max = effect[limit]\n        max_limit = limit\n        break\n      }\n    }\n    // cur=40 lv35=40 lv40=-1 lv50=-1\n    if(max<=min || max - min === 1 || min === 0){\n      return min\n    }else{\n      // console.table({\n      //   name:effects[effect.type].name,\n      //   cname:t(effects[effect.type].name),\n      //   cur,min_limit,min,max_limit,max,\n      //   'max-min':max-min,\n      //   'max_limit - min_limit':limits.indexOf(max_limit)-limits.indexOf(min_limit),\n      //   'cur - min_limit':limits.indexOf(cur)-limits.indexOf(min_limit),\n      //   cur_value:min+(max-min)*(limits.indexOf(cur)-limits.indexOf(min_limit))/(limits.indexOf(max_limit)-limits.indexOf(min_limit))\n      // })\n      return Math.floor(min+(max-min)*(limits.indexOf(cur)-limits.indexOf(min_limit))/(limits.indexOf(max_limit)-limits.indexOf(min_limit)))+`(${t('插值')})`\n    }\n  }\n}\nconst EffectTable = (props)=>{\n\n  const effects = db.get('effects').value()\n  let columns = [\n    {title:t('效果'),dataIndex:'type',key:'type',render:type=><Popover trigger={ua==='mo'?'click':'hover'} content={<>\n      <p>{effects[type].name}</p>\n      <p>{t(effects[type].name)}</p>\n      <p>{effects[type].description}</p>\n      <p>{t(effects[type].description)}</p>\n    </>}>\n      <p>{t(effects[type].name)}</p>\n    </Popover>},\n    {title:t('初始'),dataIndex:'init',key:'init',render:(text,record)=>getValue(record,'init')},\n    // {title:'lv5',dataIndex:'limit_lv5',key:'limit_lv5',render:(text,record)=>getValue(record,'limit_lv5')},\n    // {title:'lv10',dataIndex:'limit_lv10',key:'limit_lv10',render:(text,record)=>getValue(record,'limit_lv10')},\n    // {title:'lv15',dataIndex:'limit_lv15',key:'limit_lv15',render:(text,record)=>getValue(record,'limit_lv15')},\n    // {title:'lv20',dataIndex:'limit_lv20',key:'limit_lv20',render:(text,record)=>getValue(record,'limit_lv20')},\n    {title:'lv25',dataIndex:'limit_lv25',key:'limit_lv25',render:(text,record)=>getValue(record,'limit_lv25')},\n    {title:'lv30',dataIndex:'limit_lv30',key:'limit_lv30',render:(text,record)=>getValue(record,'limit_lv30')},\n    {title:'lv35',dataIndex:'limit_lv35',key:'limit_lv35',render:(text,record)=>getValue(record,'limit_lv35')},\n    {title:'lv40',dataIndex:'limit_lv40',key:'limit_lv40',render:(text,record)=>getValue(record,'limit_lv40')},\n    {title:'lv45',dataIndex:'limit_lv45',key:'limit_lv45',render:(text,record)=>getValue(record,'limit_lv45')},\n    {title:'lv50',dataIndex:'limit_lv50',key:'limit_lv50',render:(text,record)=>getValue(record,'limit_lv50')},\n      ]\n  if(props.rarity ===2 ){\n    columns = columns.slice(0,columns.length-1)\n  }else if(props.rarity === 1){\n    columns = columns.slice(0,columns.length-2)\n  }\n\n  return(<Table columns={columns} dataSource={props.effects} rowKey='type' pagination={false}></Table>)\n}\n\n\n\n\n\n\n\n\nclass TestEffectTable extends React.Component{\n  constructor(props) {\n    super(props);\n    console.log('props',props)\n    this.effects = db.get('effects').value();\n    let maxLevel = 1;\n    switch (props.rarity) {\n      case 1:\n        maxLevel = 40;\n        break;\n      case 2:\n        maxLevel = 45;\n        break;\n      case 3:\n        maxLevel = 50;\n        break;\n      default:\n        maxLevel = 1;\n    }\n\n    this.maxLevel = maxLevel;\n    this.state={\n      selectingLevel:maxLevel,\n    }\n  }\n\n  calc(data,input){\n    let nodes = [];\n    let output = 0;\n    const maxLevel = this.maxLevel;\n    let prevNode = {level:0,value:0};\n    for (let i = 0; i<data.length;i += 1){\n      if(data[i] !== -1){\n        let level = i*5;\n        if (level === 0){\n          level = 1\n        }\n        nodes.push({level:level,value:data[i]})\n        prevNode = {level:level,value:data[i]};\n      }\n      if(i === data.length-1 && data[i] === -1){\n        nodes.push({level:maxLevel,value:prevNode.value})\n      }\n    }\n    nodes.push({level:999,value:prevNode.value}); // 以后万一出SSSR？确保一定能找到区间。\n\n    const level = Math.floor(input);\n    let upperNode = {level:0,value:0};\n    let lowerNode = {level:0,value:0};\n    if(level < 0 || level > maxLevel){\n        output = 0;\n    }else if(level<nodes[0].level){\n        output = 0;\n    }else {\n      for(let i=0;i<nodes.length;i+=1){\n        if (level>=nodes[i].level && level < nodes[i+1].level){\n          lowerNode = nodes[i];\n          upperNode = nodes[i+1] || nodes[i];\n          break;\n        }\n      }\n      output = Math.floor((upperNode.value-lowerNode.value)/(upperNode.level-lowerNode.level)*(level-lowerNode.level)+lowerNode.value);\n    }\n\n    return output\n  }\n\n\n  effectCapsuleStyle = {\n    display:'flex',\n    alignItems:'center',\n    flexDirection:'row',\n    margin:2,\n    borderRadius:'12px',\n    backgroundColor:'#32cd32C0',\n    borderStyle:'solid',\n    borderWidth:'thin',\n    borderColor:'#32cd32F0'\n}\n\n    effectRightDivStyle={\n    padding:8,\n    display:'flex',\n    height:'100%',\n    width:'60%',\n    backgroundColor:'white',\n    borderRadius:'0 12px 12px 0',\n    }\n\n    effectNameStyle={\n      fontSize:18,\n      fontWeight: 500,\n      color:'#333333',\n      textShadow: \"0 2px #cccccc70\",\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n    }\n\n    effectValueStyle = {\n      fontSize:18,\n      fontWeight: 600,\n      color:'#333333',\n    }\n    effectBoxStyle = {\n      display:'flex',\n      flexDirection:'row',\n      alignItems:'center',\n      width:'100%',\n      padding:8,\n      justifyContent:'space-between'\n    }\n  render() {\n    return(\n      <div>\n        {this.props.unique_effect&&<>\n        <div style={{...this.effectBoxStyle}}>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            {t('固有效果')}\n          </text>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            {`${t('激活等级')}:${this.props.unique_effect.lv}`}\n          </text>\n        </div>\n        <Row>\n          {['0','1'].map(index=>\n            <Col span={12}>\n              <div style={{...this.effectCapsuleStyle}}>\n            <Popover trigger={ua==='mo'?'click':'hover'} content={<>\n              <p>{this.effects[this.props.unique_effect[`type_${index}`]].name}</p>\n              <p>{t(this.effects[this.props.unique_effect[`type_${index}`]].name)}</p>\n              <p>{this.effects[this.props.unique_effect[`type_${index}`]].description}</p>\n              <p>{t(this.effects[this.props.unique_effect[`type_${index}`]].description)}</p>\n            </>}>\n              <div style={{display:'flex',padding:8,width:'40%'}}>\n                <text style={{...this.effectNameStyle}}>\n                  {t(this.effects[this.props.unique_effect[`type_${index}`]].name)}\n                </text>\n              </div>\n            </Popover>\n                <div style={{...this.effectRightDivStyle}}>\n                  <text style={{...this.effectValueStyle}}>\n                  {this.props.unique_effect[`value_${index}`]}\n                  </text>\n                </div>\n              </div>\n            </Col>\n          )}\n        </Row>\n        </>}\n\n        <div style={{...this.effectBoxStyle}}>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            {t('设置等级')}\n          </text>\n          <Slider\n            style={{width:'80%',marginRight:16}}\n            min={1}\n            max={this.maxLevel}\n            value={this.state.selectingLevel}\n            onChange={(value)=>{this.setState({selectingLevel:value})}}\n            marks={{1:'lv1',5:'lv5',10:'lv10',15:'lv15',20:'lv20',\n                    25:'lv25',30:'lv30',35:'lv35',40:'lv40',45:'lv45',50:'lv50'}}\n          />\n        </div>\n        <Row>\n          {this.props.effects.map(\n            (item)=>{\n              const data = [item.init,item.limit_lv5,item.limit_lv10,item.limit_lv15,item.limit_lv20,item.limit_lv25,item.limit_lv30,item.limit_lv35,item.limit_lv40,item.limit_lv45,item.limit_lv50].filter((item)=>(item));\n              return (\n                <Col span={12}>\n                  <div style={{...this.effectCapsuleStyle}}>\n                <Popover trigger={ua==='mo'?'click':'hover'} content={<>\n                  <p>{this.effects[item.type].name}</p>\n                  <p>{t(this.effects[item.type].name)}</p>\n                  <p>{this.effects[item.type].description}</p>\n                  <p>{t(this.effects[item.type].description)}</p>\n                </>}>\n                  <div style={{display:'flex',padding:8,width:'40%'}}>\n                    <text style={{...this.effectNameStyle}}>{t(this.effects[item.type].name)}</text>\n                  </div>\n                </Popover>\n                    <div style={{...this.effectRightDivStyle}}>\n                      <text style={{...this.effectValueStyle}}>\n                      {this.calc(data,this.state.selectingLevel)}\n                      </text>\n                    </div>\n                  </div>\n                </Col>\n              )\n            }\n          )}\n          </Row>\n      </div>\n    )\n  }\n}\n\n\n\n\n\n\n\nexport {EffectTable,TestEffectTable}\n","import React from 'react';\n\nimport { Button, Divider, Image, Alert } from \"antd\";\nimport db from '../db.js'\nimport t from './t.js'\n\nimport {EventList} from './event.js'\nimport {SkillList} from './skill.js'\nimport {EffectTable,TestEffectTable} from './effect.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst SupportDetail = (props) =>{\n  const id = props.supportId || props.match.params.supportId\n  const data = db.get('supports').find({id}).value()\n  return(<>\n    <div style={{display:'flex',alignItems:'center',justifyContent:'flex-start',height:192,padding:16}}>\n      <Image src={cdnServer+data.imgUrl} preview={false} width={128} />\n      <div style={{display:'flex',flexDirection:'column',justifyContent:'space-around',height:'100%',padding:16}}>\n        <div style={{fontSize:20,fontWeight:700}}>{t(data.name)}</div>\n        <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.name}</div>\n        <div style={{fontSize:20,fontWeight:700}}>{t(data.charaName)}</div>\n        <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.charaName}</div>\n      </div>\n    </div>\n    <EventList eventList={data.eventList} pid={data.id}></EventList>\n    <Divider style={{margin:'4px 0'}}>{t('培训技能')}</Divider>\n    <SkillList skillList={data.trainingEventSkill}></SkillList>\n    <Divider style={{margin:'4px 0'}}>{t('自带技能')}</Divider>\n    <SkillList skillList={data.possessionSkill}></SkillList>\n    <Divider>{t('育成效果')}</Divider>\n    <TestEffectTable effects={data.effects} unique_effect={data.unique_effect} rarity={data.rarity}></TestEffectTable>\n    <Alert message={t('中间数值为插值，存在误差')} type=\"info\" />\n    <EffectTable effects={data.effects} rarity={data.rarity}></EffectTable>\n  </>)\n}\n\nexport default SupportDetail\n\n","import React,{useState} from 'react';\nimport { Divider,Row,Col,Image,Modal,Button,Checkbox,Tooltip} from 'antd';\n\nimport db from '../db.js'\nimport t from '../components/t.js'\n\n\nimport SupportDetail from '../components/support-detail.js'\nconst CheckboxGroup = Checkbox.Group\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SupportCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Tooltip title={`${props.data.name}----${t(props.data.charaName)}`}>\n        <Image src={cdnServer+props.data.imgUrl} preview={false}  onClick={showModal} width={'100%'}></Image>\n      </Tooltip>\n\n      <Modal title={`${props.data.name}----${t(props.data.charaName)}`}\n            visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n            width={800} destroyOnClose={true}>\n        <SupportDetail supportId={props.data.id}></SupportDetail>\n      </Modal>\n    </>\n  )\n}\nclass Support extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      list:props.supportList,\n      chooseMode:false,\n      showMode:false,\n      chosenList:db.get('mySupports').value()||[],\n      checkedList:[]}\n    this.effects = db.get('effects').value()\n    this.checkOptions = Object.keys(this.effects)\n      .map(key=>{return {label:t(this.effects[key].name),value:key}})\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.supportList !== prevProps.supportList){\n      this.setState({list:this.props.supportList})\n    }\n  }\n  changeChooseMode=()=>{\n    this.setState({chooseMode:!this.state.chooseMode})\n    this.setState({showMode:!this.state.chooseMode})\n  }\n  changeShowMode=()=>{\n    this.setState({showMode:!this.state.showMode})\n  }\n  onSelect=(item)=>{\n    let index = this.state.chosenList.indexOf(item.id)\n    if (index === -1){\n      this.state.chosenList.push(item.id)\n    }else{\n      this.state.chosenList.splice(index,1)\n    }\n    db.update('mySupports',this.state.chosenList).write()\n    this.setState({})\n  }\n  onChange = (checkedValues)=>{\n    let tempList = this.props.supportList\n    if(checkedValues.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        checkedValues.forEach(value=>{\n          support.effects.forEach(effect=>{\n            if(effect.type == value){\n              flag += 1\n            }\n          })\n        })\n        return flag == checkedValues.length\n      })\n    }\n    this.setState({\n      checkedList:checkedValues,\n      list:tempList\n    })\n  }\n\n\n\n\n  render(){\n    const headerStyle = {\n      backgroundColor:'#1e90ffA0',\n      height:48,\n      borderRadius:5,\n      margin:1,\n      display:'flex',\n      alignItems:'center',\n      justifyContent:'center'\n    }\n    const headerTextStyle = {\n      fontSize: 18,\n      textAlign: 'center',\n      fontWeight: 600,\n      color:'#f5f5f5',\n      textShadow: \"0 2px #33333370\",\n    }\n    return (\n      <div style={{display:'flex',justifyContent:'center',paddingTop:40}}>\n        <div style={{maxWidth:1200,maxHeight:window.innerHeight-200}}>\n          <Row justify=\"space-around\">\n            <Col span={6}><div style={{...headerStyle}}><text style={{...headerTextStyle}}>{t('筛选')}</text></div></Col>\n            <Col span={18}><div style={{...headerStyle}}><text style={{...headerTextStyle}}>{t('支援卡列表')}</text></div></Col>\n            <Col span={6}>\n              <div style={{overflowY:'scroll',display:'flex',flexDirection:'column',overflowX:'hidden',maxHeight:window.innerHeight-300,padding:4}}>\n                {this.props.filter&&<>\n                  <Button onClick={this.changeShowMode}>{t('高亮我的卡组')}</Button>\n                  <Button onClick={this.changeChooseMode}>{t('配置卡组')}</Button>\n                  {this.state.chooseMode && <Button onClick={this.changeChooseMode} type='primary'>{t('配置完成')}</Button>}\n                  <Divider style={{margin:4}}/>\n                  <CheckboxGroup options={this.checkOptions} value={this.state.checkedList} onChange={this.onChange} />\n                </>}\n              </div>\n            </Col>\n\n\n            <Col span={18}>\n              <div style={{overflowY:'scroll',overflowX:'hidden',maxHeight:window.innerHeight-300,paddingRight:16}}>\n                {\n                  ['SSR','SR','R'].map(rare=>\n                    <Row gutter={[16,16]} key={rare}>\n                      <Divider>{rare}</Divider>\n                      {this.state.list.filter(item=>item.rare===rare).map(support=>\n                        <Col xxl={4} lg={6} sm={6} xs={6} key={support.id}\n                            className={this.state.showMode&&this.state.chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}>\n                          <SupportCard data={support} onSelect={this.state.chooseMode?this.onSelect:this.props.onSelect}\n                                      chooseMode={this.props.chooseMode}></SupportCard>\n                          {/* {support.effects} */}\n                        </Col>)\n                      }\n                    </Row>\n                  )\n                }\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n\nSupport.defaultProps={\n  supportList:db.get('supports').value(),\n  filter:true\n}\n// const Support = (props)=>{\n//   const [list,setList]=useState(props.supportList||db.get('supports').value())\n//   const [chooseMode,setChooseMode]=useState(false)\n//   const [showMode,setShowMode]=useState(false)\n//   const [chosenList,setChosenList]=useState(db.get('mySupports').value()||[])\n//   const [checkedList,setCheckedList]=useState([])\n\n//   const effects = db.get('effects').value()\n//   const checkOptions = Object.keys(effects).map(key=>{return {label:t(effects[key].name),value:key}})\n//   const changeChooseMode = () =>{\n//     setChooseMode(!chooseMode)\n//     setShowMode(!chooseMode)\n//   }\n//   const changeShowMode = () =>{\n//     setShowMode(!showMode)\n//   }\n//   const onSelect = (item) =>{\n//     let index = chosenList.indexOf(item.id)\n//     let tempList = chosenList;\n//     if (index === -1){\n//       tempList.push(item.id)\n//     }else{\n//       tempList.splice(index,1)\n//     }\n//     db.update('mySupports',tempList).write()\n//     setChosenList(tempList)\n//   }\n//   const onChange = (checkedValues)=>{\n//     let tempList = list\n//     if(checkedValues.length){\n//       tempList = tempList.filter(support=>{\n//         let flag = 0;\n//         checkedValues.forEach(value=>{\n//           support.effects.forEach(effect=>{\n//             if(effect.type == value){\n//               flag += 1\n//             }\n//           })\n//         })\n//         return flag == checkedValues.length\n//       })\n//     }\n//     setCheckedList(checkedValues)\n//     setList(tempList)\n//   }\n\n//     return (\n//       <Row justify=\"space-around\">\n//         <Col span={22}>\n//           <Button onClick={changeShowMode}>切换显示模式</Button>\n//           <Button onClick={changeChooseMode}>配置卡组</Button>\n//           {chooseMode && <Button onClick={changeChooseMode} type='primary'>配置完成</Button>}\n//         </Col>\n//         <Col span={22}>\n//           <CheckboxGroup options={checkOptions} value={checkedList} onChange={onChange} />\n//         </Col>\n//         <Col span={22}>\n//       {\n//         ['SSR','SR','R'].map(rare=>\n//           <Row gutter={[16,16]} key={rare}>\n//             <Divider>{rare}</Divider>\n//             {list.filter(item=>item.rare===rare).map(support=>\n//               <Col xxl={2} lg={3} sm={4} xs={6} key={support.id}\n//               className={showMode&&chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}>\n//                 <SupportCard data={support} onSelect={chooseMode?onSelect:props.onSelect}\n//                 chooseMode={props.chooseMode}></SupportCard>\n//                 {/* {support.effects} */}\n//               </Col>)\n//             }\n//           </Row>\n//         )\n//       }\n//         </Col>\n//       </Row>\n//       )\n// }\n\nexport default Support\n","import React from 'react';\n// import {useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport { List,Popover,Button } from 'antd';\n\nconst ua = db.get('ua').value();\n\nconst BuffButton = (props)=>{\n  return(\n    <Popover\n    trigger={ua==='mo'?'click':'hover'}\n    content={<BuffList></BuffList>}>\n      <Button>Buff</Button>\n    </Popover>\n  )\n}\nconst BuffList = (props)=>{\n  const buffs = db.get('buffs').value()\n  const cellStyle = {\n    // width:'20%',\n    height:'32px',\n    fontSize: 16,\n    textAlign: 'flex-start',\n    paddingLeft:16,\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'solid solid solid solid',\n    borderColor:'gray',\n  }\n  return(\n    <table>\n      <tbody>\n      {buffs.map(buff=><tr key={buff.name}>\n        <td style={{...cellStyle}}>{t(buff.name)}</td>\n        <td style={{...cellStyle}}>{t(buff.describe)}</td>\n      </tr>)}\n      </tbody>\n    </table>\n    )\n}\nexport {BuffButton,BuffList}\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\nimport {RaceSchedule,RaceTimeline} from '../components/race.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst NurturingSupport = (props)=>{\n  return (\n    <Row>\n          <Col span={4}>\n            <img src={cdnServer+props.data.imgUrl} alt={props.data.name} width={'100%'}></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={props.data.skillList} ></SkillList>\n          </Col>\n          <Col span={24}>\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n          </Col>\n    </Row>\n  )\n}\n\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [filterRace,setFilterRace] = useState(selected.filterRace||[])\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setFilterRace(data);\n\n    // save\n    selected.filterRace = data\n    db.get('selected').assign(selected).write()\n  }\n\n\n  // 卡组相关操作\n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].map(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.map((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    console.log('currentWidth::',height);\n    return {height};\n  };\n\n  const dynamicContentHeight = useViewport().height -128\n  return(\n    <Row className='nurturing-box' gutter={[32,8]}>\n\n      <Col span={9} style={{height:dynamicContentHeight,overflowY:'auto'}}>\n        <Button type={'primary'} onClick={showPlayer}>{t('选择马娘')}</Button>\n        <Button onClick={showSupport2}>{t('支援卡查询')}</Button>\n        <Button onClick={showRace}>{t('选择关注赛事')}</Button>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}>{t('保存为新卡组')}</Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}>{t('读取卡组')}</Button>\n                  <Popconfirm title=\"确认覆盖？\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('覆盖卡组')}</Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"确认删除？\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('删除卡组')}</Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button>{t('我的卡组')}</Button></Popover>\n        <BuffButton></BuffButton>\n        <Divider></Divider>\n        <Row>\n          <Col span={4}>\n            <img src={player.id?cdnServer+player.imgUrl:null} width='100%'></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={player.id?player.skillList:[]}></SkillList>\n          </Col>\n        </Row>\n        <Divider></Divider>\n      {player.id&&<>\n          <EventList eventList={player.eventList} pid={player.id}></EventList>\n          <Divider style={{margin:'4px 0'}}>{t('比赛')}</Divider>\n          <RaceTimeline raceList={player.raceList} filterRace={filterRace}></RaceTimeline>\n        </>}\n      </Col>\n      <Col sm={15} xs={24}>\n        <Row gutter={[16,16]}>\n        {[0,1,2,3,4,5].map(index=>\n          <Col sm={8} xs={24} key={index}>\n            <Button onClick={()=>showSupport(index)}>{t('选择支援卡')}</Button>\n            {supports[index]&&supports[index].id &&<NurturingSupport data={supports[index]} ></NurturingSupport>}\n          </Col>\n        )}\n        </Row>\n      </Col>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\nimport ScrollBars from 'react-custom-scrollbars'\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\nimport {RaceSchedule,RaceTimeline,RaceCheckbox} from '../components/race.js'\n\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const races = db.get('races').value()\n  const [raceFilterCondition,setRaceFilterCondition] = useState(selected.raceFilterCondition||{\n    distanceType:[],\n    grade:[],\n    ground:[]})\n  const [filterRace,setFilterRace] = useState(selected.filterRace||{})\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n\n\n  // 卡组相关操作\n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition)=>{\n    setRaceFilterCondition(filterCondition)\n    //根据条件过滤\n    let tmpRaceList = races\n    Object.keys(filterCondition)\n    .map(key=>{\n      tmpRaceList = tmpRaceList.filter(race=>\n        filterCondition[key].indexOf(race[key])!==-1\n      )\n    })\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {}\n      for(let race of tmpRaceList){\n        if(tmpFilterRace[race.dateNum]){\n          tmpFilterRace[race.dateNum].push(race.id)\n        }else{\n          tmpFilterRace[race.dateNum]=[race.id]\n        }\n      }\n    //更新state\n    setFilterRace(tmpFilterRace)\n    selected.raceFilterCondition = filterCondition\n    selected.filterRace = tmpFilterRace\n    db.get('selected').assign({...selected}).write()\n  }\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => {\n        setHeight(window.innerHeight)\n        setWidth(window.innerWidth)\n      };\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    // console.log('currentWidth::',height);\n    return {height,width};\n  };\n\n  const dynamicContentHeight = useViewport().height -128\n  // 宽度0.3 高度0.5 取较小值\n  const dynamicCardHeight = Math.min(Math.floor(dynamicContentHeight / 2),Math.floor(useViewport().width * 0.3))\n  const dynamicCardWidth = Math.floor(dynamicCardHeight * 3 / 4)\n  const dynamicCardBoxWidth = dynamicCardWidth * 3\n\n  return(\n    <div style={{display:'flex',justifyContent:'center'}}>\n      <div  style={{flex:'1 1 auto',height:dynamicContentHeight}}>\n        <div style={{display:'flex',justifyContent:'center'}}>\n            {player.id?\n              <img src={cdnServer+player.imgUrl} alt={player.imgUrl}\n              width={0.12*dynamicContentHeight} height={0.12*dynamicContentHeight}\n                    style={{float:'left',marginRight:'8px'}} onClick={showPlayer}></img>\n              :<Button className='add-player' type={'primary'} onClick={showPlayer}>{t('选择马娘')}</Button>\n            }\n            <Row>\n\n            <Button onClick={showSupport2}>{t('支援卡查询')}</Button>\n            <BuffButton/>\n\n            <Popover content={<RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition}></RaceCheckbox>}>\n              <Button>{t('比赛')}</Button>\n            </Popover>\n\n            <Popover width={'100%'} content={\n              <>\n                <Button onClick={()=>saveDeck()}>{t('保存为新卡组')}</Button>\n                {decks.map(deck=>\n                  <Row key={deck.id}>\n                    {deck.imgUrls.map(imgUrl=>\n                      <Col span={3} key={imgUrl}>\n                        <img src={cdnServer+imgUrl} alt={imgUrl} width={'100'}></img>\n                      </Col>\n                    )}\n                    <Col span={3}>\n                      <Button type=\"primary\" onClick={()=>loadDeck(deck)}>{t('读取卡组')}</Button>\n                      <Popconfirm title={t(\"确认覆盖？\")} onConfirm={()=>saveDeck(deck)}>\n                        <Button danger type=\"dashed\">{t('覆盖卡组')}</Button>\n                      </Popconfirm>\n                      <Popconfirm title={t(\"确认删除？\")} onConfirm={()=>deleteDeck(deck)}>\n                        <Button danger type=\"dashed\">{t('删除卡组')}</Button>\n                      </Popconfirm>\n                    </Col>\n                  </Row>\n                )}\n              </>\n            }><Button>{t('我的卡组')}</Button></Popover>\n          </Row>\n        </div>\n\n        {player.id&&\n        <Row gutter={4}>\n          <Col span={24}>\n            <Divider style={{margin:'8px 0'}}>{t('事件')}</Divider>\n            <div style={{height:0.28*dynamicContentHeight,overflowX:'hidden',padding:8}}>\n              <ScrollBars autoHide={true} style={{backgroundColor:'white',borderRadius:16}}>\n                <EventList eventList={player.eventList} pid={player.id} type={'multi'}></EventList>\n              </ScrollBars>\n            </div>\n          </Col>\n          <Col span={12}>\n            <Divider style={{margin:'4px 0'}}>{t('技能')}</Divider>\n            <div style={{height:0.54*dynamicContentHeight,overflow:'hidden',padding:8}}>\n              <ScrollBars autoHide={true} style={{backgroundColor:'white',borderRadius:16}}>\n                <div style={{ height: 16 }}/>\n                <SkillList skillList={player.skillList}></SkillList>\n              </ScrollBars>\n            </div>\n          </Col>\n          <Col span={12}>\n            <Divider style={{margin:'4px 0'}}>{t('比赛')}</Divider>\n            <div style={{height:0.54*dynamicContentHeight,overflow:'hidden',padding:8}}>\n              <ScrollBars autoHide={true} style={{backgroundColor:'white',borderRadius:16}}>\n                <div style={{ height: 16 }}/>\n                <RaceTimeline raceList={player.raceList} filterRace={filterRace}></RaceTimeline>\n              </ScrollBars>\n            </div>\n          </Col>\n        </Row>\n        }\n      </div>\n\n      <div style={{flex:`0 0 ${dynamicCardBoxWidth}px`,display:'flex',flexWrap:'wrap'}}>\n        {[0,1,2,3,4,5].map(index=>\n          supports[index]&&supports[index].id?\n            <div key={index} style={{\n              width:dynamicCardWidth,\n              height:dynamicCardHeight,\n              backgroundImage:`url(${cdnServer+supports[index].imgUrl})`,\n              backgroundRepeat:'no-repeat',\n              backgroundSize:'cover'}}>\n              <div style={{\n                backgroundColor:'rgba(0,0,0,0.2)',\n                height:'100%',\n                padding:'2%',\n                display:'flex',\n                flexDirection:'column',\n                justifyContent:'space-between',\n                alignItems:'center'\n              }}>\n                <ScrollBars style={{height:'38%'}} autoHide>\n                  <div style={{paddingLeft:'2%',width:'98%'}}>\n                    <Tooltip title={t('选择支援卡')}>\n                      <Button shape=\"circle\" icon={<EditOutlined />} onClick={()=>showSupport(index)}/>\n                    </Tooltip>\n                    <EventList eventList={supports[index].eventList} pid={supports[index].id} type='multi'></EventList>\n                  </div>\n                </ScrollBars>\n\n                <ScrollBars style={{height:'62%',marginBottom:'4%'}} autoHide>\n                  <div style={{paddingLeft:'2%',width:'98%'}}>\n                    <SkillList skillList={[...new Set(supports[index].skillList)]} ></SkillList>\n                  </div>\n                </ScrollBars>\n              </div>\n            </div>\n            :<Button key={index} style={{width:'31%', height:'50%',borderRadius:16}} onClick={()=>showSupport(index)}>{t('选择支援卡')}</Button>\n        )}\n      </div>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n    </div>\n  )\n}\n\nexport default Nurturing\n\n\n","import React,{useState} from 'react';\nimport { Divider,Row,Col,Button,Checkbox,Modal,Tooltip,PageHeader,Switch,Input} from 'antd';\n\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport Support from './support.js'\nimport Player from './player.js'\nimport {SkillButton} from '../components/skill.js'\nconst CheckboxGroup = Checkbox.Group\nconst { Search } = Input\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst Skill = () =>{\n  // 所有技能列表\n  const allSkillList = db.get('skills').orderBy('db_id').value()\n  const allSupportList = db.get('supports').value()\n  const allPlayerList = db.get('players').value()\n  const mySupports = db.get('mySupports').value()\n  let mySkillList = new Set()\n  mySupports.forEach(supportId=>{\n    let support = db.get('supports').find({id:supportId}).value()\n    support.skillList.forEach(skillId=>{\n      mySkillList.add(skillId)\n    })\n  })\n\n  const [skillList,setSkillList] = useState(allSkillList)\n  const [skillSupportList,setSkillSupportList] = useState(allSupportList)\n  const [skillPlayerList,setSkillPlayerList] = useState(allPlayerList)\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  // 点击技能出现的弹框标题\n  const [skillName, setSkillName] = useState('');\n\n  const [checkedList1, setCheckedList1] = useState([]);\n  const [checkedList2, setCheckedList2] = useState([]);\n  const [checkedList3, setCheckedList3] = useState([]);\n  // init supportMode\n  localStorage.getItem('supportMode')===null&&localStorage.setItem('supportMode',0)\n  const [mode,setMode] = useState(parseInt(localStorage.getItem('supportMode')))\n  const checkOptions1 = [\n    {label:'通用',value:'normal'},\n    {label:'短距',value:'＜短距離＞'},\n    {label:'英里',value:'＜マイル＞'},\n    {label:'中距',value:'＜中距離＞'},\n    {label:'长距',value:'＜長距離＞'},\n    {label:'逃',value:'＜作戦・逃げ＞'},\n    {label:'先',value:'＜作戦・先行＞'},\n    {label:'差',value:'＜作戦・差し＞'},\n    {label:'追',value:'＜作戦・追込＞'}\n  ]\n  const checkOptions2 =[\n    {label:'速度被动(绿)',value:'10011'},\n    {label:'耐力被动(绿)',value:'10021'},\n    {label:'力量被动(绿)',value:'10031'},\n    {label:'毅力被动(绿)',value:'10041'},\n    {label:'智力被动(绿)',value:'10051'},\n    {label:'耐力恢复(蓝)',value:'20021'},\n    {label:'速度提高(黄)',value:'20011'},\n    // {label:'20031',value:'20031'},\n    {label:'加速度提高(黄)',value:'20041'},\n    {label:'切换跑道(黄)',value:'20051'},\n    {label:'起步(黄)',value:'20061'},\n    // {label:'20071',value:'20071'},\n    // {label:'20081',value:'20081'},\n    {label:'视野(黄)',value:'20091'},\n    {label:'降速(红)',value:'30011'},\n    {label:'安定(红)',value:'30041'},\n    {label:'疲劳(红)',value:'30051'},\n    {label:'视野(红)',value:'30071'}\n  ]\n  const checkOptions3 = [\n    {label:'普通',value:'ノーマル'},\n    {label:'稀有',value:'レア'},\n    {label:'独特',value:'固有'}\n  ]\n\n  const onChange1=(checkedValues)=>{\n    setCheckedList1(checkedValues)\n    updateSkillList(checkedValues,checkedList2,checkedList3)\n\n  }\n  const onChange2 = (checkedValues)=>{\n    setCheckedList2(checkedValues)\n    updateSkillList(checkedList1,checkedValues,checkedList3)\n  }\n  const onChange3 = (checkedValues)=>{\n    setCheckedList3(checkedValues)\n    updateSkillList(checkedList1,checkedList2,checkedValues)\n  }\n  const updateSkillList = (check1,check2,check3)=>{\n    let tempSkillList = allSkillList\n    if(check1.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check1.forEach(value=>{\n          if(skill.describe){\n            if(value==='normal' && skill.describe.indexOf('＜') === -1 && skill.describe.indexOf('＞') === -1){\n              flag = 1\n            }else if(skill.describe.indexOf(value)!==-1){\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    if(check2.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check2.forEach(value=>{\n          let str = skill.icon_id +''\n          if(str){\n            if(str[0] === value[0] && str[3] === value[3] ){\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    if(check3.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check3.forEach(value=>{\n          if(skill.rare === value){\n            flag = 1\n          }\n        })\n        return flag\n      })\n    }\n    setSkillList(tempSkillList)\n  }\n  const resetCheckbox=()=>{\n    setCheckedList1([])\n    setCheckedList2([])\n    setCheckedList3([])\n    setSkillList(allSkillList)\n  }\n\n  const showModal = (skill) => {\n    let tempSupportList = allSupportList.filter(support=>{\n      let flag = 0;\n      support.skillList.forEach(id=>{\n        if (id===skill.id){\n          flag = 1\n        }\n      })\n      return flag\n    })\n    let tempPlayerList = allPlayerList.filter(player=>{\n      let flag = 0;\n      player.skillList.forEach(id=>{\n        if (id===skill.id){\n          flag = 1\n        }\n      })\n      return flag\n    })\n    setSkillName(skill.name)\n    setSkillSupportList(tempSupportList)\n    setSkillPlayerList(tempPlayerList)\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n  const changeMode = ()=>{\n    localStorage.setItem('supportMode',1-mode)\n    setMode(1-mode)\n  }\n  const rareLabel={'ノーマル':'普通','レア':'金色 稀有','固有':'独特'}\n\n  const headerStyle = {\n    backgroundColor:'#1e90ffA0',\n    height:48,\n    borderRadius:5,\n    margin:1,\n    display:'flex',\n    alignItems:'center',\n    justifyContent:'center'\n  }\n  const headerTextStyle = {\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n  }\n\n  const onSearch = (searchText) => {\n    const fullSkillList = allSkillList;\n    const tempSkillList = fullSkillList.filter(item => (item.name).indexOf(searchText) > -1);\n    setCheckedList1([])\n    setCheckedList2([])\n    setCheckedList3([])\n    setSkillList(tempSkillList)\n  };\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return {height};\n  };\n\n  const dynamicListHeight = useViewport().height - 128 - 90;\n\n  return(<>\n    <div style={{display:'flex',justifyContent:'center',paddingTop:40}}>\n      <div style={{maxWidth:800}}>\n        <Row>\n          <Col span={6}><div style={{...headerStyle}}><text style={{...headerTextStyle}}>{t('筛选')}</text></div></Col>\n          <Col span={18}><div style={{...headerStyle}}><text style={{...headerTextStyle}}>{t('技能列表')}</text></div></Col>\n          <Col span={6}>\n            <div style={{height:dynamicListHeight,overflowY:'scroll',display:'flex',flexDirection:'column'}}>\n              <div style={{height:16}}/>\n              <Button type={'danger'} onClick={resetCheckbox} style={{width:'100%'}}>{t('重置')}</Button>\n              <Divider/>\n              <div>\n                <Tooltip title={t(\"可以在支援卡页面配置\")}>\n                <span style={{ margin: '0 10px 0 0',lineHeight: '32px'}}>{t('显示拥有支援卡')}</span>\n                  <Switch checked={mode} onChange={changeMode} />\n                </Tooltip>\n              </div>\n              <div>\n                <span style={{ margin: '0 10px 0 0',lineHeight: '32px'}}>{t('技能搜索')}</span>\n                <Search\n                  placeholder={t(\"输入技能名称\")}\n                  enterButton={t(\"搜索\")}\n                  size=\"middle\"\n                  style={{ width: '100%' }}\n                  onSearch={onSearch}\n                />\n              </div>\n              <Divider/>\n              <CheckboxGroup options={checkOptions1} value={checkedList1} onChange={onChange1} />\n              <Divider/>\n              <CheckboxGroup options={checkOptions2} value={checkedList2} onChange={onChange2} />\n              <Divider/>\n              <CheckboxGroup options={checkOptions3} value={checkedList3} onChange={onChange3} />\n            </div>\n          </Col>\n          <Col span={18}>\n            <div style={{height:dynamicListHeight,overflowY:'scroll',overflowX:'hidden'}}>\n              {['ノーマル','レア','固有'].map(rare=>\n                <Row gutter={[8,8]} key={rare}>\n                  <Divider>{rareLabel[rare]}</Divider>\n                  { skillList.filter(item=>mode?mySkillList.has(item.id)&&(item.rare === rare):item.rare === rare).map(skill=>\n                    <Col span={12}>\n                      <SkillButton usedInList={true} skill={skill} key={skill.id} onClick={showModal}></SkillButton>\n                    </Col>\n                  )\n                  }\n                  <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} width={'80%'}>\n                    <PageHeader title={skillName}>{t(skillName)}</PageHeader>\n                    <Support supportList={skillSupportList} filter={false}></Support>\n                    <Player playerList={skillPlayerList} ></Player>\n                  </Modal>\n                </Row>\n              )}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  </>)\n}\n\nexport default Skill\n\n","import React,{useState} from 'react';\nimport { Row,Alert,Image,Button,Divider,\n  Table,Modal,Col,Radio,Rate,Form,Slider,PageHeader,Input,Space} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport Player from './player.js'\nimport Support from './support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// db.set('userId',null).write()\nlet userId = db.get('userId').value()\n// console.log(userId)\n\n/*\nuserId 随机生成\n种马玩家id\n种马id\n蓝色因子 - speed stamina power guts wisdom\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\n        - escape leading insert tracking\n绿色因子\n种马父id\n种马母id\n\ntotal blue\ntotal red\nwhite num\n*/\n// 生成一个userId\n\nconst blueLabels={\n  'speed':'速度',\n  'stamina':'耐力',\n  'power':'力量',\n  'guts':'根性',\n  'wisdom':'智力'\n}\nconst redLabels = {\n  'grass':'草地',\n  'dirt':'泥地',\n  'shortDistance':'短距离',\n  'mile':'英里',\n  'mediumDistance':'中距离',\n  'longDistance':'长距离',\n  'escape':'逃',\n  'leading':'先',\n  'insert':'差',\n  'tracking':'追'}\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\nconst SeedInput = (props)=>{\n  const [form] = Form.useForm();\n  const [seed,setSeed] = useState({})\n\n  const onFinish = async (value)=>{\n    let tmpSeed = seed\n    tmpSeed = Object.assign({},seed,value)\n    setSeed(tmpSeed)\n    // db.set('form',form).write()\n    // 修整成需要的数据\n    const formData = {...tmpSeed}\n    formData.userId = userId || db.get('userId').value()\n    let updateTime = new Date().getTime()\n    formData.updateTime=updateTime\n    formData['playerId-0'] = value['player-0'].id\n    formData['playerId-1'] = value['player-1'].id\n    formData['playerId-2'] = value['player-2'].id\n    formData['supportId'] = value['support'].id\n    delete formData['support']\n    delete formData['player-0']\n    delete formData['player-1']\n    delete formData['player-2']\n    // formData[formData['blue-0']]=formData['blueLevel-0']\n    // formData[formData['red-0']]=formData['redLevel-0']\n    let list = ['0','1','2']\n    list.forEach(i=>{\n      //统计蓝色因子\n      if(formData[formData[`blue-${i}`]]!==undefined){\n        formData[formData[`blue-${i}`]]+=formData[`blueLevel-${i}`]\n      }else{\n        formData[formData[`blue-${i}`]]=formData[`blueLevel-${i}`]\n      }\n      //统计红色因子\n      if(formData[formData[`red-${i}`]]!==undefined){\n        formData[formData[`red-${i}`]]+=formData[`redLevel-${i}`]\n      }else{\n        formData[formData[`red-${i}`]]=formData[`redLevel-${i}`]\n      }\n      //统计红色因子\n      if(formData['white']!==undefined){\n        formData['white']+=formData[`whiteNum-${i}`]\n      }else{\n        formData['white']=formData[`whiteNum-${i}`]\n      }\n    })\n    const res = await axios.post('https://urarawin.com/api/add',formData)\n    if(res.data && res.data.success){\n      message.info('成功添加')\n      props.onFinish()\n    }else{\n      message.info('有地方出错了')\n    }\n  }\n  const list = ['主要','父辈1','父辈2']\n\n\n  const getFields = ()=>{\n    const children = []\n    for (let i = 0;i<3;i++){\n      children.push(\n        <Col span={8} key={i}>\n        <PageHeader title={`${list[i]}`}></PageHeader>\n        <Row>\n          <Col span={6} offset={4}>\n            <Form.Item label='角色' name={`player-${i}`} rules={[{ required: true }]}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n        </Row>\n      <Form.Item label='蓝色因子' name={`blue-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'speed'}>{'速度'}</Radio.Button>\n          <Radio.Button value={'stamina'}>{'耐力'}</Radio.Button>\n          <Radio.Button value={'power'}>{'力量'}</Radio.Button>\n          <Radio.Button value={'guts'}>{'根性'}</Radio.Button>\n          <Radio.Button value={'wisdom'}>{'智力'}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='蓝色因子星数' name={`blueLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='红色因子' name={`red-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'grass'}>{'草地/芝'}</Radio.Button>\n          <Radio.Button value={'dirt'}>{'泥地/ダート'}</Radio.Button><hr/>\n          <Radio.Button value={'shortDistance'}>{'短距离'}</Radio.Button>\n          <Radio.Button value={'mile'}>{'英里'}</Radio.Button>\n          <Radio.Button value={'mediumDistance'}>{'中距离'}</Radio.Button>\n          <Radio.Button value={'longDistance'}>{'长距离'}</Radio.Button><hr/>\n          <Radio.Button value={'escape'}>{'逃'}</Radio.Button>\n          <Radio.Button value={'leading'}>{'先'}</Radio.Button>\n          <Radio.Button value={'insert'}>{'差'}</Radio.Button>\n          <Radio.Button value={'tracking'}>{'追'}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='红色因子星数' name={`redLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='绿色因子星数' name={`greenLevel-${i}`} initialValue={0}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='白色因子个数' name={`whiteNum-${i}`} initialValue={0}>\n        <Slider min={0} max={10} dots={true} tooltipPlacement={'left'}></Slider>\n      </Form.Item>\n        </Col>\n      )\n    }\n    return children\n  }\n  return(\n    <Form name={'因子信息'} form={form} onFinish={onFinish} className={'seed-form'}>\n<Alert message='目前每人只能配置一个种子 自觉维护自己的信息；第一次添加前先刷新 否则可能失败' type='info'></Alert>\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify='end'>\n        <Col span={3}>\n          <Form.Item label='辅助卡' name={'support'} rules={[{ required: true }]}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='辅助卡突破' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='玩家id' name='gameId' rules={[{ required: true},\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              console.log(\"!!!!\",value)\n              if (value.match(/^[0-9]\\d*$/g) && value.length===9) {\n                return Promise.resolve();\n              }\n              return Promise.reject(new Error('输入正确的9位数id'));\n            },\n          }),\n          ]}>\n            <Input placeholder=\"id\" style={{ width:'100%' }}></Input>\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              提交\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  )\n}\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <>\n            {fields.map((field, index) => (\n              <Space key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\n                <Row justify='center'>\n                  <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                  <Radio.Group>\n                    <Row>\n                      <Radio.Button value={'speed'}>{'速度'}</Radio.Button>\n                      <Radio.Button value={'stamina'}>{'耐力'}</Radio.Button>\n                      <Radio.Button value={'power'}>{'力量'}</Radio.Button>\n                      <Radio.Button value={'guts'}>{'根性'}</Radio.Button>\n                      <Radio.Button value={'wisdom'}>{'智力'}</Radio.Button>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'grass'}>{'草地/芝'}</Radio.Button>\n                      <Radio.Button value={'dirt'}>{'泥地/ダート'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'shortDistance'}>{'短距离'}</Radio.Button>\n                      <Radio.Button value={'mile'}>{'英里'}</Radio.Button>\n                      <Radio.Button value={'mediumDistance'}>{'中距离'}</Radio.Button>\n                      <Radio.Button value={'longDistance'}>{'长距离'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'escape'}>{'逃'}</Radio.Button>\n                      <Radio.Button value={'leading'}>{'先'}</Radio.Button>\n                      <Radio.Button value={'insert'}>{'差'}</Radio.Button>\n                      <Radio.Button value={'tracking'}>{'追'}</Radio.Button>\n                    </Row>\n                  </Radio.Group>\n                </Form.Item>\n              </Col>\n              <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'level']}\n                  fieldKey={[field.fieldKey,'level']}\n                  rules={[{ required: true }]}>\n                  <Rate count={props.max} />\n                </Form.Item>\n              </Col>\n              <Col span={5}>\n                <Button type=\"dashed\" onClick={() => remove(field.name)}>移除</Button>\n              </Col>\n                </Row>\n                </Space>\n            ))}\n            <Row justify='center'>\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n                >\n                添加过滤条件\n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['supportLevel']){\n      formData.attrs.push('supportLevel')\n      formData.levels.push(value['supportLevel'])\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p0?.forEach(item=>{\n      if(blueLabels[item.attr]){\n        formData['blue-0']=item.attr\n        formData.attrs.push('blueLevel-0')\n        formData.levels.push(item.level)\n      }else{\n        formData['red-0']=item.attr\n        formData.attrs.push('redLevel-0')\n        formData.levels.push(item.level)\n      }\n    })\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr)\n      formData.levels.push(item.level)\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='搜索' form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Col span={10}>\n          <PageHeader title='主要'></PageHeader>\n          <Col span={6} offset={4}>\n            <Form.Item label='角色' name={`player0`}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n          <SearchOne name='p0' max='3'></SearchOne>\n        </Col>\n        <Col span={10}>\n          <PageHeader title={'总计'}></PageHeader>\n          <SearchOne name='p1' max='9'></SearchOne>\n        </Col>\n        <Col span={4}>\n          <PageHeader title={'支援卡'}></PageHeader>\n          <Col span={20}>\n\n          <Form.Item label='支援卡' name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n          <Form.Item label='突破等级' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row justify='end'>\n      <Form.Item>\n        <Button htmlType=\"button\" onClick={()=>onReset()}>\n          重置\n        </Button>\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          搜索\n        </Button>\n      </Form.Item>\n      </Row>\n    </Form>\n  )\n}\n\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\n\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList,setSeedList] = useState([])\n\n  const columns = [\n    {title:'玩家id',dataIndex:'gameId',key:'gameId',render:(text,seed)=>(<>\n      <Row>\n        <p>{text}</p>\n        <CopyToClipboard text={text} onCopy={()=>message.info('成功')}>\n          <Button shape=\"circle\" icon={<CopyOutlined />}/>\n        </CopyToClipboard>\n      </Row>\n      <Row align='middle'>\n        <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(seed)}/>\n        <p>{seed.likes?seed.likes.length:0}</p>\n      </Row>\n      <Row align='middle'>\n        <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(seed)}/>\n        <p>{seed.dislikes?seed.dislikes.length:0}</p>\n      </Row>\n      </>)},\n    {title:'主要',dataIndex:'playerId-0',key:'playerId-0',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'蓝色因子',dataIndex:'blue-0',key:'blue-0',\n      render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>{blueLabels[text]}</span>\n        <Rate count={3} value={record['blueLevel-0']} disabled></Rate>\n      </Row>)},\n    {title:'红色因子',dataIndex:'red-0',key:'red-0',\n      render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>{redLabels[text]}</span>\n        <Rate count={3} value={record['redLevel-0']} disabled></Rate>\n      </Row>)},\n    {title:'绿色因子',dataIndex:'greenLevel-0',key:'greenLevel-0',\n      render:(text,record)=>(\n        <Row>\n          <span className='rate-label'>等级</span>\n          <Rate count={3} value={record['greenLevel-0']} disabled></Rate>\n        </Row>)},\n    {title:'父辈1',dataIndex:'playerId-1',key:'playerId-1',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'父辈2',dataIndex:'playerId-2',key:'playerId-2',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'总计蓝色',key:'allBlue',render:(text,record)=>(\n      Object.keys(blueLabels).map(key=>{\n        if(record[key]){\n          // console.log(key,record[key])\n          return (\n            <Row justify=\"space-between\" key={key}>\n              <Col>\n                <span className='rate-label'>{blueLabels[key]}{record[key]}</span>\n              </Col>\n              <Col>\n                <Rate count={record[key]} value={record[key]} disabled></Rate>\n              </Col>\n            </Row>\n          )\n        }else{\n          return null\n        }\n      })\n    )},\n      {title:'总计红色',key:'allRed',render:(text,record)=>(\n        Object.keys(redLabels).map(key=>{\n          if(record[key]){\n            return (\n              <Row justify=\"space-between\" key={key}>\n              <Col>\n                <span className='rate-label'>{redLabels[key]}{record[key]}</span>\n              </Col>\n              <Col>\n                <Rate count={record[key]} value={record[key]} disabled></Rate>\n              </Col>\n            </Row>\n          )\n        }else{\n          return null\n        }\n      })\n      )},\n      {title:'总计白色',dataIndex:'white',key:'white',render:text=>(text)},\n      {title:'支援卡',dataIndex:'supportId',key:'supportId',\n      render:text=>(<SupportImage id={text}></SupportImage>)},\n      {title:'突破等级',dataIndex:'supportLevel',key:'supportLevel',\n      render:(text,record)=>(\n      <Row>\n        <Rate count={4} value={record['supportLevel']} disabled></Rate>\n      </Row>)}\n  ]\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info('么的数据')\n      }\n    }else{\n      message.info('出错了')\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info('刷新后重试')\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info('成功')\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info('刷新后重试')\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info('成功')\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n  <Row justify='center'>\n    <Col span={2}>\n    <Button onClick={()=>showSeedInput()}>配置我的种子</Button>\n    </Col>\n    <Col span={20}>\n      <SearchForm search={search}></SearchForm>\n    </Col>\n  </Row>\n  <Divider>结果</Divider>\n    <Row justify='center'>\n      <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/>\n    </Row>\n  <Modal visible={isSeedInputVisible} onOk={closeSeedInput} onCancel={closeSeedInput} footer={null} width={'80%'}>\n    <SeedInput onFinish={closeSeedInput}></SeedInput>\n  </Modal>\n  </>\n  )\n}\nexport default Seed\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\n\nimport db from '../db.js'\nimport {Button } from 'antd';\nimport t from './t.js';\n// import t from './t.js'\n\nconst ua = db.get('ua').value();\n\nconst LanButton = (props)=>{\n  let lan = db.get('lan').value()\n  const [langText,setLangText] = useState(lan==='zh'?'English':'中文')\n  const changeLan=()=>{\n    if(lan === 'zh'){\n      lan = 'en'\n      db.set('lan','en').write()\n      setLangText('中文')\n      t('','en')\n    }else{\n      lan = 'zh'\n      db.set('lan','zh').write()\n      setLangText('English')\n      t('','zh')\n    }\n    // props.history.push('/t')\n    window.location.reload(true)\n  }\n  return(<Button onClick={changeLan}>{langText}</Button>)\n}\n\nexport default withRouter(LanButton)\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport { Steps, Hints } from 'intro.js-react';\nimport 'intro.js/introjs.css';\nconst IntroIndex = (props)=>{\n  const introV = '0.0.1'\n  console.log(localStorage.getItem('introV'))\n  console.log(introV)\n  const [stepsEnabled,setStepsEnabled] = useState(localStorage.getItem('introV')!==introV);\n  const initialStep = 0;\n  const steps=[\n    {\n      title:'角色信息',\n      element:'.menu-player',\n      intro:<>\n        <p>点击查看详情</p>\n      </>,\n      href:'/'\n    },{\n      title:'支援卡信息',\n      element:'.menu-support',\n      intro:<>\n          <p>点击查看详情</p>\n          <p>通过育成效果筛选</p>\n          <p>【切换显示模式】切换全部、已拥有</p>\n          <p>【配置卡组】选择拥有的辅助卡，技能页面筛选拥有的技能</p>\n        </>,\n      href:'/support'\n    },{\n      title:'技能信息',\n      element:'.menu-skill',\n      intro:<>\n        <p>鼠标悬浮查看详情</p>\n        <p>通过条件和类型进行筛选</p>\n        <p>【显示拥有支援卡】切换是否显示全部、已拥有</p>\n        <p>点击技能可以查看拥有该技能的角色和支援卡</p>\n      </>,\n      href:'/skill'\n    },{\n      title:'比赛信息',\n      element:'.menu-race',\n      intro:<>\n        <p>通过条件筛选</p>\n      </>,\n      href:'/race'\n    },{\n      title:'育成辅助页面',\n      element:'.menu-nurturing2',\n      intro:<>\n        <p>【选择马娘】选择培训的马娘</p>\n        <p>【选择支援卡】选择使用的支援卡</p>\n        <p>【卡组】卡组保存、读取、删除</p>\n      </>,\n        href:'/nurturing2'\n    },{\n      title:'种马和支援卡分享',\n      element:'.menu-seed',\n      intro:<>\n        <p>通过条件搜索种马和支援卡信息</p>\n        <p>【配置种子】添加自己的种马和支援卡信息分享</p>\n      </>,\n      href:'/seed'\n    },{\n      title:'初始化育成',\n      element:'.reset-nur',\n      intro:<>\n      <p>育成页面出现问题时点击修复</p>\n      <p>会清空卡组！！！</p>\n    </>,\n    },{\n      title:'重置引导',\n      element:'.reset-intro',\n      intro:<>\n      <p>点击后刷新重新观看引导</p>\n    </>,\n  }]\n\n  const onExit = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  const onBeforeChange = (nextStepIndex)=>{\n    steps[nextStepIndex].href&&props.history.push(steps[nextStepIndex].href)\n  }\n  const onComplete = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  return (\n    <Steps\n          enabled={stepsEnabled}\n          steps={steps}\n          initialStep={initialStep}\n          onExit={onExit}\n          onBeforeChange={onBeforeChange}\n          onComplete={onComplete}\n          options={{\n            doneLabel:'Done'\n          }}\n        />\n  )\n}\nexport default withRouter(IntroIndex)\n","import React,{useState} from 'react';\nimport { HashRouter as Router, Route ,Link } from 'react-router-dom';\nimport {Row,Col,Image,Layout,Menu,Button,Popover,Popconfirm} from 'antd'\nimport {message} from 'antd'\nimport 'antd/dist/antd.css';\nimport './index.css'\n\n\nimport db from './db.js'\nimport t from './components/t.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport Nurturing from './pages/nurturing.js'\nimport Nurturing2 from './pages/nurturing2.js'\nimport Skill from './pages/skill.js'\nimport Seed from './pages/seed.js'\n\nimport LanButton from './components/lan-button'\nimport IntroIndex from './components/intro.js'\n\nconst { Header, Content, Footer } = Layout;\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\nconst AppPc = ()=>{\n\n  const resetNur =()=>{\n    db.set('selected',{\n      supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n      player:{},\n      races:[]\n    }).write()\n    db.set('myDecks',[]).write()\n  }\n  const resetIntro = ()=>{\n    localStorage.setItem('introV',null)\n  }\n  db.set('ua','pc').write();\n  //隐藏主要的overflow\n  const dom = document.getElementsByTagName(\"body\");\n  dom[0].style.overflowY = \"scroll\";\n\n  return (\n      // <UserAgentProvider ua={window.navigator.userAgent}>\n<Router>\n    <IntroIndex></IntroIndex>\n    <Layout className=\"layout\">\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n      <Menu theme=\"dark\" mode=\"horizontal\">\n        <Menu.Item key=\"1\" className='menu-player'><Link to='/'>{t('角色')}</Link></Menu.Item>\n        <Menu.Item key=\"2\" className='menu-support'><Link to='/support'>{t('支援卡')}</Link></Menu.Item>\n        <Menu.Item key=\"3\" className='menu-skill'><Link to='/skill'>{t('技能')}</Link></Menu.Item>\n        <Menu.Item key=\"4\" className='menu-race'><Link to='/race'>{t('比赛')}</Link></Menu.Item>\n        <Menu.Item key=\"5\" className='menu-nurturing'><Link to='/nurturing'>{t('育成')}</Link></Menu.Item>\n        <Menu.Item key=\"7\" className='menu-nurturing2'><Link to='/nurturing2'>{t('育成new')}</Link></Menu.Item>\n        <Menu.Item key=\"6\" className='menu-seed'><Link to='/seed'>{t('种马分享')}</Link></Menu.Item>\n      </Menu>\n    </Header>\n    <Content style={{ paddingTop:'64px'}} >\n      <Route exact path=\"/\" component={Player}/>\n      <Route path=\"/support\" component={Support}/>\n      <Route path=\"/skill\" component={Skill}/>\n      <Route path=\"/nurturing\" component={Nurturing}/>\n      <Route path=\"/nurturing2\" component={Nurturing2}/>\n      <Route path=\"/seed\" component={Seed}/>\n      <Route path=\"/race\" component={Race}/>\n    </Content>\n  <Footer style={{padding:'12px'}}>\n    <Row gutter={[16,16]}>\n      <Col span={2}>\n        <LanButton></LanButton>\n      </Col>\n      <Col span={2}>\n        <Button className='reset-intro' placement=\"bottom\" onClick={resetIntro}>{t('重置引导')}</Button>\n      </Col>\n      <Col span={3}>\n        <Popconfirm title={t('确认初始化？')} onConfirm={resetNur}>\n          <Popover content={<p>{t('初始化育成页面')}</p>}>\n            <Button className='reset-nur' placement=\"bottom\">{t('初始化育成')}</Button>\n          </Popover>\n        </Popconfirm>\n      </Col>\n      <Col span={11}></Col>\n      <Col span={2}>\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </Col>\n      <Col span={2}>\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"轻 松 赛 马\" title=\"轻 松 赛 马\" />\n        </a>\n      </Popover>\n      </Col>\n      <Col span={2}>\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p>{t('支付宝')}</p></>}>\n          <Button placement=\"bottom\" style={{display:'flex'}}>\n            <Image src={cdnServer+'reimu.gif'} preview={false} width={24}></Image>\n            <div>{t('塞钱箱')}</div>\n          </Button>\n        </Popover>\n      </Col>\n    </Row>\n  </Footer>\n  </Layout>\n</Router>\n      // </UserAgentProvider>\n  )\n}\n\nexport default AppPc\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Modal,Button, Popconfirm,Popover,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\n\n// import Race from './race.js'\nimport Player from '../pages/player.js'\nimport Support from '../pages/support.js'\nimport {RaceSchedule,RaceTimeline,RaceCheckbox} from '../components/race.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n\nconst Nurturing = (props) =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const races = db.get('races').value()\n  const [raceFilterCondition,setRaceFilterCondition] = useState(selected.raceFilterCondition||{\n    distanceType:[],\n    grade:[],\n    ground:[]})\n  const [filterRace,setFilterRace] = useState(selected.filterRace||{})\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n\n\n  // 卡组相关操作\n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n// race checkbox发生变化\nconst onChangeRace = (filterCondition)=>{\n  setRaceFilterCondition(filterCondition)\n  //根据条件过滤\n  let tmpRaceList = races\n  Object.keys(filterCondition)\n  .map(key=>{\n    tmpRaceList = tmpRaceList.filter(race=>\n      filterCondition[key].indexOf(race[key])!==-1\n    )\n  })\n  //过滤后整理成 dataNum:[raceId]\n  let tmpFilterRace = {}\n    for(let race of tmpRaceList){\n      if(tmpFilterRace[race.dateNum]){\n        tmpFilterRace[race.dateNum].push(race.id)\n      }else{\n        tmpFilterRace[race.dateNum]=[race.id]\n      }\n    }\n  //更新state\n  setFilterRace(tmpFilterRace)\n  selected.raceFilterCondition = filterCondition\n  selected.filterRace = tmpFilterRace\n  db.get('selected').assign({...selected}).write()\n}\n\n  const toSupportDetail = (id)=>{\n    props.history.push(`/support-detail/${id}`)\n  }\n  const toPlayerDetail = (id)=>{\n    props.history.push(`/player-detail/${id}/1`)\n  }\n  const toBuffList = (id)=>{\n    props.history.push(`/buff`)\n  }\n\n  return(<>\n    <div style={{display:'flex',justifyContent:'center'}}>\n      {player.imgUrl&&\n        <img src={cdnServer+player.imgUrl} alt={player.imgUrl} width='128'\n          onClick={()=>toPlayerDetail(player.id)}></img>\n      }\n      <div style={{flex:'1 1 auto',flexWrap:'wrap',display:'flex',justifyContent:'center'}} >\n        <Button type={'primary'} onClick={showPlayer}>{t('选择马娘')}</Button>\n        <Button onClick={showSupport2}>{t('支援卡查询')}</Button>\n        <Button onClick={toBuffList}>{t('BUFF')}</Button>\n        <Popover trigger='click' content={\n          <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition}></RaceCheckbox>\n        }>\n          <Button>{t('比赛')}</Button>\n        </Popover>\n        <Popover trigger='click' width={'80%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}>{t('保存为新卡组')}</Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} alt={imgUrl}  width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}>{t('读取卡组')}</Button>\n                  <Popconfirm title=\"确认覆盖？\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('覆盖卡组')}</Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"确认删除？\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('删除卡组')}</Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n          }><Button>{t('我的卡组')}</Button>\n        </Popover>\n      </div>\n    </div>\n\n\n        <Row justify=\"space-around\">\n        {[0,1,2,3,4,5].map(index=>\n          <Col span={7} key={index} style={{}}>\n            <Button icon={<EditOutlined />} onClick={()=>showSupport(index)}>{t('选择支援卡')}</Button>\n            {supports[index]&&supports[index].id&&\n              <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width={'100%'}\n              onClick={()=>toSupportDetail(supports[index].id)}></img>\n            }\n          </Col>\n        )}\n        </Row>\n\n      <Divider>比赛</Divider>\n      <div style={{overflow:'auto',paddingTop:'10px',width:'100%',height:'400px'}}>\n        <RaceTimeline raceList={player.raceList} filterRace={filterRace}></RaceTimeline>\n      </div>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} footer={null} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} footer={null} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null} ></Support>\n      </Modal>\n  </>\n  )\n}\n\nexport default withRouter(Nurturing)\n\n\n","import React,{useState} from 'react';\n\nimport { Picker, List,Flex,Card } from 'antd-mobile';\n\nimport { Image,Button,Divider,Modal,Rate,Form} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport Player from '../pages/player.js'\nimport Support from '../pages/support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nlet userId = db.get('userId').value()\n\nconst blueLabels={\n  'speed':'速度',\n  'stamina':'耐力',\n  'power':'力量',\n  'guts':'根性',\n  'wisdom':'智力'\n}\nconst redLabels = {\n  'grass':'草地',\n  'dirt':'泥地',\n  'shortDistance':'短距离',\n  'mile':'英里',\n  'mediumDistance':'中距离',\n  'longDistance':'长距离',\n  'escape':'逃',\n  'leading':'先',\n  'insert':'差',\n  'tracking':'追'}\n\nconst lists = [\n  [\n    {value:'speed',label:t('速度')},\n    {value:'stamina',label:t('耐力')},\n    {value:'power',label:t('力量')},\n    {value:'guts',label:t('根性')},\n    {value:'wisdom',label:t('智力')},\n    {value:'grass',label:t('草地')},\n    {value:'dirt',label:t('泥地')},\n    {value:'shortDistance',label:t('短距离')},\n    {value:'mile',label:t('英里')},\n    {value:'mediumDistance',label:t('中距离')},\n    {value:'longDistance',label:t('长距离')},\n    {value:'escape',label:t('逃')},\n    {value:'leading',label:t('先')},\n    {value:'insert',label:t('差')},\n    {value:'tracking',label:t('追')}\n  ],[\n    {value:1,label:`1${t('星')}`},\n    {value:2,label:`2${t('星')}`},\n    {value:3,label:`3${t('星')}`},\n    {value:4,label:`4${t('星')}`},\n    {value:5,label:`5${t('星')}`},\n    {value:6,label:`6${t('星')}`},\n    {value:7,label:`7${t('星')}`},\n    {value:8,label:`8${t('星')}`},\n    {value:9,label:`9${t('星')}`},\n  ]\n]\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <List>\n            {fields.map((field, index) => (\n                <Form.Item {...field} key={field.key}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                      <Picker\n                        data={lists}\n                        cascade={false}\n                        extra={t('请选择')}\n                        ><List.Item arrow=\"horizontal\">{t('过滤条件(总计)')}</List.Item>\n                      </Picker>\n                </Form.Item>\n            ))}\n            <List.Item>\n                <Button\n                  type=\"dashed\"\n                  onClick={() => add()}\n                  icon={<PlusOutlined />}\n                  >\n                  {t('添加过滤条件')}\n                </Button>\n            </List.Item>\n          </List>\n        )}\n      </Form.List>\n  )\n}\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr[0])\n      formData.levels.push(item.attr[1])\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='搜索' form={form} onFinish={onFinish} className=\"seed-form\">\n      <SearchOne name='p1'></SearchOne>\n      <Flex align='start'>\n        <Flex.Item>\n          <p>{t('角色')}</p>\n          <Form.Item name={`player0`}>\n              <PlayerInput></PlayerInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p>{t('支援卡')}</p>\n          <Form.Item name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p>{t('突破等级')}</p>\n          <Form.Item name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Flex.Item>\n      </Flex>\n      <Flex justify='end'>\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={()=>onReset()}>\n            {t('重置')}\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            {t('搜索')}\n          </Button>\n        </Form.Item>\n      </Flex>\n    </Form>\n  )\n}\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const SeedCard = (props) =>{\n    const data = props.data\n    return (\n      <Card>\n        <Flex>\n            <p style={{fontSize:'1.5em'}}>{data.gameId}</p>\n            <CopyToClipboard text={data.gameId} onCopy={()=>message.info('成功')}>\n              <Button shape=\"circle\" icon={<CopyOutlined />}/>\n            </CopyToClipboard>\n        </Flex>\n        <Flex>\n          <Flex.Item>\n            <PlayerImage id={data['playerId-0']}></PlayerImage>\n            <SupportImage id={data['supportId']}></SupportImage>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(data)}/>\n              <p>{data.likes?data.likes.length:0}</p>\n            </Flex>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(data)}/>\n              <p>{data.dislikes?data.dislikes.length:0}</p>\n            </Flex>\n          </Flex.Item>\n          <Flex.Item>\n            <p>{`${t(blueLabels[data['blue-0']])}: ${data['blueLevel-0']}`}</p>\n            <p>{`${t(redLabels[data['red-0']])}: ${data['redLevel-0']}`}</p>\n            {Object.keys(blueLabels).map(key=>\n            data[key]?<p key={key}>{`{t(总计)} ${t(blueLabels[key])}: ${data[key]}`}</p>:null\n            )}\n            {Object.keys(redLabels).map(key=>\n            data[key]?<p key={key}>{`{t('总计')} ${t(redLabels[key])}: ${data[key]}`}</p>:null\n            )}\n            <p>{`{t('突破等级')}: ${data['supportLevel']||0}`}</p>\n          </Flex.Item>\n        </Flex>\n      </Card>\n    )\n  }\n\n  const [seedList,setSeedList] = useState([])\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info(t('暂无数据'))\n      }\n    }else{\n      message.info(t('出错了'))\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info(t('刷新后重试'))\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info(t('成功'))\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info(t('刷新后重试'))\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info(t('成功'))\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n    <SearchForm search={search}></SearchForm>\n    <Divider>{t('结果')}</Divider>\n    <Flex wrap='wrap'>\n      {seedList.map(seed=>\n      <Flex.Item  key={seed.gameId}\n        style={{width:'48%',flex:'0 0 auto',margin:0}}\n      >\n        <SeedCard data={seed}></SeedCard>\n      </Flex.Item>)}\n    </Flex>\n    {/* <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/> */}\n  </>\n  )\n}\nexport default Seed\n","import React from 'react';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\n\nimport {Image,Button,Popover} from 'antd'\nimport { Drawer, List, NavBar, Icon } from 'antd-mobile';\nimport 'antd-mobile/dist/antd-mobile.min.css';\n\nimport db from './db.js'\nimport t from './components/t.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport NurturingMO2 from './pages-mo/nurturing.js'\nimport Skill from './pages/skill.js'\nimport SeedMo from './pages-mo/seed.js'\n\nimport SupportDetail from './components/support-detail.js'\nimport PlayerDetail from './components/player-detail.js'\nimport {BuffList} from './components/buff.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nclass App1 extends React.Component {\n  state = {\n    open: false,\n    title:'urara win'\n  }\n\n  onOpenChange=()=>{\n    this.setState({open: !this.state.open})\n  }\n  onSelect = (label) => {\n    this.setState({title:label});\n    this.onOpenChange()\n  }\n  reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n    // db.set('myDecks',[]).write()\n  }\n  render() {\n    db.set('ua','mo').write();\n    const routers = [{path:'/',label:'角色'},\n    {path:'/support',label:'支援卡'},\n    {path:'/skill',label:'技能'},\n    {path:'/race',label:'比赛'},\n    {path:'/nurturing2',label:'育成new'},\n    {path:'/seed',label:'种马分享'}]\n    const linkList=(<List>\n      {routers.map(item=>\n        <Link to={item.path} key={item.path}  onClick={()=>this.onSelect(item.label)}>\n          <List.Item >{t(item.label)}</List.Item>\n        </Link>\n      )}\n\n      <List.Item style={{marginTop:200}}>\n      <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </List.Item>\n      <List.Item>\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <Button placement=\"bottom\">{t('加入QQ群')}</Button>\n        </a>\n      </Popover>\n      </List.Item>\n      <List.Item>\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p>{t('支付宝')}</p></>}>\n        <Button placement=\"bottom\">{t('捐助')}</Button>\n      </Popover>\n      </List.Item>\n      <List.Item>\n        <Button placement=\"bottom\" onClick={this.reload}>{t('初始化育成')}</Button>\n      </List.Item>\n    </List>)\n\n    return (\n    <Router>\n      <NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>{this.state.title}</NavBar>\n      <Drawer\n        className=\"my-drawer\"\n        style={{\n          minHeight: document.documentElement.clientHeight,\n          position: 'relative',\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch'}}\n        enableDragHandle={true}\n        contentStyle={{ color: '#A6A6A6', textAlign: 'center',paddingTop:20}}\n        // dragHandleStyle={{width:0}}\n        sidebar={linkList}\n        open={this.state.open}\n        onOpenChange={this.onOpenChange}\n      >\n          <Route exact path=\"/\" component={Player}/>\n          <Route path=\"/support\" component={Support}/>\n          <Route path=\"/skill\" component={Skill}/>\n          <Route path=\"/nurturing2\" component={NurturingMO2}/>\n          <Route path=\"/seed\" component={SeedMo}/>\n          <Route path=\"/race\" component={Race}/>\n          <Route path=\"/support-detail/:supportId\" component={SupportDetail}/>\n          <Route path=\"/player-detail/:id/:nur\" component={PlayerDetail}/>\n          <Route path=\"/buff\" component={BuffList}/>\n      </Drawer>\n    </Router>);\n  }\n}\nexport default App1\n\n\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import { UserAgentProvider, UserAgent, withUserAgent } from 'react-ua';\r\n\r\n// import './index.css'\r\n\r\n// import db from './db.js'\r\n// import EventList from './components/event-list.js'\r\n// import SkillList from './components/skill-list.js'\r\n\r\nimport AppPc from './app-pc'\r\nimport AppMo from './app-mo'\r\n// 取得ua\r\nlet ua = {}\r\nconst ie_upto10 = /MSIE \\d/.test(navigator.userAgent)\r\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\r\nconst ie_edge = /Edge\\/(\\d+)/.exec(navigator.userAgent)\r\nua.mac = /Mac/.test(navigator.platform)\r\nlet ie = ua.ie = !!(ie_upto10 || ie_11up || ie_edge)\r\nua.ie_version = ie_upto10 ? document.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : null\r\nua.gecko = !ie && /gecko\\/(\\d+)/i.test(navigator.userAgent)\r\nua.gecko_version = ua.gecko && +(/Firefox\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\r\nlet chrome = !ie && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\r\nua.chrome = !!chrome\r\nua.chrome_version = chrome && +chrome[1]\r\n// Is true for both iOS and iPadOS for convenience\r\nua.safari = !ie && /Apple Computer/.test(navigator.vendor)\r\nua.ios = ua.safari && (/Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2)\r\nua.android = /Android \\d/.test(navigator.userAgent)\r\nua.webkit = \"webkitFontSmoothing\" in document.documentElement.style\r\nua.webkit_version = ua.webkit && +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\r\nconsole.log(ua)\r\n\r\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\r\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\r\n\r\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\r\n\r\nconst App = ()=>{\r\n  return(\r\n    <>\r\n    {ua.android||ua.ios?<AppMo></AppMo>:<AppPc></AppPc>}\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render((<App></App>),document.getElementById('root'),);\r\n"],"sourceRoot":""}