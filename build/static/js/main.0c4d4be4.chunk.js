(this["webpackJsonprace-girl"]=this["webpackJsonprace-girl"]||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a=n(95),c=n.n(a),s=n(111),r=n(112),i=n(125),j=n(123),l=n(29),b=n(113),d=n(0),O=n.n(d),u=n(21),o=n.n(u),x=n(58),p=n(18),h=n(114),f=n.n(h),m=n(115),g=n.n(m),v=n(96),k=n.n(v),w=(n(156),n(24)),y=n(7),L=n(59),S=n(91),C=n(70),q=n(92),F=n(71),I=n(23),N=n(166),D=n(37),z=(n(157),n(2)),G=N.a.Group,U=new g.a("db"),T=f()(U);T.set("options",{flag:!0}).write();var E="https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/";function R(){return(R=Object(b.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("http://urarawin.com/dbd");case 2:if(t=e.sent,n=T.get("updateTime").value(),console.log(n,t.data.updateTime),!(n&&n>t.data.updateTime)){e.next=9;break}console.log("latest \u4e0d\u9700\u8981\u540c\u6b65"),e.next=17;break;case 9:return e.next=11,k.a.get(E+"db.json");case 11:t=e.sent,T.set("players",t.data.players).write(),T.set("supports",t.data.supports).write(),T.set("skills",t.data.skills).write(),T.set("events",t.data.events).write(),T.set("updateTime",t.data.updateTime).write();case 17:o.a.render(Object(z.jsx)(ae,{}),document.getElementById("root"));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){R.apply(this,arguments)}();var A=S.a.Header,J=S.a.Content,Y=S.a.Footer,_=function(e){var t=Object(d.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(L.a,{src:E+e.data.imgUrl,preview:!1,onClick:function(){e.onSelect?e.onSelect(e.data):c(!0)},width:"100%"}),Object(z.jsxs)(q.a,{title:e.data.name,visible:a,onOk:function(){c(!1)},onCancel:function(){c(!1)},width:800,children:[Object(z.jsx)(D.a,{children:"\u9002\u5e94"}),Object(z.jsx)(M,{player:e.data}),Object(z.jsx)(D.a,{children:"\u6210\u957f"}),Object(z.jsx)(P,{player:e.data}),Object(z.jsx)(D.a,{children:"\u6280\u80fd"}),Object(z.jsx)(Q,{skillList:e.data.skillList}),Object(z.jsx)(D.a,{children:"\u4e8b\u4ef6"}),Object(z.jsx)(K,{eventList:e.data.eventList})]})]})},B=function(e){var t=Object(d.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(L.a,{src:E+e.data.imgUrl,preview:!1,onClick:function(){e.onSelect?e.onSelect(e.data):c(!0)},width:"100%"}),Object(z.jsx)(q.a,{title:e.data.name,visible:a,onOk:function(){c(!1)},onCancel:function(){c(!1)},width:800,children:Object(z.jsx)(H,{data:e.data})})]})},H=function(e){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(D.a,{children:"\u57f9\u8bad\u6280\u80fd"}),Object(z.jsx)(Q,{skillList:e.data.trainingEventSkill}),Object(z.jsx)(D.a,{children:"\u81ea\u5e26\u6280\u80fd"}),Object(z.jsx)(Q,{skillList:e.data.possessionSkill}),Object(z.jsx)(D.a,{children:"\u4e8b\u4ef6"}),Object(z.jsx)(K,{eventList:e.data.eventList})]})},M=function(e){return Object(z.jsxs)(w.a,{gutter:[8,8],children:[Object(z.jsx)(y.a,{span:6,children:"\u8349\u5730/\u829d"}),Object(z.jsx)(y.a,{span:6,children:"\u6ce5\u5730/\u30c0\u30fc\u30c8"}),Object(z.jsx)(y.a,{span:6}),Object(z.jsx)(y.a,{span:6}),Object(z.jsx)(y.a,{span:6,children:e.player.grass}),Object(z.jsx)(y.a,{span:6,children:e.player.dirt}),Object(z.jsx)(y.a,{span:6}),Object(z.jsx)(y.a,{span:6}),Object(z.jsx)(y.a,{span:6,children:"\u77ed\u8ddd\u79bb"}),Object(z.jsx)(y.a,{span:6,children:"\u82f1\u91cc/\u30de\u30a4\u30eb"}),Object(z.jsx)(y.a,{span:6,children:"\u4e2d\u8ddd\u79bb"}),Object(z.jsx)(y.a,{span:6,children:"\u957f\u8ddd\u79bb"}),Object(z.jsx)(y.a,{span:6,children:e.player.shortDistance}),Object(z.jsx)(y.a,{span:6,children:e.player.mile}),Object(z.jsx)(y.a,{span:6,children:e.player.mediumDistance}),Object(z.jsx)(y.a,{span:6,children:e.player.longDistance}),Object(z.jsx)(y.a,{span:6,children:"\u9003\u8131/\u9003\u3052"}),Object(z.jsx)(y.a,{span:6,children:"\u5148\u884c"}),Object(z.jsx)(y.a,{span:6,children:"\u63d2\u5165/\u5dee"}),Object(z.jsx)(y.a,{span:6,children:"\u8ffd\u51fb/\u8ffd\u8fbc"}),Object(z.jsx)(y.a,{span:6,children:e.player.escape}),Object(z.jsx)(y.a,{span:6,children:e.player.leading}),Object(z.jsx)(y.a,{span:6,children:e.player.insert}),Object(z.jsx)(y.a,{span:6,children:e.player.tracking})]})},P=function(e){return Object(z.jsxs)(w.a,{gutter:[8,8],children:[Object(z.jsx)(y.a,{span:4,children:"\u901f\u5ea6/\u30b9\u30d4\u30fc\u30c9"}),Object(z.jsx)(y.a,{span:4,children:"\u4f53\u529b/\u30b9\u30bf\u30df\u30ca"}),Object(z.jsx)(y.a,{span:4,children:"\u529b\u91cf/\u30d1\u30ef\u30fc"}),Object(z.jsx)(y.a,{span:4,children:"\u6bc5\u529b/\u6839\u6027"}),Object(z.jsx)(y.a,{span:5,children:"\u667a\u6167/\u8ce2\u3055"}),Object(z.jsx)(y.a,{span:4,children:e.player.speedGrow}),Object(z.jsx)(y.a,{span:4,children:e.player.staminaGrow}),Object(z.jsx)(y.a,{span:4,children:e.player.powerGrow}),Object(z.jsx)(y.a,{span:4,children:e.player.gutsGrow}),Object(z.jsx)(y.a,{span:5,children:e.player.wisdomGrow})]})},Q=function(e){var t=e.skillList;return Object(z.jsx)(w.a,{gutter:8,children:t.map((function(e){return Object(z.jsx)(V,{id:e},e)}))})},V=function(e){var t=T.get("skills").find({id:e.id}).value(),n=Object(z.jsx)("p",{children:t.describe});return Object(z.jsx)(F.a,{content:n,title:t.name,className:"skill-button",children:Object(z.jsxs)(I.a,{size:"large",className:"skill-button-"+t.rare,children:[Object(z.jsx)(L.a,{src:E+t.imgUrl,preview:!1,width:26}),t.name]})})},K=function(e){var t=e.eventList.map((function(e){return T.get("events").find({id:e}).value()}));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(D.a,{children:"\u591a\u9009"}),t.filter((function(e){return e.choiceList.length>1})).map((function(e){return Object(z.jsx)(W,{event:e},e.Id)})),Object(z.jsx)(D.a,{children:"\u5355\u9009"}),t.filter((function(e){return e.choiceList.length<=1})).map((function(e){return Object(z.jsx)(W,{event:e},e.Id)}))]})},W=function(e){var t=e.event.choiceList.map((function(e,t){var n=e[1].map((function(e){return Object(z.jsx)("p",{children:e},e)}));return Object(z.jsxs)(w.a,{gutter:[8,8],className:"list-row",children:[Object(z.jsx)(y.a,{span:12,children:Object(z.jsx)("p",{children:e[0]})}),Object(z.jsx)(y.a,{span:12,children:n})]},t)}));return Object(z.jsx)(F.a,{content:t,title:e.event.name,children:Object(z.jsx)(I.a,{type:"primary",children:e.event.name})})},X=function(e){return Object(z.jsx)(w.a,{className:"race-row",gutter:[8,8],children:e.raceList.map((function(e,t){return Object(z.jsx)(y.a,{span:12,children:Object(z.jsxs)(w.a,{children:[Object(z.jsx)(y.a,{span:4,className:"race-col-"+t%4,children:Object(z.jsx)("p",{children:e[0]})}),Object(z.jsx)(y.a,{span:20,className:"race-col-"+t%4,children:e[1].map((function(e,t){return Object(z.jsx)("p",{children:e},t)}))})]})},t)}))})},Z=function(e){var t=T.get("players").value(),n=Object(d.useState)(t),a=Object(l.a)(n,2),c=a[0],s=a[1],r=Object(d.useState)([]),i=Object(l.a)(r,2),j=i[0],b=i[1];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(I.a,{onClick:function(){b(new Array),s(t)},children:"\u91cd\u7f6e"}),Object(z.jsx)(G,{options:[{label:"\u8349\u5730",value:"grass"},{label:"\u6ce5\u5730",value:"dirt"},{label:"\u77ed\u8ddd",value:"shortDistance"},{label:"\u82f1\u91cc",value:"mile"},{label:"\u4e2d\u8ddd",value:"mediumDistance"},{label:"\u957f\u8ddd",value:"longDistance"},{label:"\u9003",value:"escape"},{label:"\u5148",value:"leading"},{label:"\u5dee",value:"insert"},{label:"\u8ffd",value:"tracking"}],value:j,onChange:function(e){b(e);var n=t.filter((function(t){var n=1;return e.map((function(e){"A"!==t[e]&&(n=0)})),n}));s(n)}}),["3","2","1"].map((function(t){return Object(z.jsxs)(w.a,{gutter:[16,16],children:[Object(z.jsxs)(D.a,{children:[t,"\u661f"]}),c.filter((function(e){return e.rare===t})).map((function(t){return Object(z.jsx)(y.a,{xxl:2,lg:3,sm:4,xs:6,children:Object(z.jsx)(_,{data:t,onSelect:e.onSelect})},t.id)}))]},t)}))]})},$=function(e){Object(i.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={list:e.supportList},a}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.supportList!==e.supportList&&this.setState({list:this.props.supportList})}},{key:"render",value:function(){var e=this;return Object(z.jsx)(z.Fragment,{children:["SSR","SR","R"].map((function(t){return Object(z.jsxs)(w.a,{gutter:[16,16],children:[Object(z.jsx)(D.a,{children:t}),e.state.list.filter((function(e){return e.rare===t})).map((function(t){return Object(z.jsx)(y.a,{xxl:2,lg:3,sm:4,xs:6,children:Object(z.jsx)(B,{data:t,onSelect:e.props.onSelect})},t.id)}))]},t)}))})}}]),n}(O.a.Component);$.defaultProps={supportList:T.get("supports").value()};var ee=function(e){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(y.a,{span:12,children:Object(z.jsx)("img",{src:E+e.data.imgUrl,width:"50%"})}),Object(z.jsx)(y.a,{span:24,children:Object(z.jsx)(Q,{skillList:e.data.possessionSkill,flag:e.flag})}),Object(z.jsx)(y.a,{span:24,children:Object(z.jsx)(Q,{skillList:e.data.trainingEventSkill,flag:e.flag})}),Object(z.jsx)(y.a,{span:24,children:Object(z.jsx)(K,{eventList:e.data.eventList,flag:e.flag})})]})},te=function(){var e=Object(d.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(d.useState)(!1),s=Object(l.a)(c,2),r=s[0],i=s[1],j=Object(d.useState)(1),b=Object(l.a)(j,2),O=b[0],u=b[1],o=Object(d.useState)(1),x=Object(l.a)(o,2),p=x[0],h=x[1],f=Object(d.useState)({}),m=Object(l.a)(f,2),g=m[0],v=m[1],k=Object(d.useState)({1:{},2:{},3:{},4:{},5:{},6:{}}),L=Object(l.a)(k,2),S=L[0],C=L[1],F=function(){a(!1)},N=function(e){i(!0),h(e),u(T.get("options").value().flag)},D=function(){i(!1)};return Object(z.jsxs)(w.a,{className:"nurturing-box",gutter:[16,16],children:[Object(z.jsxs)(y.a,{span:9,children:[Object(z.jsx)(I.a,{onClick:function(){a(!0),u(T.get("options").value().flag)},children:"\u9009\u62e9\u9a6c\u5a18"}),g.id&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Q,{skillList:g.skillList,flag:O}),Object(z.jsx)(X,{raceList:g.raceList})]})]}),Object(z.jsx)(y.a,{span:5,children:Object(z.jsxs)(w.a,{children:[Object(z.jsx)(y.a,{span:12,children:Object(z.jsx)(I.a,{onClick:function(){return N(1)},children:"\u9009\u62e9\u8f85\u52a9\u5361"})}),S[1].id&&Object(z.jsx)(ee,{data:S[1],flag:O})]})}),Object(z.jsx)(y.a,{span:5,children:Object(z.jsxs)(w.a,{children:[Object(z.jsx)(y.a,{span:12,children:Object(z.jsx)(I.a,{onClick:function(){return N(2)},children:"\u9009\u62e9\u8f85\u52a9\u5361"})}),S[2].id&&Object(z.jsx)(ee,{data:S[2],flag:O})]})}),Object(z.jsx)(y.a,{span:5,children:Object(z.jsxs)(w.a,{children:[Object(z.jsx)(y.a,{span:12,children:Object(z.jsx)(I.a,{onClick:function(){return N(3)},children:"\u9009\u62e9\u8f85\u52a9\u5361"})}),S[3].id&&Object(z.jsx)(ee,{data:S[3],flag:O})]})}),Object(z.jsx)(y.a,{span:9,children:g.id&&Object(z.jsx)(K,{eventList:g.eventList,flag:O})}),Object(z.jsx)(y.a,{span:5,children:Object(z.jsxs)(w.a,{children:[Object(z.jsx)(y.a,{span:12,children:Object(z.jsx)(I.a,{onClick:function(){return N(4)},children:"\u9009\u62e9\u8f85\u52a9\u5361"})}),S[4].id&&Object(z.jsx)(ee,{data:S[4],flag:O})]})}),Object(z.jsx)(y.a,{span:5,children:Object(z.jsxs)(w.a,{children:[Object(z.jsx)(y.a,{span:12,children:Object(z.jsx)(I.a,{onClick:function(){return N(5)},children:"\u9009\u62e9\u8f85\u52a9\u5361"})}),S[5].id&&Object(z.jsx)(ee,{data:S[5],flag:O})]})}),Object(z.jsx)(y.a,{span:5,children:Object(z.jsxs)(w.a,{children:[Object(z.jsx)(y.a,{span:12,children:Object(z.jsx)(I.a,{onClick:function(){return N(6)},children:"\u9009\u62e9\u8f85\u52a9\u5361"})}),S[6].id&&Object(z.jsx)(ee,{data:S[6],flag:O})]})}),Object(z.jsx)(q.a,{visible:n,onOk:F,onCancel:F,width:"80%",children:Object(z.jsx)(Z,{onSelect:function(e){a(!1),v(e)}})}),Object(z.jsx)(q.a,{visible:r,onOk:D,onCancel:D,width:"80%",children:Object(z.jsx)($,{onSelect:function(e){var t={};t[p]=e,C(Object.assign({},S,t)),i(!1)}})})]})},ne=function(){var e=T.get("skills").value(),t=T.get("supports").value(),n=Object(d.useState)(e),a=Object(l.a)(n,2),c=a[0],s=a[1],r=Object(d.useState)(t),i=Object(l.a)(r,2),j=i[0],b=i[1],O=Object(d.useState)([]),u=Object(l.a)(O,2),o=u[0],x=u[1],p={"\u30ce\u30fc\u30de\u30eb":"\u666e\u901a","\u30ec\u30a2":"\u91d1\u8272 \u7a00\u6709","\u56fa\u6709":"\u72ec\u7279"};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(I.a,{onClick:function(){x(new Array),s(e)},children:"\u91cd\u7f6e"}),Object(z.jsx)(G,{options:[{label:"\u901a\u7528",value:"normal"},{label:"\u77ed\u8ddd",value:"\uff1c\u77ed\u8ddd\u96e2\uff1e"},{label:"\u82f1\u91cc",value:"\uff1c\u30de\u30a4\u30eb\uff1e"},{label:"\u4e2d\u8ddd",value:"\uff1c\u4e2d\u8ddd\u96e2\uff1e"},{label:"\u957f\u8ddd",value:"\uff1c\u9577\u8ddd\u96e2\uff1e"},{label:"\u9003",value:"\uff1c\u4f5c\u6226\u30fb\u9003\u3052\uff1e"},{label:"\u5148",value:"\uff1c\u4f5c\u6226\u30fb\u5148\u884c\uff1e"},{label:"\u5dee",value:"\uff1c\u4f5c\u6226\u30fb\u5dee\u3057\uff1e"},{label:"\u8ffd",value:"\uff1c\u4f5c\u6226\u30fb\u8ffd\u8fbc\uff1e"}],value:o,onChange:function(n){x(n);var a=e;if(n.length&&(a=e.filter((function(e){var t=0;return n.map((function(n){("normal"===n&&-1===e.describe.indexOf("\uff1c")&&-1===e.describe.indexOf("\uff1e")||-1!==e.describe.indexOf(n))&&(t=1)})),t}))),s(a),a.length===e.length)b(t);else{var c=t.filter((function(e){var t=0;return a.map((function(n){-1!==e.skillList.indexOf(n.id)&&(t=1)})),t}));b(c)}}}),["\u30ce\u30fc\u30de\u30eb","\u30ec\u30a2","\u56fa\u6709"].map((function(e){return Object(z.jsxs)(w.a,{gutter:[8,8],children:[Object(z.jsx)(D.a,{children:p[e]}),c.filter((function(t){return t.rare===e})).map((function(t){return Object(z.jsx)(F.a,{content:Object(z.jsx)("p",{children:t.describe},t.id),title:t.name,className:"skill-button",children:Object(z.jsxs)(I.a,{size:"large",className:"skill-button-"+e,children:[Object(z.jsx)(L.a,{src:E+t.imgUrl,preview:!1,width:26}),t.name]})},t.id)}))]},e)})),Object(z.jsx)($,{supportList:j})]})},ae=function(){return Object(z.jsxs)(x.a,{children:[Object(z.jsxs)(S.a,{className:"layout",children:[Object(z.jsx)(A,{style:{position:"fixed",zIndex:1,width:"100%"},children:Object(z.jsxs)(C.a,{theme:"dark",mode:"horizontal",children:[Object(z.jsx)(C.a.Item,{children:Object(z.jsx)(x.b,{to:"/",children:"\u89d2\u8272"})},"1"),Object(z.jsx)(C.a.Item,{children:Object(z.jsx)(x.b,{to:"/support",children:"\u652f\u63f4\u5361"})},"2"),Object(z.jsx)(C.a.Item,{children:Object(z.jsx)(x.b,{to:"/skill",children:"\u6280\u80fd"})},"4"),Object(z.jsx)(C.a.Item,{children:Object(z.jsx)(x.b,{to:"/nurturing",children:"\u80b2\u6210"})},"3")]})}),Object(z.jsxs)(J,{style:{padding:"80px 50px"},children:[Object(z.jsx)(p.a,{exact:!0,path:"/",component:Z}),Object(z.jsx)(p.a,{path:"/support",component:$}),Object(z.jsx)(p.a,{path:"/nurturing",component:te}),Object(z.jsx)(p.a,{path:"/skill",component:ne})]})]}),Object(z.jsx)(Y,{children:Object(z.jsxs)(w.a,{gutter:[16,16],children:[Object(z.jsx)(y.a,{children:Object(z.jsx)(F.a,{content:Object(z.jsx)(L.a,{src:"img/z.jpg",width:200}),children:Object(z.jsx)(I.a,{placement:"bottom",children:"zfb"})})}),Object(z.jsx)(y.a,{children:Object(z.jsx)(F.a,{content:Object(z.jsx)(L.a,{src:"img/q.jpg",width:300}),children:Object(z.jsx)("a",{target:"_blank",href:"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi",children:Object(z.jsx)("img",{border:"0",src:"//pub.idqqimg.com/wpa/images/group.png",alt:"\u8f7b \u677e \u8d5b \u9a6c",title:"\u8f7b \u677e \u8d5b \u9a6c"})})})})]})})]})}},157:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.0c4d4be4.chunk.js.map